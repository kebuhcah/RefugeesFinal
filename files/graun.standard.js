/* taken from the Guardian. this script is loaded by all Guardian web pages */
!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,r,o){for(var a,u,s=0,c=[];s<e.length;s++)u=e[s],i[u]&&c.push(i[u][0]),i[u]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);for(n&&n(e,r,o);c.length;)c.shift()()};var r={},i={17:0};return e.e=function(t){function n(){o.onerror=o.onload=null,clearTimeout(a);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}if(0===i[t])return Promise.resolve();if(i[t])return i[t][2];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.timeout=12e4,e.nc&&o.setAttribute("nonce",e.nc),o.src=e.p+""+{0:"7e473ba536a64c44599c",1:"36ddcfe9c17aab4ed391",2:"9d8269cb469867939316",3:"4097f0dc59ef926d51ed",4:"ddbdb7b1cedeb1813a0a",5:"52d8f5864af1dd625f0e",6:"2576871ca538e01d05f1",7:"a0c270cd76cdb283fa0e",8:"92cfe02109a3ff35c3d6",9:"400a5321f3851dd3bf3e",10:"aae4d527259488643f77",11:"10a5280742780e286cc3",12:"e10c38c2cfeb9b3aaffa",13:"b676593c4fd4ccbea5f4",14:"a82dba888cdcbf65103c"}[t]+"/graun."+({0:"commercial",1:"ophan-embed",2:"article",3:"crosswords",4:"media",5:"enhanced",6:"facia",7:"profile",8:"membership",9:"football",10:"devtools",11:"youtube",13:"recipes",14:"newsletters"}[t]||t)+".js";var a=setTimeout(n,12e4);o.onerror=o.onload=n;var u=new Promise(function(e,n){i[t]=[e,n]});return i[t][2]=u,r.appendChild(o),u},e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=372)}([function(t,e,n){var r,i;r=[t,e],i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.guardian.config,r=function(t){return(n.page.tones||"").includes(t)},i=function(t){return(n.page.series||"").includes(t)},o=function(t){return(n.page.references||[]).filter(function(e){return"undefined"!=typeof e[t]}).map(function(e){return e[t]})},a=function(t){return o(t)[0]},u=function(){if(n.page.webPublicationDate){var t=new Date(n.page.webPublicationDate);return t.getFullYear()+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getDate().toString().padStart(2,"0")}return null},s=function(){var t=n.page.pageId.match(/\d{4}\/\w{3}\/\d{2}/);return t?t[0]:null},c=["Video","Audio"].includes(n.page.contentType);e.default=Object.assign({hasTone:r,hasSeries:i,referencesOfType:o,referenceOfType:a,webPublicationDateAsUrlPart:u,dateFromSlug:s,isMedia:c},n),t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(33)],i=function(t){function e(e){return!(!e||!t[typeof e])}return e}.apply(e,r),!(void 0!==i&&(t.exports=i))},,function(t,e,n){var r,i;/*!
  * @preserve Qwery - A Blazing Fast query selector engine
  * https://github.com/ded/qwery
  * copyright Dustin Diaz 2012
  * MIT License
  */
!function(o,a,u){"undefined"!=typeof t&&t.exports?t.exports=u():(r=u,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i)))}("qwery",this,function(){function t(){this.c={}}function e(t){return J.g(t)||J.s(t,"(^|\\s+)"+t+"(\\s+|$)",1)}function n(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n])}function r(t){for(var e=[],n=0,r=t.length;n<r;++n)v(t[n])?e=e.concat(t[n]):e[e.length]=t[n];return e}function i(t){for(var e=0,n=t.length,r=[];e<n;e++)r[e]=t[e];return r}function o(t){for(;(t=t.previousSibling)&&1!=t[T];);return t}function a(t){return t.match(V)}function u(t,n,r,i,o,a,u,s,l,f,d){var p,h,v,m,g;if(1!==this[T])return!1;if(n&&"*"!==n&&this[O]&&this[O].toLowerCase()!==n)return!1;if(r&&(h=r.match(A))&&h[1]!==this.id)return!1;if(r&&(g=r.match(j)))for(p=g.length;p--;)if(!e(g[p].slice(1)).test(this.className))return!1;if(l&&y.pseudos[l]&&!y.pseudos[l](this,d))return!1;if(i&&!u){m=this.attributes;for(v in m)if(Object.prototype.hasOwnProperty.call(m,v)&&(m[v].name||v)==o)return this}return!(i&&!c(a,Z(this,o)||"",u))&&this}function s(t){return X.g(t)||X.s(t,t.replace(D,"\\$1"))}function c(t,e,n){switch(t){case"=":return e==n;case"^=":return e.match(K.g("^="+n)||K.s("^="+n,"^"+s(n),1));case"$=":return e.match(K.g("$="+n)||K.s("$="+n,s(n)+"$",1));case"*=":return e.match(K.g(n)||K.s(n,s(n),1));case"~=":return e.match(K.g("~="+n)||K.s("~="+n,"(?:^|\\s+)"+s(n)+"(?:\\s+|$)",1));case"|=":return e.match(K.g("|="+n)||K.s("|="+n,"^"+s(n)+"(-|$)",1))}return 0}function l(t,e){var r,i,o,s,c,l,f,p=[],h=[],v=e,m=G.g(t)||G.s(t,t.split(z)),y=t.match($);if(!m.length)return p;if(s=(m=m.slice(0)).pop(),m.length&&(o=m[m.length-1].match(L))&&(v=g(e,o[1])),!v)return p;for(l=a(s),c=v!==e&&9!==v[T]&&y&&/^[+~]$/.test(y[y.length-1])?function(t){for(;v=v.nextSibling;)1==v[T]&&(l[1]?l[1]==v[O].toLowerCase():1)&&(t[t.length]=v);return t}([]):v[k](l[1]||"*"),r=0,i=c.length;r<i;r++)(f=u.apply(c[r],l))&&(p[p.length]=f);return m.length?(n(p,function(t){d(t,m,y)&&(h[h.length]=t)}),h):p}function f(t,e,n){if(p(e))return t==e;if(v(e))return!!~r(e).indexOf(t);for(var i,o,s=e.split(",");e=s.pop();)if(i=G.g(e)||G.s(e,e.split(z)),o=e.match($),i=i.slice(0),u.apply(t,a(i.pop()))&&(!i.length||d(t,i,o,n)))return!0;return!1}function d(t,e,n,r){function i(t,r,s){for(;s=Q[n[r]](s,t);)if(p(s)&&u.apply(s,a(e[r]))){if(!r)return s;if(o=i(s,r-1,s))return o}}var o;return(o=i(t,e.length-1,t))&&(!r||Y(o,r))}function p(t,e){return t&&"object"==typeof t&&(e=t[T])&&(1==e||9==e)}function h(t){var e,n,r=[];t:for(e=0;e<t.length;++e){for(n=0;n<r.length;++n)if(r[n]==t[e])continue t;r[r.length]=t[e]}return r}function v(t){return"object"==typeof t&&isFinite(t.length)}function m(t){return t?"string"==typeof t?y(t)[0]:!t[T]&&v(t)?t[0]:t:_}function g(t,e,n){return 9===t[T]?t.getElementById(e):t.ownerDocument&&((n=t.ownerDocument.getElementById(e))&&Y(n,t)&&n||!Y(t,t.ownerDocument)&&b('[id="'+e+'"]',t)[0])}function y(t,e){var n,o,a=m(e);if(!a||!t)return[];if(t===window||p(t))return!e||t!==window&&p(a)&&Y(t,a)?[t]:[];if(t&&v(t))return r(t);if(n=t.match(W)){if(n[1])return(o=g(a,n[1]))?[o]:[];if(n[2])return i(a[k](n[2]));if(tt&&n[3])return i(a[E](n[3]))}return b(t,a)}function w(t,e){return function(n){var r,i;return I.test(n)?void(9!==t[T]&&((i=r=t.getAttribute("id"))||t.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,e(t.parentNode||t,n,!0),r||t.removeAttribute("id"))):void(n.length&&e(t,n,!1))}}var b,_=document,x=_.documentElement,E="getElementsByClassName",k="getElementsByTagName",S="querySelectorAll",C="useNativeQSA",O="tagName",T="nodeType",A=/#([\w\-]+)/,j=/\.[\w\-]+/g,L=/^#([\w\-]+)$/,P=/^\.([\w\-]+)$/,M=/^([\w\-]+)$/,R=/^([\w]+)?\.([\w\-]+)$/,I=/(^|,)\s*[>~+]/,N=/^\s+|\s*([,\s\+\~>]|$)\s*/g,q=/[\s\>\+\~]/,U=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,D=/([.*+?\^=!:${}()|\[\]\/\\])/g,B=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,F=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,H=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,W=new RegExp(L.source+"|"+M.source+"|"+P.source),$=new RegExp("("+q.source+")"+U.source,"g"),z=new RegExp(q.source+U.source),V=new RegExp(B.source+"("+F.source+")?("+H.source+")?"),Q={" ":function(t){return t&&t!==x&&t.parentNode},">":function(t,e){return t&&t.parentNode==e.parentNode&&t.parentNode},"~":function(t){return t&&t.previousSibling},"+":function(t,e,n,r){return!!t&&((n=o(t))&&(r=o(e))&&n==r&&n)}};t.prototype={g:function(t){return this.c[t]||void 0},s:function(t,e,n){return e=n?new RegExp(e):e,this.c[t]=e}};var J=new t,X=new t,K=new t,G=new t,Y="compareDocumentPosition"in x?function(t,e){return 16==(16&e.compareDocumentPosition(t))}:"contains"in x?function(t,e){return e=9===e[T]||e==window?x:e,e!==t&&e.contains(t)}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},Z=function(){var t=_.createElement("p");return(t.innerHTML='<a href="#x">x</a>')&&"#x"!=t.firstChild.getAttribute("href")?function(t,e){return"class"===e?t.className:"href"===e||"src"===e?t.getAttribute(e,2):t.getAttribute(e)}:function(t,e){return t.getAttribute(e)}}(),tt=!!_[E],et=_.querySelector&&_[S],nt=function(t,e){var r,o,a=[];try{return 9!==e[T]&&I.test(t)?(n(r=t.split(","),w(e,function(t,e){o=t[S](e),1==o.length?a[a.length]=o.item(0):o.length&&(a=a.concat(i(o)))})),r.length>1&&a.length>1?h(a):a):i(e[S](t))}catch(t){}return rt(t,e)},rt=function(t,r){var i,o,a,u,s,c,f=[];if(t=t.replace(N,"$1"),o=t.match(R)){for(s=e(o[2]),i=r[k](o[1]||"*"),a=0,u=i.length;a<u;a++)s.test(i[a].className)&&(f[f.length]=i[a]);return f}return n(c=t.split(","),w(r,function(t,e,n){for(s=l(e,t),a=0,u=s.length;a<u;a++)(9===t[T]||n||Y(s[a],r))&&(f[f.length]=s[a])})),c.length>1&&f.length>1?h(f):f},it=function(t){"undefined"!=typeof t[C]&&(b=t[C]&&et?nt:rt)};return it({useNativeQSA:!0}),y.configure=it,y.uniq=h,y.is=f,y.pseudos={},y})},,function(t,e,n){var r,i;r=[],i=function(){function t(t){return"function"==typeof t&&r.test(t)}var e=Object.prototype,n=e.toString,r=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return t}.apply(e,r),!(void 0!==i&&(t.exports=i))},,function(t,e,n){var r,i;r=[t,e,n(81)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n);e.default=new i.default,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,i;r=[e,n(87),n(104)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.session=t.local=void 0;var i=r(e),o=r(n),a=function(){function t(e){(0,i.default)(this,t),this.storage=window[e],this.available=this.isAvailable()}return(0,o.default)(t,[{key:"isAvailable",value:function(){var t="local-storage-module-test";if(void 0!==this.available)return this.available;try{this.storage.setItem(t,"graun"),this.storage.removeItem(t),this.available=!0}catch(t){this.available=!1}return this.available}},{key:"get",value:function(t){if(this.available){var e=void 0;try{var n=this.getRaw(t);if(null===n||void 0===n)return null;if(e=JSON.parse(n),null===e)return null}catch(e){return this.remove(t),null}return e.expires&&new Date>new Date(e.expires)?(this.remove(t),null):e.value}}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.available)return this.storage.setItem(t,JSON.stringify({value:e,expires:n.expires}))}},{key:"getRaw",value:function(t){if(this.available)return this.storage.getItem(t)}},{key:"remove",value:function(t){if(this.available)return this.storage.removeItem(t)}}]),t}();t.local=new a("localStorage"),t.session=new a("sessionStorage")}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,function(t,e,n){var r,i;/*!
  * Bonzo: DOM Utility (c) Dustin Diaz 2012
  * https://github.com/ded/bonzo
  * License MIT
  */
!function(o,a,u){"undefined"!=typeof t&&t.exports?t.exports=u():(r=u,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i)))}("bonzo",this,function(){function t(t,e){var n=null,r=O.defaultView.getComputedStyle(t,"");return r&&(n=r[e]),t.style[e]||n}function e(t){return t&&t.nodeName&&(1==t.nodeType||11==t.nodeType)}function n(t,n,r){var i,o,a;if("string"==typeof t)return x.create(t);if(e(t)&&(t=[t]),r){for(a=[],i=0,o=t.length;i<o;i++)a[i]=y(n,t[i]);return a}return t}function r(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e,n,r){for(var i,o=0,a=t.length;o<a;o++)i=r?t.length-o-1:o,e.call(n||t[i],t[i],i,t);return t}function o(t,n,r){for(var i=0,a=t.length;i<a;i++)e(t[i])&&(o(t[i].childNodes,n,r),n.call(r||t[i],t[i],i,t));return t}function a(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function u(t){return t?t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():t}function s(t){t[z]("data-node-uid")||t[$]("data-node-uid",++B);var e=t[z]("data-node-uid");return D[e]||(D[e]={})}function c(t){var e=t[z]("data-node-uid");e&&delete D[e]}function l(t){var e;try{return null===t||void 0===t?void 0:"true"===t||"false"!==t&&("null"===t?null:(e=parseFloat(t))==t?e:t)}catch(t){}}function f(t,e,n){for(var r=0,i=t.length;r<i;++r)if(e.call(n||null,t[r],r,t))return!0;return!1}function d(t){return"transform"==t&&(t=V.transform)||/^transform-?[Oo]rigin$/.test(t)&&(t=V.transform+"Origin"),t?a(t):null}function p(t,e,r,o){var a=0,u=e||this,s=[],c=K&&"string"==typeof t&&"<"!=t.charAt(0)?K(t):t;return i(n(c),function(t,e){i(u,function(n){r(t,s[a++]=e>0?y(u,n):n)},null,o)},this,o),u.length=a,i(s,function(t){u[--a]=t},null,!o),u}function h(t,e,n){var r=x(t),i=r.css("position"),o=r.offset(),a="relative",u=i==a,s=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==i&&(r.css("position",a),i=a),isNaN(s[0])&&(s[0]=u?0:t.offsetLeft),isNaN(s[1])&&(s[1]=u?0:t.offsetTop),null!=e&&(t.style.left=e-o.left+s[0]+W),null!=n&&(t.style.top=n-o.top+s[1]+W)}function v(t,e){return"function"==typeof e?e.call(t,t):e}function m(t,e,n){var r=this[0];return r?null==t&&null==e?(w(r)?b():{x:r.scrollLeft,y:r.scrollTop})[n]:(w(r)?C.scrollTo(t,e):(null!=t&&(r.scrollLeft=t),null!=e&&(r.scrollTop=e)),this):this}function g(t){if(this.length=0,t){t="string"==typeof t||t.nodeType||"undefined"==typeof t.length?[t]:t,this.length=t.length;for(var e=0;e<t.length;e++)this[e]=t[e]}}function y(t,e){var n,r,i,o=e.cloneNode(!0);if(t.$&&"function"==typeof t.cloneEvents)for(t.$(o).cloneEvents(e),n=t.$(o).find("*"),r=t.$(e).find("*"),i=0;i<r.length;i++)t.$(n[i]).cloneEvents(r[i]);return o}function w(t){return t===C||/^(?:body|html)$/i.test(t.tagName)}function b(){return{x:C.pageXOffset||T.scrollLeft,y:C.pageYOffset||T.scrollTop}}function _(t){var e=document.createElement("script"),n=t.match(P);return e.src=n[1],e}function x(t){return new g(t)}var E,k,S,C=window,O=C.document,T=O.documentElement,A="parentNode",j=/^(checked|value|selected|disabled)$/i,L=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,P=/\s*<script +src=['"]([^'"]+)['"]>/,M=["<table>","</table>",1],R=["<table><tbody><tr>","</tr></tbody></table>",3],I=["<select>","</select>",1],N=["_","",0,1],q={thead:M,tbody:M,tfoot:M,colgroup:M,caption:M,tr:["<table><tbody>","</tbody></table>",2],th:R,td:R,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:I,optgroup:I,script:N,style:N,link:N,param:N,base:N},U=/^(checked|selected|disabled)$/,D={},B=0,F=/^-?[\d\.]+$/,H=/^data-(.+)$/,W="px",$="setAttribute",z="getAttribute",V=function(){var t=O.createElement("p");return{transform:function(){var e,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(e=0;e<n.length;e++)if(n[e]in t.style)return n[e]}(),classList:"classList"in t}}(),Q=/\s+/,J=String.prototype.toString,X={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},K=O.querySelectorAll&&function(t){return O.querySelectorAll(t)};return V.classList?(E=function(t,e){return t.classList.contains(e)},k=function(t,e){t.classList.add(e)},S=function(t,e){t.classList.remove(e)}):(E=function(t,e){return r(e).test(t.className)},k=function(t,e){t.className=(t.className+" "+e).trim()},S=function(t,e){t.className=t.className.replace(r(e)," ").trim()}),g.prototype={get:function(t){return this[t]||null},each:function(t,e){return i(this,t,e)},deepEach:function(t,e){return o(this,t,e)},map:function(t,e){var n,r,i=[];for(r=0;r<this.length;r++)n=t.call(this,this[r],r),e?e(n)&&i.push(n):i.push(n);return i},html:function(t,e){var r=e?"textContent":"innerHTML",o=this,a=function(e,r){i(n(t,o,r),function(t){e.appendChild(t)})},u=function(n,i){try{if(e||"string"==typeof t&&!L.test(n.tagName))return n[r]=t}catch(t){}a(n,i)};return"undefined"!=typeof t?this.empty().each(u):this[0]?this[0][r]:""},text:function(t){return this.html(t,!0)},append:function(t){var e=this;return this.each(function(r,o){i(n(t,e,o),function(t){r.appendChild(t)})})},prepend:function(t){var e=this;return this.each(function(r,o){var a=r.firstChild;i(n(t,e,o),function(t){r.insertBefore(t,a)})})},appendTo:function(t,e){return p.call(this,t,e,function(t,e){t.appendChild(e)})},prependTo:function(t,e){return p.call(this,t,e,function(t,e){t.insertBefore(e,t.firstChild)},1)},before:function(t){var e=this;return this.each(function(r,o){i(n(t,e,o),function(t){r[A].insertBefore(t,r)})})},after:function(t){var e=this;return this.each(function(r,o){i(n(t,e,o),function(t){r[A].insertBefore(t,r.nextSibling)},null,1)})},insertBefore:function(t,e){return p.call(this,t,e,function(t,e){t[A].insertBefore(e,t)})},insertAfter:function(t,e){return p.call(this,t,e,function(t,e){var n=t.nextSibling;n?t[A].insertBefore(e,n):t[A].appendChild(e)},1)},replaceWith:function(t){var e=this;return this.each(function(r,o){i(n(t,e,o),function(t){r[A]&&r[A].replaceChild(t,r)})})},clone:function(t){var e,n,r=[];for(n=0,e=this.length;n<e;n++)r[n]=y(t||this,this[n]);return x(r)},addClass:function(t){return t=J.call(t).split(Q),this.each(function(e){i(t,function(t){t&&!E(e,v(e,t))&&k(e,v(e,t))})})},removeClass:function(t){return t=J.call(t).split(Q),this.each(function(e){i(t,function(t){t&&E(e,v(e,t))&&S(e,v(e,t))})})},hasClass:function(t){return t=J.call(t).split(Q),f(this,function(e){return f(t,function(t){return t&&E(e,t)})})},toggleClass:function(t,e){return t=J.call(t).split(Q),this.each(function(n){i(t,function(t){t&&("undefined"!=typeof e?e?!E(n,t)&&k(n,t):S(n,t):E(n,t)?S(n,t):k(n,t))})})},show:function(t){return t="string"==typeof t?t:"",this.each(function(e){e.style.display=t})},hide:function(){return this.each(function(t){t.style.display="none"})},toggle:function(t,e){return e="string"==typeof e?e:"","function"!=typeof t&&(t=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":e,t&&t.call(n)})},first:function(){return x(this.length?this[0]:[])},last:function(){return x(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(A)},related:function(t){return x(this.map(function(e){for(e=e[t];e&&1!==e.nodeType;)e=e[t];return e||0},function(t){return t}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(e,n){function r(t,e,n){for(var r in o)if(o.hasOwnProperty(r)){n=o[r],(e=d(r))&&F.test(n)&&!(e in X)&&(n+=W);try{t.style[e]=v(t,n)}catch(t){}}}var i,o=e;return void 0===n&&"string"==typeof e?(n=this[0],n?n===O||n===C?(i=n===O?x.doc():x.viewport(),"width"==e?i.width:"height"==e?i.height:""):(e=d(e))?t(n,e):null:null):("string"==typeof e&&(o={},o[e]=n),this.each(r))},offset:function(t,e){if(t&&"object"==typeof t&&("number"==typeof t.top||"number"==typeof t.left))return this.each(function(e){h(e,t.left,t.top)});if("number"==typeof t||"number"==typeof e)return this.each(function(n){h(n,t,e)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,i=n.getBoundingClientRect(),o=b(),a=n.offsetWidth,u=n.offsetHeight,s=i.top+o.y-Math.max(0,r&&r.clientTop,O.body.clientTop),c=i.left+o.x-Math.max(0,r&&r.clientLeft,O.body.clientLeft);return{top:s,left:c,height:u,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var t=this[0],e=9==t.nodeType&&t.documentElement,n=e||!t.style||t.offsetWidth||t.offsetHeight?null:function(e){var n={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""};return e.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=e?Math.max(t.body.scrollWidth,t.body.offsetWidth,e.scrollWidth,e.offsetWidth,e.clientWidth):t.offsetWidth,i=e?Math.max(t.body.scrollHeight,t.body.offsetHeight,e.scrollHeight,e.offsetHeight,e.clientHeight):t.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(t,e){var n,r=this[0];if("string"!=typeof t&&!(t instanceof String)){for(n in t)t.hasOwnProperty(n)&&this.attr(n,t[n]);return this}return"undefined"==typeof e?r?j.test(t)?!(!U.test(t)||"string"!=typeof r[t])||r[t]:r[z](t):null:this.each(function(n){j.test(t)?n[t]=v(n,e):n[$](t,v(n,e))})},removeAttr:function(t){return this.each(function(e){U.test(t)?e[t]=!1:e.removeAttribute(t)})},val:function(t){return"string"==typeof t||"number"==typeof t?this.attr("value",t):this.length?this[0].value:null},data:function(t,e){var n,r,o=this[0];return"undefined"==typeof e?o?(n=s(o),"undefined"==typeof t?(i(o.attributes,function(t){(r=(""+t.name).match(H))&&(n[a(r[1])]=l(t.value))}),n):("undefined"==typeof n[t]&&(n[t]=l(this.attr("data-"+u(t)))),n[t])):null:this.each(function(n){s(n)[t]=e})},remove:function(){return this.deepEach(c),this.detach()},empty:function(){return this.each(function(t){for(o(t.childNodes,c);t.firstChild;)t.removeChild(t.firstChild)})},detach:function(){return this.each(function(t){t[A]&&t[A].removeChild(t)})},scrollTop:function(t){return m.call(this,null,t,"y")},scrollLeft:function(t){return m.call(this,t,null,"x")}},x.setQueryEngine=function(t){K=t,delete x.setQueryEngine},x.aug=function(t,e){for(var n in t)t.hasOwnProperty(n)&&((e||g.prototype)[n]=t[n])},x.create=function(t){return"string"==typeof t&&""!==t?function(){if(P.test(t))return[_(t)];var e=t.match(/^\s*<([^\s>]+)/),n=O.createElement("div"),r=[],o=e?q[e[1].toLowerCase()]:null,a=o?o[2]+1:1,u=o&&o[3],s=A;for(n.innerHTML=o?o[0]+t+o[1]:t;a--;)n=n.firstChild;u&&n&&1!==n.nodeType&&(n=n.nextSibling);do e&&1!=n.nodeType||r.push(n);while(n=n.nextSibling);return i(r,function(t){t[s]&&t[s].removeChild(t)}),r}():e(t)?[t.cloneNode(!0)]:[]},x.doc=function(){var t=x.viewport();return{width:Math.max(O.body.scrollWidth,T.scrollWidth,t.width),height:Math.max(O.body.scrollHeight,T.scrollHeight,t.height)}},x.firstChild=function(t){for(var e,n=t.childNodes,r=0,i=n&&n.length||0;r<i;r++)1===n[r].nodeType&&(e=n[i=r]);return e},x.viewport=function(){return{width:C.innerWidth,height:C.innerHeight}},x.isAncestor="compareDocumentPosition"in T?function(t,e){return 16==(16&t.compareDocumentPosition(e))}:function(t,e){return t!==e&&t.contains(e)},x})},function(t,e,n){var r,i;r=[],i=function(){function t(t){return"function"==typeof t}var e="[object Function]",n=Object.prototype,r=n.toString;return t(/x/)&&(t=function(t){return"function"==typeof t&&r.call(t)==e}),t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r=n(114)("wks"),i=n(116),o=n(20).Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},function(t,e,n){var r;!function(i){"use strict";function o(){this.frames=[],this.lastId=0,this.raf=a,this.batch={hash:{},read:[],write:[],mode:null}}var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};o.prototype.read=function(t,e){var n=this.add("read",t,e),r=n.id;this.batch.read.push(n.id);var i="reading"===this.batch.mode||this.batch.scheduled;return i?r:(this.scheduleBatch(),r)},o.prototype.write=function(t,e){var n=this.add("write",t,e),r=this.batch.mode,i=n.id;this.batch.write.push(n.id);var o="writing"===r||"reading"===r||this.batch.scheduled;return o?i:(this.scheduleBatch(),i)},o.prototype.defer=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=1);var r=this,i=t-1;return this.schedule(i,function(){r.run({fn:e,ctx:n})})},o.prototype.clear=function(t){if("function"==typeof t)return this.clearFrame(t);var e=this.batch.hash[t];if(e){var n=this.batch[e.type],r=n.indexOf(t);delete this.batch.hash[t],~r&&n.splice(r,1)}},o.prototype.clearFrame=function(t){var e=this.frames.indexOf(t);~e&&this.frames.splice(e,1)},o.prototype.scheduleBatch=function(){var t=this;this.schedule(0,function(){t.batch.scheduled=!1,t.runBatch()}),this.batch.scheduled=!0},o.prototype.uniqueId=function(){return++this.lastId},o.prototype.flush=function(t){for(var e;e=t.shift();)this.run(this.batch.hash[e])},o.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(t){throw this.runBatch(),t}},o.prototype.add=function(t,e,n){var r=this.uniqueId();return this.batch.hash[r]={id:r,fn:e,ctx:n,type:t}},o.prototype.run=function(t){var e=t.ctx||this,n=t.fn;if(delete this.batch.hash[t.id],!this.onError)return n.call(e);try{n.call(e)}catch(t){this.onError(t)}},o.prototype.loop=function(){var t=this,e=this.raf;this.looping||(e(function n(){var r=t.frames.shift();t.frames.length?e(n):t.looping=!1,r&&r()}),this.looping=!0)},o.prototype.schedule=function(t,e){return this.frames[t]?this.schedule(t+1,e):(this.loop(),this.frames[t]=e)},i=i||new o,"undefined"!=typeof t&&t.exports?t.exports=i:(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}(window.fastdom)},function(t,e,n){t.exports=!n(56)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,function(t,e,n){var r,i;r=[n(7),n(43),n(23),n(50)],i=function(t,e,n,r){function i(e){"matchMedia"in e?o(e):(c.call(e),t.on("window:throttledResize",c))}function o(t){B.forEach(function(e,n,r){e.mql=n<r.length-1?t.matchMedia("(min-width:"+e.width+"px) and (max-width:"+(r[n+1].width-1)+"px)"):t.matchMedia("(min-width:"+e.width+"px)"),e.listener=a.bind(e),e.mql.addListener(e.listener),e.listener(e.mql)})}function a(t){t.matches&&u(this)}function u(t){t.isTweakpoint?(U=t.name,q=s(U)):q=U=t.name}function s(t){for(var e=F.indexOf(t),n=B[e];e>=0&&n.isTweakpoint;)e-=1,n=B[e];return n.name}function c(){var t=window.getComputedStyle(document.body,"::after"),e=t.content.substring(1,t.content.length-1),n=F.indexOf(e);u(B[n])}function l(t){var e=O(t);return function(n){var r=O(t);r!==e&&(n(r,e),e=r)}}function f(){return"navigation"in r&&r.navigation.type===r.navigation.TYPE_RELOAD}function d(){return/(iPad|iPhone|iPod touch)/i.test(navigator.userAgent)}function p(){return/Android/i.test(navigator.userAgent)}function h(){return navigator.mozApps&&!window.locationbar.visible}function v(){return navigator.userAgent.indexOf("FBAN/")>-1}function m(){return navigator.userAgent.indexOf("Twitter for iPhone")>-1}function g(){return/\.t\.co/.test(document.referrer)}function y(){return/\.facebook\.com/.test(document.referrer)}function w(){return/\.theguardian\.com/.test(document.referrer)}function b(){var t=/socialContext=(facebook|twitter)/.exec(window.location.hash);return null!==t?t[1]:v()||y()?"facebook":m()||g()?"twitter":null}function _(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function x(){return void 0!==R?R:(window.history&&history.pushState&&(R=!0,window.navigator.userAgent.match(/Android/i)&&(R=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),R)}function E(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.mp4=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return e}function k(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function S(){var t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||r.clientWidth,height:t.innerHeight||n.clientHeight||r.clientHeight}}function C(t){return t.name}function O(t){return t?U:q}function T(t){var e=t.min?F.indexOf(t.min):0,n=t.max?F.indexOf(t.max):F.length-1,r=F.indexOf(U||q);return e<=r&&r<=n}function A(){function e(e){var r="visible",i="hidden",o={focus:r,focusin:r,pageshow:r,blur:i,focusout:i,pagehide:i};e=e||window.event,D=e.type in o?o[e.type]:this[n]?"hidden":"visible",t.emit("modules:detect:pagevisibility:"+D)}var n="hidden";n in document?document.addEventListener("visibilitychange",e):"mozHidden"in document?document.addEventListener("mozvisibilitychange",e):"webkitHidden"in document?document.addEventListener("webkitvisibilitychange",e):"msHidden"in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e}function j(){return"visible"===D}function L(){return"WebSocket"in window}function P(){return window.guardian.isEnhanced}function M(){return document.referrer||""}var R,I,N,q,U,D=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible",B=[{name:"mobile",isTweakpoint:!1,width:0},{name:"mobileMedium",isTweakpoint:!0,width:375},{name:"mobileLandscape",isTweakpoint:!0,width:480},{name:"phablet",isTweakpoint:!0,width:660},{name:"tablet",isTweakpoint:!1,width:740},{name:"desktop",isTweakpoint:!1,width:980},{name:"leftCol",isTweakpoint:!0,width:1140},{name:"wide",isTweakpoint:!1,width:1300}],F=B.map(C);i(window),I=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(t[1]||"")):"Chrome"===n[1]&&(t=e.match(/\bOPR\/(\d+)/),null!==t)?"Opera "+t[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],t=e.match(/version\/(\d+)/i),null!==t&&n.splice(1,1,t[1]),{browser:n[0],version:n[1]})}();var H=new n(function(t){window.guardian.adBlockers.hasOwnProperty("active")?t(window.guardian.adBlockers.active):window.guardian.adBlockers.onDetect.push(t)});return N={hasCrossedBreakpoint:l,getVideoFormatSupport:E,hasTouchScreen:_,hasPushStateSupport:x,getOrientation:k,getBreakpoint:O,getViewport:S,getUserAgent:I,isIOS:d,isAndroid:p,isFireFoxOSApp:h,isFacebookApp:v,isTwitterApp:m,isFacebookReferral:y,isTwitterReferral:g,isGuardianReferral:w,socialContext:b,isBreakpoint:T,isReload:f,initPageVisibility:A,pageVisible:j,hasWebSocket:L,breakpoints:B,isEnhanced:P,adblockInUse:H,getReferrer:M,init:i}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){(function(e,n){var r,r;!function(e){t.exports=e()}(function(){var t;return function t(e,n,i){function o(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof r&&r;if(!s&&c)return r(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,n,r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
var i=t("../lib/decorators/unhandledRejection"),o=i(t("../lib/Promise"));n.exports="undefined"!=typeof e?e.Promise=o:"undefined"!=typeof self?self.Promise=o:o},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(e,n,r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),r=t("./env").asap;return e({scheduler:new n(r)})})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(e,n,r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],4:[function(e,n,r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var r=t("../env").setTimer,i=t("../format");return function(t){function o(t){t.handled||(p.push(t),l("Potentially unhandled rejection ["+t.id+"] "+i.formatError(t.value)))}function a(t){var e=p.indexOf(t);e>=0&&(p.splice(e,1),f("Handled previous rejection ["+t.id+"] "+i.formatObject(t.value)))}function u(t,e){d.push(t,e),null===h&&(h=r(s,0))}function s(){for(h=null;d.length>0;)d.shift()(d.shift())}var c,l=n,f=n;"undefined"!=typeof console&&(c=console,l="undefined"!=typeof c.error?function(t){c.error(t)}:function(t){c.log(t)},f="undefined"!=typeof c.info?function(t){c.info(t)}:function(t){c.log(t)}),t.onPotentiallyUnhandledRejection=function(t){u(o,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){u(a,t)},t.onFatalRejection=function(t){u(e,t.value)};var d=[],p=[],h=null;return t}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"../env":5,"../format":6}],5:[function(e,r,i){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof n&&"[object process]"===Object.prototype.toString.call(n)}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(t){function e(){var t=n;n=void 0,t()}var n,r=document.createTextNode(""),i=new t(e);i.observe(r,{characterData:!0});var o=0;return function(t){n=t,r.data=o^=1}}var o,a="undefined"!=typeof setTimeout&&setTimeout,u=function(t,e){return setTimeout(t,e)},s=function(t){return clearTimeout(t)},c=function(t){return a(t,0)};if(e())c=function(t){return n.nextTick(t)};else if(o=r())c=i(o);else if(!a){var l=t,f=l("vertx");u=function(t,e){return f.setTimer(e,t)},s=f.cancelTimer,c=f.runOnLoop||f.runOnContext}return{setTimer:u,clearTimer:s,asap:c}})}("function"==typeof t&&t.amd?t:function(t){r.exports=t(e)})},{}],6:[function(e,n,r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&t.stack?t.stack:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(t){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],7:[function(e,r,i){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(){return function(t){function e(t,e){this._handler=t===b?e:r(t)}function r(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}function r(t){i.notify(t)}var i=new x;try{t(e,n,r)}catch(t){n(t)}return i}function i(t){return I(t)?t:new e(b,new E(g(t)))}function o(t){return new e(b,new E(new C(t)))}function a(){return tt}function u(){return new e(b,new x)}function s(t,e){var n=new x(t.receiver,t.join().context);return new e(b,n)}function c(t){return f(z,null,t)}function l(t,e){return f(B,t,e)}function f(t,n,r){function i(e,i,a){a.resolved||d(r,o,e,t(n,i,e),a)}function o(t,e,n){l[t]=e,0===--c&&n.become(new S(l))}for(var a,u="function"==typeof n?i:o,s=new x,c=r.length>>>0,l=new Array(c),f=0;f<r.length&&!s.resolved;++f)a=r[f],void 0!==a||f in r?d(r,u,f,a,s):--c;return 0===c&&s.become(new S(l)),new e(b,s)}function d(t,e,n,r,i){if(N(r)){var o=y(r),a=o.state();0===a?o.fold(e,n,void 0,i):a>0?e(n,o.value,i):(i.become(o),p(t,n+1,o))}else e(n,r,i)}function p(t,e,n){for(var r=e;r<t.length;++r)h(g(t[r]),n)}function h(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):n<0&&t._unreport()}}function v(t){return"object"!=typeof t||null===t?o(new TypeError("non-iterable passed to race()")):0===t.length?a():1===t.length?i(t[0]):m(t)}function m(t){var n,r,i,o=new x;for(n=0;n<t.length;++n)if(r=t[n],void 0!==r||n in t){if(i=g(r),0!==i.state()){o.become(i),p(t,n+1,i);break}i.visit(o,o.resolve,o.reject)}return new e(b,o)}function g(t){return I(t)?t._handler.join():N(t)?w(t):new S(t)}function y(t){return I(t)?t._handler.join():w(t)}function w(t){try{var e=t.then;return"function"==typeof e?new k(e,t):new S(t)}catch(t){return new C(t)}}function b(){}function _(){}function x(t,n){e.createContext(this,n),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function E(t){this.handler=t}function k(t,e){x.call(this),J.enqueue(new P(t,e,this))}function S(t){e.createContext(this),this.value=t}function C(t){e.createContext(this),this.id=++Y,this.value=t,this.handled=!1,this.reported=!1,this._report()}function O(t,e){this.rejection=t,this.context=e}function T(t){this.rejection=t}function A(){return new C(new TypeError("Promise cycle"))}function j(t,e){this.continuation=t,this.handler=e}function L(t,e){this.handler=e,this.value=t}function P(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function M(t,e,n,r,i){try{t.call(e,n,r,i)}catch(t){r(t)}}function R(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=G,this.receiver=this}function I(t){return t instanceof e}function N(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function q(t,n,r,i){return"function"!=typeof t?i.become(n):(e.enterContext(n),F(t,n.value,r,i),void e.exitContext())}function U(t,n,r,i,o){return"function"!=typeof t?o.become(r):(e.enterContext(r),H(t,n,r.value,i,o),void e.exitContext())}function D(t,n,r,i,o){return"function"!=typeof t?o.notify(n):(e.enterContext(r),W(t,n,i,o),void e.exitContext())}function B(t,e,n){try{return t(e,n)}catch(t){return o(t)}}function F(t,e,n,r){try{r.become(g(t.call(n,e)))}catch(t){r.become(new C(t))}}function H(t,e,n,r,i){try{t.call(r,e,n,i)}catch(t){i.become(new C(t))}}function W(t,e,n,r){try{r.notify(t.call(n,e))}catch(t){r.notify(t)}}function $(t,e){e.prototype=K(t.prototype),e.prototype.constructor=e}function z(t,e){return e}function V(){}function Q(){return"undefined"!=typeof n&&null!==n&&"function"==typeof n.emit?function(t,e){return"unhandledRejection"===t?n.emit(t,e.value,e):n.emit(t,e)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(t){}return r?function(t,r){var i=new n(t,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(i)}:t}(V,self,CustomEvent):V}var J=t.scheduler,X=Q(),K=Object.create||function(t){function e(){}return e.prototype=t,new e};e.resolve=i,e.reject=o,e.never=a,e._defer=u,e._handler=g,e.prototype.then=function(t,e,n){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof e&&i<0)return new this.constructor(b,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,t,e,n),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype._beget=function(){return s(this._handler,this.constructor)},e.all=c,e.race=v,e._traverse=l,e._visitRemaining=p,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=V,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},b.prototype.chain=function(t,e,n,r,i){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:i})},b.prototype.visit=function(t,e,n,r){this.chain(G,t,e,n,r)},b.prototype.fold=function(t,e,n,r){this.when(new R(t,e,n,r))},$(b,_),_.prototype.become=function(t){t.fail()};var G=new _;$(b,x),x.prototype._state=0,x.prototype.resolve=function(t){this.become(g(t))},x.prototype.reject=function(t){this.resolved||this.become(new C(t))},x.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=A();return t},x.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},x.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&J.enqueue(this),void 0!==this.context&&t._report(this.context))},x.prototype.when=function(t){this.resolved?J.enqueue(new j(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},x.prototype.notify=function(t){this.resolved||J.enqueue(new L(t,this))},x.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},x.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},$(b,E),E.prototype.when=function(t){J.enqueue(new j(t,this))},E.prototype._report=function(t){this.join()._report(t)},E.prototype._unreport=function(){this.join()._unreport()},$(x,k),$(b,S),S.prototype._state=1,S.prototype.fold=function(t,e,n,r){U(t,e,this,n,r)},S.prototype.when=function(t){q(t.fulfilled,this,t.receiver,t.resolver)};var Y=0;$(b,C),C.prototype._state=-1,C.prototype.fold=function(t,e,n,r){r.become(this)},C.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),q(t.rejected,this,t.receiver,t.resolver)},C.prototype._report=function(t){J.afterQueue(new O(this,t))},C.prototype._unreport=function(){this.handled||(this.handled=!0,J.afterQueue(new T(this)))},C.prototype.fail=function(t){this.reported=!0,X("unhandledRejection",this),e.onFatalRejection(this,void 0===t?this.context:t)},O.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||e.onPotentiallyUnhandledRejection(this.rejection,this.context))},T.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||e.onPotentiallyUnhandledRejectionHandled(this.rejection))},e.createContext=e.enterContext=e.exitContext=e.onPotentiallyUnhandledRejection=e.onPotentiallyUnhandledRejectionHandled=e.onFatalRejection=V;var Z=new b,tt=new e(b,Z);return j.prototype.run=function(){this.handler.join().when(this.continuation)},L.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],D(e.progress,this.value,this.handler,e.receiver,e.resolver)},P.prototype.run=function(){function t(t){r.resolve(t)}function e(t){r.reject(t)}function n(t){r.notify(t)}var r=this.resolver;M(this._then,this.thenable,t,e,n)},R.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},R.prototype.rejected=function(t){this.to.reject(t)},R.prototype.progress=function(t){this.to.notify(t)},e}})}("function"==typeof t&&t.amd?t:function(t){r.exports=t()})},{}]},{},[1])(1)})}).call(e,n(9),n(74))},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},,function(t,e,n){var r,i;r=[t,e,n(78),n(0),n(22)],i=function(t,e,n,r,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(n),u=o(r),s=o(i),c=u.default.page,l=c.sentryPublicApiKey,f=c.sentryHost,d="https://"+l+"@"+f,p=!1,h={whitelistUrls:[/localhost/,/assets\.guim\.co\.uk/,/ophan\.co\.uk/],tags:{edition:u.default.page.edition,contentType:u.default.page.contentType,revisionNumber:u.default.page.revisionNumber},dataCallback:function(t){var e=t.culprit,n=void 0!==e&&e,r=t,i=/j.ophan.co.uk/.test(t.culprit);return n&&(r.culprit=n.replace(/\/[a-z\d]{32}(\/[^\/]+)$/,"$1")),r.tags.origin=i?"ophan":"app",r},shouldSendCallback:function(t){var e=u.default.page.isDev,n="undefined"!=typeof t.tags.ignored&&t.tags.ignored,r=u.default.switches.enableSentryReporting,i=Math.random()<.1;return e&&!n&&window.console&&window.console.warn&&window.console.warn("Raven captured error.",t),r&&i&&!n&&!p&&!e}};s.default.adblockInUse.then(function(t){p=t}),e.default=a.default.config(d,h).install(),t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,function(t,e,n){var r=n(30),i=n(57);t.exports=n(19)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(34),i=n(111),o=n(115),a=Object.defineProperty;e.f=n(19)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r,i;r=[e],i=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){var t=document.domain||"";return t.replace(/^(www|m\.code|dev|m)\./,".")},n=function(){var t=e();return"localhost"===t?"":" domain="+t+";"},r=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="expires=Thu, 01 Jan 1970 00:00:01 GMT;",i="path=/;";document.cookie=t+"=;"+i+r,n||(document.cookie=t+"=;"+i+r+" domain="+e()+";")},i=function(t,e,r){var i=new Date;r?i.setDate(i.getDate()+r):(i.setMonth(i.getMonth()+5),i.setDate(1)),document.cookie=t+"="+e+"; path=/; expires="+i.toUTCString()+";"+n()},o=function(t){t.forEach(function(t){r(t)})},a=function(t,e,r){var i=new Date;i.setMinutes(i.getMinutes()+r),document.cookie=t+"="+e+"; path=/; expires="+i.toUTCString()+";"+n()},u=function(t,e){document.cookie=t+"="+e+"; path=/;"+n()},s=function(t){var e=t+"=",n=document.cookie.split(";");return n.reduce(function(t,n){var r=n.trim();return 0===r.indexOf(e)&&t.push(r.substring(e.length,r.length)),t},[])},c=function(t){var e=s(t);return e.length>0?e[0]:null};t.cleanUp=o,t.addCookie=i,t.addSessionCookie=u,t.addForMinutes=a,t.removeCookie=r,t.getCookie=c}.apply(e,r),!(void 0!==i&&(t.exports=i))},,function(t,e,n){var r,i;r=[],i=function(){var t={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};return t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r=n(39);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={}},,,,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t}function i(t){var e={}.toString.call(t);return r(t)&&"[object Error]"===e||"[object Exception]"===e||t instanceof Error}t.exports={isObject:r,isError:i}},function(t,e,n){var r,i;r=[n(16),n(1),n(73)],i=function(t,e,n){function r(r,a,u){var s,c,l,f,d,p,h,v=0,m=!1,g=!0;if(!t(r))throw new TypeError;if(a=o(0,a)||0,u===!0){var y=!0;g=!1}else e(u)&&(y=u.leading,m="maxWait"in u&&(o(a,u.maxWait)||0),g="trailing"in u?u.trailing:g);var w=function(){var t=a-(n()-f);if(t<=0){c&&clearTimeout(c);var e=h;c=p=h=i,e&&(v=n(),l=r.apply(d,s),p||c||(s=d=null))}else p=setTimeout(w,t)},b=function(){p&&clearTimeout(p),c=p=h=i,(g||m!==a)&&(v=n(),l=r.apply(d,s),p||c||(s=d=null))};return function(){if(s=arguments,f=n(),d=this,h=g&&(p||!y),m===!1)var t=y&&!p;else{c||y||(v=f);var e=m-(f-v),i=e<=0;i?(c&&(c=clearTimeout(c)),v=f,l=r.apply(d,s)):c||(c=setTimeout(b,e))}return i&&p?p=clearTimeout(p):p||a===m||(p=setTimeout(w,a)),t&&(i=!0,l=r.apply(d,s)),!i||p||c||(s=d=null),l}}var i,o=Math.max;return r}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i,r,o,r,a,r,u,r,s,r,c,r,l,r,f,r,d,r,p,r,h;(function(){var t={}.hasOwnProperty;r=[],!(i=function(){var e,n,r,i,o,a,u,s,c,l,f;return n=function(){return(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,function(){return Math.floor(36*Math.random()).toString(36)})},s=null!=(c="undefined"!=typeof guardian&&null!==guardian&&null!=(l=guardian.config)&&null!=(f=l.ophan)?f.pageViewId:void 0)?c:n(),o=function(t){return i("//ophan.theguardian.com/i.gif?"+e(t))},u=function(t){return"string"==typeof t||"number"==typeof t?encodeURIComponent(t):encodeURIComponent(JSON.stringify(t))},a=function(e,n){var o,a,c;return JSON&&(c=function(){var n;n=[];for(o in e)t.call(e,o)&&(a=e[o],r(a)&&n.push(""+encodeURIComponent(o)+"="+u(a)));return n}(),c.length)?i("//ophan.theguardian.com/a.gif?viewId="+s+"&"+c.join("&"),n):void 0},r=function(t){return Array.isArray(t)?t.length:null!=t},e=function(e){var n,r,i;return e.viewId=s,i=function(){var i;i=[];for(n in e)t.call(e,n)&&(r=e[n],null!=r&&i.push(""+encodeURIComponent(n)+"="+encodeURIComponent(r)));return i}(),i.join("&")},i=function(t,e){var n,r;return r=new Image,n=setInterval(function(){return r.complete?("function"==typeof e&&e(),clearInterval(n)):void 0},10),r.src=t},{sendInitial:o,sendMore:a,viewId:s}}.apply(e,r))}).call(this),function(){r=[],!(o=function(){return{state:function(){return document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState},changeEvent:document.visibilityState?"visibilitychange":document.webkitVisibilityState?"webkitvisibilitychange":document.mozVisibilityState?"mozvisibilitychange":document.msVisibilityState?"msvisibilitychange":void 0}}.apply(e,r))}.call(this),function(){var t={}.hasOwnProperty;r=[i,o],!(a=function(e,n){var r,i,o,a,u,s,c,l,f,d,p,h,v;return r=14,c=window.document,s=null!=window.localStorage&&"undefined"!=typeof JSON&&null!==JSON,p=null,l=function(t,e){return p=t,"prerender"!==n.state()?h(e):n.changeEvent?c.addEventListener(n.changeEvent,function(){return"visible"===n.state()?h(e):void 0},!1):void 0},h=function(t){var s,l;return s={v:r,platform:p,url:location.href,ref:c.referrer,visibilityState:n.state(),isModernBrowser:"undefined"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:t,tz:(new Date).getTimezoneOffset(),kxkuid:null!=(l=window.localStorage)&&"function"==typeof l.getItem?l.getItem("kxkuid"):void 0},a(s),u(s),"next-gen"===p&&o(s),i(s),e.sendInitial(s)},d=[],f=function(t){var n,r,i,o;if("complete"===document.readyState){i={},n=t();for(r in n)o=n[r],i[r]=o;return e.sendMore(i)}return d.push(t)},"function"==typeof window.addEventListener&&window.addEventListener("load",function(){var t,n,r,i,o,a,u;for(i={},a=0,u=d.length;u>a;a++){t=d[a],n=t();for(r in n)o=n[r],i[r]=o}return e.sendMore(i)},!1),u=function(e){var n,r,i;if(s){if(r=JSON.parse(window.localStorage.getItem("ophan_follow")),null!=r)for(n in r)t.call(r,n)&&(i=r[n],e[n]=i);return window.localStorage.removeItem("ophan_follow")}},o=function(t){var e,n,r,i,o,a,u;if(e=function(){var t,e,r,i;for(r=document.querySelectorAll("[data-component]"),i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.getAttribute("data-component"));return i}(),e.length>0){for(i={},a=0,u=e.length;u>a;a++)n=e[a],i[n]=1;return t.renderedComponents=function(){var t;t=[];for(r in i)o=i[r],t.push(r);return t}()}},v=function(e){var n,r,i;if(s){n=JSON.parse(window.localStorage.getItem("ophan_follow"))||{};for(r in e)t.call(e,r)&&(i=e[r],n[r]=i);return window.localStorage.setItem("ophan_follow",JSON.stringify(n))}},a=function(t){var e,n,r;return e="undefined"!=typeof guardian&&null!==guardian&&null!=(n=guardian.config)&&null!=(r=n.page)?r.contentType:void 0,null!=e&&""!==e?t.contentType=e.toLowerCase():void 0},i=function(t){var e,n,r,i,o;return n=c.createElement("div"),i=c.createAttribute("class"),i.value="ad_unit",n.setAttributeNode(i),c.body.appendChild(n),r="function"==typeof window.getComputedStyle?window.getComputedStyle(n):void 0,e=function(){return"none"===r.display},o=function(){var t;return t=r.MozBinding,!!t&&-1!==t.indexOf("elemhidehit")},null!=r&&(t.adUnitWasHidden=e()||o()),c.body.removeChild(n)},{init:l,storeDataToSendOnNextEvent:v,onLoadCapture:f,servingPlatform:function(){return p},viewId:e.viewId}}.apply(e,r))}.call(this),function(){r=[],!(u=function(){var t,e,n;return e=[],n=null,t=function(){function t(t,e,r,i){this.name=t,this.element=e,this.visibilityThreshold=r,this.reportingInterval=i,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=n?(this.usingEmitter=!0,n.on("window:throttledScroll",this.visCheck)):window.addEventListener("scroll",this.visCheck),window.addEventListener("resize",this.visCheck)}return t.prototype.isVisible=function(t){var e,n,r,i,o;return null==t&&(t=1),!!this.element.offsetParent&&(e=this.element.getBoundingClientRect(),r=e.right-e.left,n=e.bottom-e.top,i=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,e.left>=-(r*(1-t))&&e.top>=-(n*(1-t))&&e.right<=o+r*(1-t)&&e.bottom<=i+n*(1-t))},t.prototype.visibilityHasChanged=function(){var t;return t=this.visible,this.visible=this.isVisible(this.visibilityThreshold),t!==this.visible},t.prototype.rebindToEventEmitter=function(){return this.usingEmitter||null==n?void 0:(window.removeEventListener("scroll",this.visCheck),this.usingEmitter=!0,n.on("window:throttledScroll",this.visCheck))},t.prototype.checkVisibility=function(){return this.rebindToEventEmitter(),this.visibilityHasChanged()?this.visible?this.makeActive():this.makeInactive():void 0},t.prototype.makeActive=function(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=new Date},t.prototype.makeInactive=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.unrecordedAttentionStarted=null},t.prototype.hadAttentionSinceLastGet=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs},t.prototype.getAttentionTime=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs},t.prototype.incrementTotalAttentionTimeByUnrecordedAmount=function(){var t,e;return null!=this.unrecordedAttentionStarted?(t=new Date,e=Math.min(t.getTime()-this.unrecordedAttentionStarted.getTime(),this.reportingInterval),this.totalAttentionMs+=e,this.unrecordedAttentionStarted=t):void 0},t}(),{setEventEmitter:function(t){return n=t},startMonitoring:function(){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],t.isVisible()&&i.push(t.makeActive());return i},stopMonitoring:function(){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.makeInactive());return i},getAttentionTimes:function(){var t,n,r,i;for(n={},r=0,i=e.length;i>r;r++)t=e[r],t.hadAttentionSinceLastGet()&&(n[t.name]=t.getAttentionTime());return n},registerComponent:function(n,r,i,o){return e.push(new t(n,r,i,o))}}}.apply(e,r))}.call(this),function(){r=[i,u],!(s=function(t,e){var n,r,i,o,a,u,s,c,l,f,d,p,h,v,m,g;return n=5e3,r=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"],i=1e4,v=0,m=null,d=0,a=null,g=!1,o=function(){return null!=a&&window.clearTimeout(a),a=null},l=function(){return null==m&&(m=new Date),e.startMonitoring(),o(),a=window.setTimeout(function(){return g?void 0:f()},n)},u=function(){var t,e;return null!=m?(t=new Date,e=Math.min(t.getTime()-m.getTime(),i),v+=e,m=t):void 0},f=function(){return o(),e.stopMonitoring(),u(),m=null},p=function(){var n,r;return u(),v!==d?(r={attentionMs:v},n=e.getAttentionTimes(),Object.keys(n).length&&(r.componentAttentionMs=n),t.sendMore(r),d=v):void 0},c=function(t,n,r){return null==r&&(r=.5),e.registerComponent(t,n,r,i)},s=function(t){var e,n,o;for(n=0,o=r.length;o>n;n++)e=r[n],window.addEventListener(e,l);return document.addEventListener(t.changeEvent,function(){return"visible"===t.state()?l():f()},!1),document.body.addEventListener("videoPlaying",function(){return g=!0,l()}),document.body.addEventListener("videoEnded",function(){return g=!1,f()}),document.body.addEventListener("videoPause",function(){return g=!1,f()}),window.setInterval(p,i)},h=function(t){return e.setEventEmitter(t)},{init:s,initComponent:c,setEventEmitter:h}}.apply(e,r))}.call(this),function(){r=[i],!(c=function(t){var e;return e=function(t){var e,n,r,i;return e=function(){return t(!1)},n=function(){return t(!0)},i=function(){var t;try{return localStorage.length?e():(localStorage.x=1,localStorage.removeItem("x"),e())}catch(e){return t=e,n()}},r=function(){var t,r;try{return t=indexedDB.open("test"),t.onsuccess=e,t.onerror=n}catch(t){return r=t,n()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,e,n):"MozAppearance"in document.documentElement.style?r():/constructor/i.test(window.HTMLElement)?i():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?e():n()},{init:function(){return e(function(e){var n;return n={inPrivateBrowsingMode:e},t.sendMore(n)})},privateBrowsingMode:e}}.apply(e,r))}.call(this),function(){r=[],!(l=function(){var t,e;return t=!1,e=function(){var e;return e=function(){var e;return"undefined"==typeof localStorage||null===localStorage||t||(t=!0,e=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1"),("true"===e||"false"===e)&&(localStorage.ophan_heatmap=e),"true"!==localStorage.ophan_heatmap&&"show"!==e)?void 0:document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"},"complete"===document.readyState?e():"function"==typeof window.addEventListener?window.addEventListener("load",function(){return e()},!1):void 0},{init:e}}.apply(e,r))}.call(this),function(){r=[a,i],!(f=function(t,e){var n,r,i;return i=function(t){var e,n;return e=null!=t&&null!=(n=t.nodeName)?n.toLowerCase():void 0,"a"===e?t:null==e||"body"===e?null:i(t.parentNode)},n=function(t){var e,r;return e=null!=t&&null!=(r=t.nodeName)?r.toLowerCase():void 0,null==e||"body"===e?null:("function"==typeof t.getAttribute?t.getAttribute("data-component"):void 0)||n(t.parentNode)},r=function(t){var e,n,r;return e=function(t){var e;return(null!=t&&null!=(e=t.nodeName)?e.toLowerCase():void 0)===document.body.nodeName.toLowerCase()},n=function(t){return t===document},(r=function(t,i){var o;return null==t||e(t)||n(t)?i:(o=t.getAttribute("data-link-name"),null!=o&&i.push(o),r(t.parentNode,i))})(t,[])},"function"==typeof document.addEventListener?document.addEventListener("click",function(o){var a,u;return a=i(o.target),u={from:[location.protocol,"//",location.host,location.pathname].join(""),to:a?a.href:void 0,referringComponent:n(o.target),referringDataLinkNames:r(o.target),refPlatform:t.servingPlatform(),refViewId:t.viewId},null!=u.referringDataLinkNames&&e.sendMore({clickComponent:u.referringComponent,clickLinkNames:u.referringDataLinkNames}),null!=a?t.storeDataToSendOnNextEvent(u):void 0},!1):void 0}.apply(e,r))}.call(this),function(){r=[a],!(d=function(t){var e,n;return e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,n=function(){var t;return t=null!=e?e.timing:void 0,null!=t?{performance:{dns:t.domainLookupEnd-t.domainLookupStart,connection:t.connectEnd-t.connectStart,firstByte:t.responseStart-t.connectEnd,lastByte:t.responseEnd-t.responseStart,domContentLoadedEvent:t.domContentLoadedEventStart-t.responseEnd,loadEvent:t.loadEventStart-t.domContentLoadedEventStart,navType:e.navigation.type,redirectCount:e.navigation.redirectCount}}:{}},t.onLoadCapture(n),e}.apply(e,r))}.call(this),function(){var t={}.hasOwnProperty;r=[a,i],!(p=function(e,n){var r,i,o,a,u,s,c,l,f;return u={},f=[],s=function(){var t;return t=f.shift(),t?window.setTimeout(t,300):void 0},l=function(e,r){var i;return u[e]=r,3===function(){var e;e=[];for(i in u)t.call(u,i)&&e.push(i);return e}().length?n.sendMore({ipConnectivity:u}):void 0},c=function(t,e){var n;return n=new XMLHttpRequest,n.timeout=5e3,n.open("GET",t,!0),n.ontimeout=function(){return e("timeout")},n.onerror=function(){return e("neterror")},n.onload=function(){var t;return 200===n.status?(t=n.responseText,e("success"+t)):e("loaderror")},n.send()},i=function(t){return 0===t.lastIndexOf("success",0)},r=function(t,e){return l(t,e),s()},o=function(t,e){return function(n){var o;return i(n)?r(t,n):(o=function(e){return i(e)||n===e?r(t,e):void 0},f.push(function(){return c(e,o)}),s())}},a=function(t,e){return f.push(function(){return c(e,o(t,e))})},a("ipv4","https://ipv4.guim.co.uk/"),a("dual","https://dual.guim.co.uk/"),a("ipv6","https://ipv6.guim.co.uk/"),Math.floor(20*Math.random())%20===0?s():void 0}.apply(e,r))}.call(this),function(){r=[a,i,s,o,c,l,f,d,p],h=function(t,e,n,r,i,o){var a;return null!=(null!=(a=window.guardian)?a.ophan:void 0)?window.guardian.ophan:(t.init("next-gen"),i.init(),o.init(),null!=window.addEventListener&&n.init(r),null==window.guardian&&(window.guardian={}),window.guardian.ophan={setEventEmitter:n.setEventEmitter,trackComponentAttention:n.initComponent,record:e.sendMore,viewId:e.viewId,pageViewId:e.viewId})}.apply(e,r),!(void 0!==h&&(t.exports=h))}.call(this)},function(t,e,n){var r,i;r=[n(16),n(47)],i=function(t,e){function n(n,r){if(!t(n))throw new TypeError;var o=function(){var t=o.cache,a=r?r.apply(this,arguments):e+arguments[0];return i.call(t,a)?t[a]:t[a]=n.apply(this,arguments)};return o.cache={},o}var r=Object.prototype,i=r.hasOwnProperty;return n}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,function(t,e,n){var r,i;r=[],i=function(){var t=+new Date+"";return t}.apply(e,r),!(void 0!==i&&(t.exports=i))},,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */
!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",this,function(){function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):t._timedOut?n(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):n(t.request)))}}function setHeaders(t,e){var n,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&e.data instanceof FormData;e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=e.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,r[n])}function setCredentials(t,e){"undefined"!=typeof e.withCredentials&&"undefined"!=typeof t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,r){var i=uniqid++,o=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(i),u=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),s=r.match(u),c=doc.createElement("script"),l=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return s?"?"===s[3]?r=r.replace(u,"$1="+a):a=s[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,"undefined"==typeof c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+i),c.onload=c.onreadystatechange=function(){return!(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l)&&(c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),e(lastValue),lastValue=void 0,head.removeChild(c),void(l=1))},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(t,e){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,u=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,o,r.async!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},u=!0):n.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(n),u?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,r,i,o,a=t.name,u=t.tagName.toLowerCase(),s=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(u){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),i=t.value,(!(n||r)||t.checked)&&e(a,normalize(n&&""===i?"on":i)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())s(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(o=0;t.length&&o<t.length;o++)t.options[o].selected&&s(t.options[o])}}function eachFormElement(){var t,e,n=this,r=function(t,e){var r,i,o;for(r=0;r<e.length;r++)for(o=t[byTag](e[r]),i=0;i<o.length;i++)serial(o[i],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n},arguments),t}function buildParams(t,e,n,r){var i,o,a,u=/\[\]$/;if(isArray(e))for(o=0;e&&o<e.length;o++)a=e[o],n||u.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(e&&"[object Object]"===e.toString())for(i in e)buildParams(t+"["+i+"]",e[i],n,r);else r(t,e)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(82)}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(t.crossOrigin===!0){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,n){t.push({name:e,value:n})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e,n=Array.prototype.slice.call(arguments,0);return t=n.pop(),t&&t.nodeType&&n.push(t)&&(t=null),t&&(t=t.type),e="map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString,e.apply(null,n)},reqwest.toQueryString=function(t,e){var n,r,i=e||!1,o=[],a=encodeURIComponent,u=function(t,e){e="function"==typeof e?e():null==e?"":e,o[o.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)u(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],i,u);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){t=t||{};for(var e in t)globalSetupOptions[e]=t[e]},reqwest})},function(t,e,n){var r,i;r=[t,e],i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance||{};e.default=n,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r,i;r=[n(49),n(0),n(26)],i=function(t,e,n){function r(e){var r;return e.url.match("^(https?:)?//")||(e.url=i+e.url,e.crossOrigin=!0),r=t(e),n.wrap({deep:!0},r.then),r}var i=e.page.ajaxUrl||"";return r.setHost=function(t){i=t},r}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,function(t,e,n){var r=n(20),i=n(24),o=n(88),a=n(29),u="prototype",s=function(t,e,n){var c,l,f,d=t&s.F,p=t&s.G,h=t&s.S,v=t&s.P,m=t&s.B,g=t&s.W,y=p?i:i[e]||(i[e]={}),w=y[u],b=p?r:h?r[e]:(r[e]||{})[u];p&&(n=e);for(c in n)l=!d&&b&&void 0!==b[c],l&&c in y||(f=l?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:m&&l?o(f,r):g&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,t&s.R&&w&&!w[c]&&a(w,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},,function(t,e,n){var r,i;r=[t,e,n(0),n(137)],i=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n),a=i(r),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r="string"==typeof t?t:t.url;return r.match("^(https?:)?//")||(r=(o.default.page.ajaxUrl||"")+r,n.mode="cors"),(0,a.default)(r,n).then(function(t){if(t.ok)return t.json();if(!t.status)return t.text().then(function(t){try{return JSON.parse(t)}catch(t){throw new Error("Fetch error while requesting "+r+": Invalid JSON response")}});throw new Error("Fetch error while requesting "+r+": "+t.statusText)})};e.default=u,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[t,e,n(26)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n),o=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i.default.captureException(t,{tags:e}),n){var r=t;throw r.reported=!0,r}};e.default=o,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(39),i=n(20).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(114)("keys"),i=n(116);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(162),i=n(68);t.exports=function(t){return r(i(t))}},function(t,e,n){var r,i;r=[n(5)],i=function(t){var e=t(e=Date.now)&&e||function(){return(new Date).getTime()};return e}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&u())}function u(){if(!v){var t=i(a);v=!0;for(var e=h.length;e;){for(p=h,h=[];++m<e;)p&&p[m].run();m=-1,e=h.length}p=null,v=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||v||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){this.name="RavenConfigError",this.message=t}r.prototype=new Error,r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";var r=function(t,e,n){var r=t[e],i=t;if(e in t){var o="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),e=""+t.join(" "),a={level:o,logger:"console",extra:{arguments:t}};n&&n(e,a),r&&Function.prototype.apply.call(r,i,t)}}};t.exports={wrapMethod:r}},function(t,e,n){"use strict";(function(e){function r(){return+new Date}function i(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!o(M),this._hasNavigator=!o(R),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=P.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=P.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}function o(t){return void 0===t}function a(t){return"function"==typeof t}function u(t){return"[object String]"===I.toString.call(t)}function s(t){for(var e in t)return!1;return!0}function c(t,e){var n,r;if(o(t.length))for(n in t)d(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function l(t,e){return e?(c(e,function(e,n){t[e]=n}),t):t}function f(t,e){return!e||t.length<=e?t:t.substr(0,e)+"…"}function d(t,e){return I.hasOwnProperty.call(t,e)}function p(t){for(var e,n=[],r=0,i=t.length;r<i;r++)e=t[r],u(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function h(t){var e=[];return c(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function v(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}}function m(){var t=P.crypto||P.msCrypto;if(!o(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})}function g(t){for(var e,n=5,r=80,i=[],o=0,a=0,u=" > ",s=u.length;t&&o++<n&&(e=y(t),!("html"===e||o>1&&a+i.length*s+e.length>=r));)i.push(e),a+=e.length,t=t.parentNode;return i.reverse().join(u)}function y(t){var e,n,r,i,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),e=t.className,e&&u(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)r=s[o],i=t.getAttribute(r),i&&a.push("["+r+'="'+i+'"]');return a.join("")}function w(t,e){return!!(!!t^!!e)}function b(t,e){return!w(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&_(t.stacktrace,e.stacktrace))}function _(t,e){if(w(t,e))return!1;var n=t.frames,r=e.frames;if(n.length!==r.length)return!1;for(var i,o,a=0;a<n.length;a++)if(i=n[a],o=r[a],i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function x(t,e,n,r){var i=t[e];t[e]=n(i),r&&r.push([t,e,i])}var E=n(79),k=n(80),S=n(75),C=n(40),O=C.isError,T=C.isObject,A=n(76).wrapMethod,j="source protocol user pass host port path".split(" "),L=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,P="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},M=P.document,R=P.navigator;i.prototype={VERSION:"3.14.0",debug:!1,TraceKit:E,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var r=n._globalOptions;e&&c(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:r[t]=e}),n.setDSN(t),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=p(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&p(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&p(r.whitelistUrls),r.includePaths=p(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0},o=r.autoBreadcrumbs;return"[object Object]"==={}.toString.call(o)?o=l(i,o):o!==!1&&(o=i),r.autoBreadcrumbs=o,E.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(E.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(r+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+i+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return a(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],o=arguments.length,u=!t||t&&t.deep!==!1;for(n&&a(n)&&n.apply(this,arguments);o--;)r[o]=u?i.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,r)}catch(e){throw i._ignoreNextOnError(),i.captureException(e,t),e}}var i=this;if(o(e)&&!a(t))return t;if(a(t)&&(e=t,t=void 0),!a(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var u in e)d(e,u)&&(r[u]=e[u]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__inner__=e,r},uninstall:function(){return E.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,e){if(!O(t))return this.captureMessage(t,l({trimHeadFrames:1,stacktrace:!0},e));this._lastCapturedException=t;try{var n=E.computeStackTrace(t);this._handleStackInfo(n,e)}catch(e){if(t!==e)throw e}return this},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{};var n=l({message:t+""},e);if(this._globalOptions.stacktrace||e&&e.stacktrace){var r;try{throw new Error(t)}catch(t){r=t}r.name=null,e=l({fingerprint:t,trimHeadFrames:(e.trimHeadFrames||0)+1},e);var i=E.computeStackTrace(r),o=this._prepareFrames(i,e);n.stacktrace={frames:o.reverse()}}return this._send(n),this}},captureBreadcrumb:function(t){var e=l({timestamp:r()/1e3},t);if(a(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(T(n)&&!s(n))e=n;else if(n===!1)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(k(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=a(t)?function(n){return t(n,e)}:t,this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=a(t)?function(n){return t(n,e)}:t,this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=a(t)?function(n){return t(n,e)}:t,this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=P.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(M){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new S("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new S("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(e),i+="&dsn="+r(n);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var a=this._getGlobalServer(this._parseDSN(n)),u=M.createElement("script");u.async=!0,u.src=a+"/api/embed/error-page/"+i,(M.head||M.body).appendChild(u)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),M.createEvent?(n=M.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=M.createEventObject(),n.eventType=t);for(r in e)d(e,r)&&(n[r]=e[r]);if(M.createEvent)M.dispatchEvent(n);else try{M.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var r;try{r=g(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this,e=1e3;return function(n){var r;try{r=n.target}catch(t){return}var i=r&&r.tagName;if(i&&("INPUT"===i||"TEXTAREA"===i||r.isContentEditable)){var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(n),clearTimeout(o),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},e)}}},_captureUrlChange:function(t,e){var n=v(this._location.href),r=v(e),i=v(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_instrumentTryCatch:function(){function t(t){return function(e,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var u=i[0];return a(u)&&(i[0]=n.wrap(u)),t.apply?t.apply(this,i):t(i[0],i[1])}}function e(t){var e=P[t]&&P[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(x(e,"addEventListener",function(e){return function(r,o,a,u){try{o&&o.handleEvent&&(o.handleEvent=n.wrap(o.handleEvent))}catch(t){}var s,c,l;return i&&i.dom&&("EventTarget"===t||"Node"===t)&&(c=n._breadcrumbEventHandler("click"),l=n._keypressEventHandler(),s=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?c(t):"keypress"===e?l(t):void 0}}),e.call(this,r,n.wrap(o,void 0,s),a,u)}},r),x(e,"removeEventListener",function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,i)}},r))}var n=this,r=n._wrappedBuiltIns,i=this._globalOptions.autoBreadcrumbs;x(P,"setTimeout",t,r),x(P,"setInterval",t,r),P.requestAnimationFrame&&x(P,"requestAnimationFrame",function(t){return function(e){return t(n.wrap(e))}},r);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],u=0;u<o.length;u++)e(o[u])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&a(n[t])&&x(n,t,function(t){return e.wrap(t)})}var e=this,n=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in P){var i=XMLHttpRequest.prototype;x(i,"open",function(t){return function(n,r){return u(r)&&r.indexOf(e._globalKey)===-1&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},r),x(i,"send",function(n){return function(r){function i(){if(o.__raven_xhr&&(1===o.readyState||4===o.readyState)){try{o.__raven_xhr.status_code=o.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:o.__raven_xhr})}}for(var o=this,u=["onload","onerror","onprogress"],s=0;s<u.length;s++)t(u[s],o);return"onreadystatechange"in o&&a(o.onreadystatechange)?x(o,"onreadystatechange",function(t){return e.wrap(t,void 0,i)}):o.onreadystatechange=i,n.apply(this,arguments)}},r)}n.xhr&&"fetch"in P&&x(P,"fetch",function(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a="GET";i[1]&&i[1].method&&(a=i[1].method);var u={method:a,url:i[0],status_code:null};return e.captureBreadcrumb({type:"http",category:"fetch",data:u}),t.apply(this,i).then(function(t){return u.status_code=t.status,t})}},r),n.dom&&this._hasDocument&&(M.addEventListener?(M.addEventListener("click",e._breadcrumbEventHandler("click"),!1),M.addEventListener("keypress",e._keypressEventHandler(),!1)):(M.attachEvent("onclick",e._breadcrumbEventHandler("click")),M.attachEvent("onkeypress",e._keypressEventHandler())));var o=P.chrome,s=o&&o.app&&o.app.runtime,l=!s&&P.history&&history.pushState;if(n.location&&l){var f=P.onpopstate;P.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),f)return f.apply(this,arguments)},x(history,"pushState",function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}},r)}if(n.console&&"console"in P&&console.log){var d=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};c(["debug","info","warn","error","log"],function(t,e){A(console,e,d)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],r=t[2];e[n]=r}},_drainPlugins:function(){var t=this;c(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var e=L.exec(t),n={},r=7;try{for(;r--;)n[j[r]]=e[r]||""}catch(e){throw new S("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new S("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(c(t.stack,function(t,e){var i=n._normalizeFrame(e);i&&r.push(i)}),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t){if(t.url){var e={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return e.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(e.filename)||/(Raven|TraceKit)\./.test(e.function)||/raven\.(min\.)?js$/.test(e.filename)),e}},_processException:function(t,e,n,r,i,o){var a;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e))&&(e+="",i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var u=l({exception:{values:[{type:t,value:e,stacktrace:a}]},culprit:n},o);this._send(u)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=f(t.message,e)),t.exception){var n=t.exception.values[0];n.value=f(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=f(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=f(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){
for(var e,n,r={to:1,from:1,url:1},i=0;i<t.values.length;i++)if(e=t.values[i],e.hasOwnProperty("data")){n=e.data;for(var o in r)n.hasOwnProperty(o)&&(n[o]=f(n[o],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&R.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(M.location&&M.location.href&&(t.url=M.location.href),M.referrer&&(t.headers||(t.headers={}),t.headers.Referer=M.referrer)),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.culprit!==e.culprit)&&(t.stacktrace||e.stacktrace?_(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||b(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n?n:2*this._backoffDuration||1e3,this._backoffStart=r()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},i=this._getHttpData();if(i&&(n.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,t=l(n,t),t.tags=l(l({},this._globalContext.tags),t.tags),t.extra=l(l({},this._globalContext.extra),t.extra),t.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),s(t.tags)&&delete t.tags,this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),a(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!s(t)&&(!a(e.shouldSendCallback)||e.shouldSendCallback(t)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_getUuid:function(){return m()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup()){if(this._lastEventId=t.event_id||(t.event_id=this._getUuid()),t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}},_makeRequest:function(t){var e=new XMLHttpRequest,n="withCredentials"in e||"undefined"!=typeof XDomainRequest;if(n){var r=t.url;"withCredentials"in e?e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)t.onSuccess&&t.onSuccess();else if(t.onError){var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError(n)}}:(e=new XDomainRequest,r=r.replace(/^https?:/,""),t.onSuccess&&(e.onload=t.onSuccess),t.onError&&(e.onerror=function(){var n=new Error("Sentry error code: XDomainRequest");n.request=e,t.onError(n)})),e.open("POST",r+"?"+h(t.auth)),e.send(k(t.data))}},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){o(e)?delete this._globalContext[t]:this._globalContext[t]=l(this._globalContext[t]||{},e)}};var I=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(i.utils={isUndefined:o,isFunction:a,isString:u,isObject:T,isEmptyObject:s,isError:O,each:c,objectMerge:l,truncate:f,hasKey:d,joinRegExp:p,urlencode:h,uuid4:m,htmlTreeAsString:g,htmlElementAsString:y,parseUrl:v,fill:x}),i.prototype.setUser=i.prototype.setUserContext,i.prototype.setReleaseContext=i.prototype.setRelease,t.exports=i}).call(e,n(9))},function(t,e,n){"use strict";(function(e){var r=n(77),i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),t.exports=a}).call(e,n(9))},function(t,e,n){"use strict";(function(e){function r(){return"undefined"==typeof document||"undefined"==typeof document.location?"":document.location.href}var i=n(40),o={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},u=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;o.report=function(){function t(t){d(),y.push(t)}function e(t){for(var e=y.length-1;e>=0;--e)y[e]===t&&y.splice(e,1)}function n(){p(),y=[]}function l(t,e){var n=null;if(!e||o.collectWindowErrors){for(var r in y)if(y.hasOwnProperty(r))try{y[r].apply(null,[t].concat(u.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function f(t,e,n,a,u){var f=null;if(_)o.computeStackTrace.augmentStackTraceWithInitialElement(_,e,n,t),h();else if(u&&i.isError(u))f=o.computeStackTrace(u),l(f,!0);else{var d,p={url:e,line:n,column:a},v=void 0,g=t;if("[object String]"==={}.toString.call(t)){var d=t.match(c);d&&(v=d[1],g=d[2])}p.func=s,f={name:v,message:g,url:r(),stack:[p]},l(f,!0)}return!!m&&m.apply(this,arguments)}function d(){g||(m=a.onerror,a.onerror=f,g=!0)}function p(){g&&(a.onerror=m,g=!1,m=void 0)}function h(){var t=_,e=w;w=null,_=null,b=null,l.apply(null,[t,!1].concat(e))}function v(t,e){var n=u.call(arguments,1);if(_){if(b===t)return;h()}var r=o.computeStackTrace(t);if(_=r,b=t,w=n,setTimeout(function(){b===t&&h()},r.incomplete?2e3:0),e!==!1)throw t}var m,g,y=[],w=null,b=null,_=null;return v.subscribe=t,v.unsubscribe=e,v.uninstall=n,v}(),o.computeStackTrace=function(){function t(t){if("undefined"!=typeof t.stack&&t.stack){for(var e,n,i,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.stack.split("\n"),d=[],p=(/^(.*) is undefined$/.exec(t.message),0),h=f.length;p<h;++p){if(n=o.exec(f[p])){var v=n[2]&&0===n[2].indexOf("native"),m=n[2]&&0===n[2].indexOf("eval");m&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:v?null:n[2],func:n[1]||s,args:v?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=u.exec(f[p]))i={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(f[p])))continue;var m=n[3]&&n[3].indexOf(" > eval")>-1;m&&(e=c.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||"undefined"==typeof t.columnNumber||(d[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=s),d.push(i)}return d.length?{name:t.name,message:t.message,url:r(),stack:d}:null}}function e(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=s),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,a){for(var u,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],d={},p=!1,h=n.caller;h&&!p;h=h.caller)if(h!==i&&h!==o.report){if(c={url:null,func:s,line:null,column:null},h.name?c.func=h.name:(u=l.exec(h.toString()))&&(c.func=u[1]),"undefined"==typeof c.func)try{c.func=u.input.substring(0,u.input.indexOf("{"))}catch(t){}d[""+h]?p=!0:d[""+h]=!0,f.push(c)}a&&f.splice(0,a);var v={name:t.name,message:t.message,url:r(),stack:f};return e(v,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),v}function i(e,i){var a=null;i=null==i?0:+i;try{if(a=t(e))return a}catch(t){if(o.debug)throw t}try{if(a=n(e,i+1))return a}catch(t){if(o.debug)throw t}return{name:e.name,message:e.message,url:r()}}return i.augmentStackTraceWithInitialElement=e,i.computeStackTraceFromStackProp=t,i}(),t.exports=o}).call(e,n(9))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function i(t,e,n,r){return JSON.stringify(t,o(e,r),n)}function o(t,e){var n=[],i=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,r(n,e)).join(".")+"]"}),function(o,a){if(n.length>0){var u=r(n,this);~u?n.splice(u+1):n.push(this),~u?i.splice(u,1/0,o):i.push(o),~r(n,a)&&(a=e.call(this,o,a))}else n.push(a);return null==t?a:t.call(this,o,a)}}e=t.exports=i,e.getSerialize=o},function(t,e,n){var r;(function(){"use strict";function e(){}function i(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var a=e.prototype,u=this,s=u.EventEmitter;a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp){e={};for(n in r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n])}else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},a.addListener=function(t,e){var n,r=this.getListenersAsObject(t),o="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&i(r[n],e)===-1&&r[n].push(o?e:{listener:e,once:!1});return this},a.on=o("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=o("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=i(o[r],e),n!==-1&&o[r].splice(n,1));return this},a.off=o("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},a.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=o("removeEvent"),a.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].length;r--;)n=a[i][r],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},a.trigger=o("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return u.EventEmitter=s,e},r=function(){return e}.call(u,n,u,t),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e){var n=new Error('Cannot find module "undefined"');throw n.code="MODULE_NOT_FOUND",n},,,,,function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(107);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(172)(!0);n(112)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r,i;r=[n(52),n(182),n(0),n(31),n(7),n(10),n(183),n(23)],i=function(t,e,n,r,i,o,a,u){var s={},c=null;return s.cookieName="GU_U",s.signOutCookieName="GU_SO",s.fbCheckKey="gu.id.nextFbCheck",s.lastRefreshKey="identity.lastRefresh",s.idApiRoot=null,s.idUrl=null,s.init=function(){s.idApiRoot=n.page.idApiUrl,s.idUrl=n.page.idUrl,i.emit("module:identity:api:loaded")},s.reset=function(){s.getUserFromApi.reset(),c=null},s.getUserFromCookie=function(){if(null===c){var t=r.getCookie(s.cookieName),e=t?JSON.parse(s.decodeBase64(t.split(".")[0])):null;if(e){var n=decodeURIComponent(e[2]);c={id:e[0],primaryEmailAddress:e[1],displayName:n,accountCreatedDate:e[6],emailVerified:e[7],rawResponse:t}}}return c},s.getCookie=function(){return r.getCookie(s.cookieName)},s.isUserLoggedIn=function(){return null!==s.getUserFromCookie()},s.getUrl=function(){return s.idUrl},s.getUserFromApi=a.mergeCalls(function(e){s.isUserLoggedIn()?t({url:s.idApiRoot+"/user/me",type:"jsonp",crossOrigin:!0}).then(function(t){e("ok"===t.status?t.user:null)}):e(null)}),s.getUserFromApiWithRefreshedCookie=function(){var e="/user/me",n=t({url:s.idApiRoot+e,type:"jsonp",data:{refreshCookie:!0}});return n},s.getUserOrSignIn=function(t){if(s.isUserLoggedIn())return s.getUserFromCookie();t=encodeURIComponent(t||document.location.href);var e=s.getUrl()+"/signin?returnUrl="+t;s.redirectTo(e)},s.redirectTo=function(t){window.location.href=t},s.decodeBase64=function(t){return decodeURIComponent(escape(e(t.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))},s.hasUserSignedOutInTheLast24Hours=function(){var t=r.getCookie(s.signOutCookieName);return!!t&&Math.round((new Date).getTime()/1e3)<parseInt(t,10)+86400},s.shouldAutoSigninInUser=function(){var t=!!r.getCookie(s.cookieName),e=!!o.local.get(s.fbCheckKey);return!t&&!e&&!this.hasUserSignedOutInTheLast24Hours()},s.setNextFbCheckTime=function(t){o.local.set(s.fbCheckKey,{},{expires:t})},s.emailSignup=function(e){var n="/useremails/"+s.getUserFromCookie().id+"/subscriptions",r={listId:e},i=t({url:s.idApiRoot+n,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(r),method:"post"}});return i},s.getUserEmailSignUps=function(){if(s.getUserFromCookie()){var e="/useremails/"+s.getUserFromCookie().id,n=t({url:s.idApiRoot+e,type:"jsonp",crossOrigin:!0});return n}return u.resolve(null)},s.sendValidationEmail=function(){var e="/user/send-validation-email",n=t({url:s.idApiRoot+e,type:"jsonp",crossOrigin:!0,data:{method:"post"}});return n},s.updateUsername=function(e){var r="/user/me",i={publicFields:{username:e,displayName:e}},o=t({url:s.idApiRoot+r,type:"json",crossOrigin:!0,method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(i),withCredentials:!0,headers:{"X-GU-ID-Client-Access-Token":"Bearer "+n.page.idApiJsClientToken}});return o},s}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[e,n(22)],i=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceQueryString=t.pushQueryString=t.supportsPushState=t.back=t.constructQuery=t.pushUrl=t.getPath=t.getUrlVars=void 0;var r=n(e),i=r.default.hasPushStateSupport(),o=function(){return window.location.search.replace(/^\?/,"")},a=function(t){return(t||o()).split("&").filter(Boolean).map(function(t){return t.includes("=")?t.split("="):[t,!0]}).reduce(function(t,e){var n=t;return n[e[0]]=e[1],n},{})},u=function(t,e){var n=o()!==t.querystring;t.querystring&&n&&i&&e(t.state||{},t.title||window.title,t.querystring+window.location.hash)},s=function(t){return u(t,history.pushState.bind(history))},c=function(t){return u(t,history.replaceState.bind(history))},l=function(t){return Object.keys(t).map(function(e){var n=t[e],r=Array.isArray(n)?n.join(","):n;return e+"="+r}).join("&")},f=function(t){var e=document.createElement("a");return e.href=t,e.pathname},d=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i&&window.history[r?"replaceState":"pushState"](t,e,n)},p=function(){i&&window.history.back()};t.getUrlVars=a,t.getPath=f,t.pushUrl=d,t.constructQuery=l,t.back=p,t.supportsPushState=i,t.pushQueryString=s,t.replaceQueryString=c}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(105),o=r(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(106),__esModule:!0}},function(t,e,n){n(117);var r=n(24).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(109),i=n(17)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=!n(19)&&!n(56)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(165),i=n(55),o=n(171),a=n(29),u=n(51),s=n(35),c=n(163),l=n(113),f=n(168),d=n(17)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(t,e,n,y,w,b,_){c(n,e,y);var x,E,k,S=function(t){if(!p&&t in A)return A[t];switch(t){case v:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",O=w==m,T=!1,A=t.prototype,j=A[d]||A[h]||w&&A[w],L=j||S(w),P=w?O?S("entries"):L:void 0,M="Array"==e?A.entries||j:j;if(M&&(k=f(M.call(new t)),k!==Object.prototype&&(l(k,C,!0),r||u(k,d)||a(k,d,g))),O&&j&&j.name!==m&&(T=!0,L=function(){return j.call(this)}),r&&!_||!p&&!T&&A[d]||a(A,d,L),s[e]=L,s[C]=g,w)if(x={values:O?L:S(m),keys:b?L:S(v),entries:P},_)for(E in x)E in A||o(A,E,x[E]);else i(i.P+i.F*(p||T),e,x);return x}},function(t,e,n){var r=n(30).f,i=n(51),o=n(17)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(20),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(39);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(55);r(r.S+r.F*!n(19),"Object",{defineProperty:n(30).f})},function(t,e,n){n(176);for(var r=n(20),i=n(29),o=n(35),a=n(17)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(350),i=n(177);t.exports=function(t){return r(i(t))}},function(t,e,n){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(e,n){t.exports=n()}("domready",function(){var t,e=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,t=function(){for(n.removeEventListener(i,t),o=1;t=e.shift();)t()}),function(t){o?setTimeout(t,0):e.push(t)}})},,,,function(t,e,n){var r,i;r=[e,n(50)],i=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTime=t.getMarkTime=t.markTime=void 0;var r=n(e),i={},o=(new Date).getTime(),a=function(){return"now"in r.default?r.default.now():(new Date).getTime()-o},u=function(t){"mark"in r.default?r.default.mark(t):i[t]=a()},s=function(t){if("getEntriesByName"in r.default){var e=r.default.getEntriesByName(t,"mark")[0];if(e&&"startTime"in e)return e.startTime}else if(t in i)return i[t]};t.markTime=u,t.getMarkTime=s,t.getCurrentTime=a}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,function(t,e,n){var r=n(71),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(68);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(108),i=n(17)("iterator"),o=n(35);t.exports=n(24).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){t.exports=!n(201)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(119),i=n(199),o=n(202),a=n(357),u=n(348),s="prototype",c=function(t,e,n){var l,f,d,p,h=t&c.F,v=t&c.G,m=t&c.S,g=t&c.P,y=t&c.B,w=v?r:m?r[e]||(r[e]={}):(r[e]||{})[s],b=v?i:i[e]||(i[e]={}),_=b[s]||(b[s]={});v&&(n=e);for(l in n)f=!h&&w&&void 0!==w[l],d=(f?w:n)[l],p=y&&f?u(d,r):g&&"function"==typeof d?u(Function.call,d):d,w&&a(w,l,d,t&c.U),b[l]!=d&&o(b,l,p),g&&_[l]!=d&&(_[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r,i;r=[n(10)],i=function(t){function e(e,n,r){r=r||{},t[r.type||p.type].set(d+e,n)}function n(e,n){return n=n||{},t[n.type||p.type].get(d+e)}function r(e,n){n=n||{},t[n.type||p.type].remove(d+e)}function i(e,n){n=n||{},t[n.type||p.type].set(d+"switch."+e,!0)}function o(e,n){n=n||{},t[n.type||p.type].set(d+"switch."+e,!1)}function a(e,n){n=n||{},t[n.type||p.type].remove(d+"switch."+e)}function u(e,n){return n=n||{},t[n.type||p.type].get(d+"switch."+e)===!0}function s(e,n){return n=n||{},t[n.type||p.type].get(d+"switch."+e)===!1}function c(t){return!isNaN(t)}function l(t){return"true"===t||"false"===t}function f(t){var n,r,a,u,s,f,d=t.hash.substr(1).split("&");for(s=0,f=d.length;s<f;++s)if(n=d[s].match(/^gu\.prefs\.(.*)=(.*)$/))switch(r=n[1],a=n[2],r){case"switchOn":i(a);break;case"switchOff":o(a);break;default:u=c(a)?+a:l(a)?"true"===String(a).toLowerCase():a,e(r,u)}}var d="gu.prefs.",p={type:"local"};return f(window.location),{set:e,get:n,remove:r,switchOn:i,switchOff:o,removeSwitch:a,isOn:u,isOff:s,setPrefs:f}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[e,n(156),n(60)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t._=t.logError=t.catchErrorsWithContext=void 0;var i=r(e),o=r(n),a=function(t){var e=void 0;try{t()}catch(t){e=t}return e},u=function(t,e){window.console&&window.console.warn&&window.console.warn("Caught error.",e.stack),(0,o.default)(e,{module:t},!1)},s=function(t,e){var n=a(e);n&&u(t,n)},c=function(t){return t.forEach(function(t){var e=(0,i.default)(t,2),n=e[0],r=e[1];return s(n,r)})};t.catchErrorsWithContext=c,t.logError=u;t._={catchAndLogError:s}}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,function(t,e,n){var r,i;r=[t,e,n(49)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n),o=function(t,e){var n="cors"===e.mode,r=n&&"include"===e.credentials||!n&&"same-origin"===e.credentials;return{url:t,type:"text",method:e.method||"GET",crossOrigin:n,headers:e.headers,data:e.body,withCredentials:r}},a=function(t){var e=!1,n=t.responseText,r=function(){var t=e?Promise.reject(new TypeError("Already read")):Promise.resolve(n);return e=!0,t};return{status:t.status,ok:t.status>=200&&t.status<300,statusText:t.statusText,url:t.responseURL||"",text:r,json:function(){return r().then(JSON.parse)}}},u=function(t,e){return new Promise(function(n,r){var u=o(t,e||{});(0,i.default)(u).then(function(t){n(a(t))}).catch(function(t){0===t.status?r(new Error("Fetch error: "+t.statusText)):n(a(t))})})};e.default=u,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(157),__esModule:!0}},function(t,e,n){t.exports={default:n(158),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(155),o=r(i),a=n(154),u=r(a);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){n(118),n(89),t.exports=n(174)},function(t,e,n){n(118),n(89),t.exports=n(175)},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(72),i=n(128),o=n(173);t.exports=function(t){return function(e,n,a){var u,s=r(e),c=i(s.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){t.exports=n(20).document&&document.documentElement},function(t,e,n){var r=n(109);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(166),i=n(57),o=n(113),a={};n(29)(a,n(17)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=!0},function(t,e,n){var r=n(34),i=n(167),o=n(110),a=n(70)("IE_PROTO"),u=function(){},s="prototype",c=function(){var t,e=n(69)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(161).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;r--;)delete c[s][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[s]=r(t),n=new u,u[s]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(30),i=n(34),o=n(170);t.exports=n(19)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,s=0;u>s;)r.f(t,n=a[s++],e[n]);return t}},function(t,e,n){var r=n(51),i=n(129),o=n(70)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(51),i=n(72),o=n(160)(!1),a=n(70)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(169),i=n(110);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){t.exports=n(29)},function(t,e,n){var r=n(71),i=n(68);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),s=r(n),c=u.length;return s<0||s>=c?t?"":void 0:(o=u.charCodeAt(s),o<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?t?u.charAt(s):o:t?u.slice(s,s+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var r=n(71),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(34),i=n(130);t.exports=n(24).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(108),i=n(17)("iterator"),o=n(35);t.exports=n(24).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(159),i=n(164),o=n(35),a=n(72);t.exports=n(112)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r;r=function(){return window.atob?function(t){return window.atob(t)}:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=function(){try{document.createElement("$")}catch(t){return t}}();return function(n){if(n=n.replace(/[=]+$/,""),n.length%4===1)throw e;for(var r,i,o=0,a=0,u="";i=n.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?u+=String.fromCharCode(255&r>>(-2*o&6)):0)i=t.indexOf(i);return u}}()}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r,i;r=[],i=function(){function t(t){function e(){a=arguments,o="complete";for(var t=0;t<i.length;t++)i[t].apply(null,a)}function n(n){"init"===o?(o="waiting",i.push(n),t(e)):"waiting"===o?i.push(n):n.apply(null,a)}function r(){i=[],o="init",a=null}var i,o,a;return r(),n.reset=r,n}return{mergeCalls:t}}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,,,,,,,function(t,e,n){var r=n(179);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(204),i=n(180);t.exports=n(131)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(131)&&!n(201)(function(){return 7!=Object.defineProperty(n(349)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(198),i=n(203),o=n(209),a=Object.defineProperty;e.f=n(131)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(178),i=n(120),o=n(345)(!1),a=n(358)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(208),i=n(360),o=n(177);t.exports=function(t,e,n,a){var u=String(o(t)),s=u.length,c=void 0===n?" ":String(n),l=r(e);if(l<=s||""==c)return u;var f=l-s,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},function(t,e,n){var r=n(181),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(179);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},,function(t,e,n){var r,i;r=[t,e,n(18),n(26),n(133),n(332),n(10),n(59),n(7),n(259),n(248),n(90),n(31),n(91),n(134),n(125),n(0),n(335),n(230),n(41),n(42)],i=function(t,e,n,r,i,o,a,u,s,c,l,f,d,p,h,v,m,g,y,w,b){"use strict";function _(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var x=_(n),E=_(r),k=_(i),S=_(o),C=_(u),O=_(s),T=_(c),A=_(l),j=_(f),L=_(m),P=_(g),M=_(w),R=_(b),I=arguments,N=function(){var t=(0,p.getUrlVars)();"clear"===t.adtest?(0,d.removeCookie)("adtest"):t.adtest&&(0,d.addCookie)("adtest",encodeURIComponent(t.adtest),10)},q=function(){var t=L.default.page,e=t.membershipUrl,n=t.membershipAccess,r=t.contentId,i=function(){window.location.href=e+"/membership-content?referringContent="+r+"&membershipAccess="+n},o=function(t){var e="has-membership-access-requirement",r=n.includes("paid-members-only"),o=r?!!t.tier&&t.isPaidTier:!!t.tier;o?!function(){var t=document,n=t.body;n&&x.default.write(function(){return n.classList.remove(e)})}():i()};j.default.isUserLoggedIn()?(0,C.default)(e+"/user/me",{mode:"cors",credentials:"include"}).then(o).catch(i):i()},U=function(){var t=!1,e=function(){t||(t=!0,x.default.read(function(){O.default.emitEvent("window:throttledScroll"),t=!1}))};(0,A.default)(window,"scroll",k.default.get("use-idle-callback")&&"requestIdleCallback"in window?function(){window.requestIdleCallback(e)}:e,{passive:!0})},D=function(){var t=function(t){O.default.emitEvent("window:throttledResize",[t])};(0,A.default)(window,"resize",(0,M.default)(t,200),{passive:!0})},B=function(){var t=window.onerror;window.onerror=function(e,n,r,i,o){o&&o.reported||t.apply(window,I)},window.addEventListener("unhandledRejection",function(t){var e=t.detail.reason;e&&!e.reported&&E.default.captureException(e)})},F=function(){if((0,v.markTime)("standard start"),(0,h.catchErrorsWithContext)([["ga-user-timing-standard-start",function(){(0,y.trackPerformance)("Javascript Load","standardStart","Standard start parse time")}]]),B(),U(),D(),N(),S.default.upgradePictures(),S.default.listen(),window.guardian.isEnhanced){var t="gu.alreadyVisited",e=a.local.get(t)||0;a.local.set(t,e+1)}L.default.switches.blockIas&&navigator.serviceWorker&&navigator.serviceWorker.ready.then(function(t){var e=t.active,n=window.location.hash.includes("noias");e.postMessage({ias:n})}),T.default.init(),R.default.setEventEmitter(O.default),L.default.page.requiresMembershipAccess&&q(),j.default.init(),(0,P.default)(),(0,v.markTime)("standard end"),(0,h.catchErrorsWithContext)([["ga-user-timing-standard-end",function(){(0,y.trackPerformance)("Javascript Load","standardEnd","Standard end parse time")}]])};e.default=F,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r=n(132),i=n(356),o=n(120),a=n(351),u=n(347);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=o(t),r=a.f,s=i(n),c={},l=0;s.length>l;)u(c,e=s[l++],r(n,e));return c}})},function(t,e,n){var r=n(132),i=n(355)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(132),i=n(207);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var r=n(132),i=n(207);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},,function(t,e,n){var r,i;r=[n(42),n(125),n(50)],i=function(t,e,n){return function(){var r="navigation"in n&&"timing"in n;if(r){var i=n&&n.timing,o=["standard boot","commercial request","commercial boot","enhanced request","enhanced boot"],a={dns:i.domainLookupEnd-i.domainLookupStart,connection:i.connectEnd-i.connectStart,firstByte:i.responseStart-i.connectEnd,lastByte:i.responseEnd-i.responseStart,domContentLoadedEvent:i.domContentLoadedEventStart-i.responseEnd,loadEvent:i.loadEventStart-i.domContentLoadedEventStart,navType:n.navigation.type,redirectCount:n.navigation.redirectCount,assetsPerformance:o.map(function(t){return{name:t,timing:parseInt(e.getMarkTime(t)||0,10)}})};t.record({performance:a})}}}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,function(t,e,n){var r,i;r=[e,n(333),n(15),n(18)],i=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToElement=t.scrollTo=void 0;var o=i(n),a=i(r),u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"easeOutQuad",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,u=(0,o.default)(i),s=u.scrollTop(),c=t-s,l=(0,e.createEasing)(r,n),f=function(){a.default.write(function(){return u.scrollTop(s+l()*c)})},d=setInterval(f,15);setTimeout(function(){clearInterval(d),a.default.write(function(){return u.scrollTop(t)})},n)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],i=(0,o.default)(t).offset().top;u(i,e,n,r)};t.scrollTo=u,t.scrollToElement=s}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,function(t,e,n){var r,i;r=[e,n(0),n(7)],i=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackPerformance=t.trackNativeAdLinkClick=t.trackSponsorLogoLinkClick=t.trackExternalLinkClick=t.trackSamePageLinkClick=t.trackNonClickInteraction=void 0;var i=r(e),o=r(n),a=i.default.googleAnalytics.trackers.editorial,u=a+".send",s=function(t){return(t.textContent||"").trim()},c=function(t){window.ga(u,"event","Interaction",t,{nonInteraction:!0})},l=function(t,e){window.ga(u,"event","click","in page",e,{nonInteraction:!0,dimension13:s(t)})},f=function(t,e){window.ga(u,"event","click","external",e,{dimension13:s(t)})},d=function(t){var e=t.dataset.sponsor;window.ga(u,"event","click","sponsor logo",e,{nonInteraction:!0})},p=function(t,e){window.ga(u,"event","click","native ad",e,{nonInteraction:!0,dimension25:t})},h=function(t){var e={standardStart:"metric18",standardEnd:"metric19",commercialStart:"metric20",commercialEnd:"metric21",enhancedStart:"metric22",enhancedEnd:"metric23"};if(window.ga(u,"timing",t.timingCategory,t.timingVar,t.timeSincePageLoad,t.timingLabel),i.default.switches.boostGaUserTimingFidelity){var n=e[t.timingVar],r={nonInteraction:!0,dimension44:n};r[n]=t.timeSincePageLoad,window.ga(u,"event",t.timingCategory,t.timingVar,t.timingLabel,t.timeSincePageLoad,r)}},v=function(t,e,n){window.performance&&window.performance.now&&window.ga&&!function(){var r=function t(){i.default.googleAnalytics.timingEvents.map(h),o.default.off("modules:ga:ready",t)},a=Math.round(window.performance.now()),u={timingCategory:t,timingVar:e,timeSincePageLoad:a,timingLabel:n};window.ga?h(u):(o.default.on("modules:ga:ready",r),i.default.googleAnalytics.timingEvents.push(u))}()};t.trackNonClickInteraction=c,t.trackSamePageLinkClick=l,t.trackExternalLinkClick=f,t.trackSponsorLogoLinkClick=d,t.trackNativeAdLinkClick=p,t.trackPerformance=v}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,,,,,,,,,,function(t,e,n){var r;r=function(){function t(t,n,r,i){i=i||{},e?t.addEventListener(n,r,i):i.once?t.addEventListener(n,function e(i){r.call(this,i),t.removeEventListener(n,e)},i.capture):t.addEventListener(n,r,i.capture)}var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n)}catch(t){}return t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},,,,,,,,,,,function(t,e,n){var r,i;r=[t,e,n(87),n(334)],i=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n),a=i(r),u={},s=function t(e,n){var r=this;(0,o.default)(this,t),this.complete=new Promise(function(t,e){r.resolve=t,r.reject=e}),e&&Promise.all(e).then(function(t){var e=function(t){return t};n&&r.resolve(n.call(t,e))})},c=function(t){var e=function(t){var e=u[t.id];return e?e.complete:l(t).complete};return t.dependentChecks?new s(t.dependentChecks.map(e),t.passCondition):new s},l=function(t){var e=t.id;return u[e]||(u[e]=c(t)),u[e]},f=function(){a.default.forEach(l)},d=function(t,e){var n=[t,e].slice(1),r=u[t];if(r)return r.resolve.apply(null,n)},p=function(t){var e=u[t];return e?e.complete:Promise.reject("No deferred check with id "+t)},h=function(){u={}};e.default={init:f,resolveCheck:d,waitForCheck:p,test:{testClean:h}},t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r,i;r=[n(3),n(365),n(7)],i=function(t,e,n){var r={upgradePictures:function(n){e({elements:t("img[srcset], picture img",n||document)})},listen:function(){n.addListeners({"ui:images:upgradePictures":r.upgradePictures})}};return r}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[e],i=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(t){return function(e){return Math.pow(e,t)}},n=function(t){return function(e){return 1-Math.abs(Math.pow(e-1,t))}},r=function(t){return function(r){return r<.5?e(t)(2*r)/2:n(t)(2*r-1)/2+.5}},i={linear:r(1),easeInQuad:e(2),easeOutQuad:n(2),easeInOutQuad:r(2),easeInCubic:e(3),easeOutCubic:n(3),easeInOutCubic:r(3),easeInQuart:e(4),easeOutQuart:n(4),easeInOutQuart:r(4),easeInQuint:e(5),easeOutQuint:n(5),easeInOutQuint:r(5)},o=function(t,e){var n=new Date,r=i[t];return function(){var t=new Date-n;return r(Math.min(1,t/e))}};t.easingFunctions=i,t.createEasing=o}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[t,e],i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Array.prototype,r=n.some,i=n.every,o=[{id:"isOutbrainBlockedByAds",passCondition:i,dependentChecks:[{id:"hasHighPriorityAdLoaded"},{id:"hasLowPriorityAdLoaded"}]},{id:"isOutbrainMerchandiseCompliant",passCondition:i,dependentChecks:[{id:"hasHighPriorityAdLoaded"},{id:"hasLowPriorityAdNotLoaded"}]},{id:"isOutbrainMerchandiseCompliantOrBlockedByAds",passCondition:r,dependentChecks:[{id:"isOutbrainMerchandiseCompliant"},{id:"isOutbrainBlockedByAds"}]},{id:"emailCanRun",passCondition:i,dependentChecks:[{id:"emailCanRunPreCheck"},{id:"listCanRun"},{id:"emailInArticleOutbrainEnabled"},{id:"isUserNotInContributionsAbTest"}]},{id:"isUserInEmailAbTestAndEmailCanRun",passCondition:i,dependentChecks:[{id:"isUserInEmailAbTest"},{id:"emailCanRun"}]},{id:"isOutbrainNonCompliant",passCondition:r,dependentChecks:[{id:"isUserInContributionsAbTest"},{id:"isUserInEmailAbTestAndEmailCanRun"},{id:"isStoryQuestionsOnPage"}]},{id:"emailCanRunPostCheck",passCondition:r,dependentChecks:[{id:"isUserInEmailAbTest"},{id:"isOutbrainMerchandiseCompliantOrBlockedByAds"},{id:"isOutbrainDisabled"},{id:"isStoryQuestionsOnPage"}]}];e.default=o,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[t,e,n(337),n(18),n(42),n(227),n(371)],i=function(t,e,n,r,i,o,a){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=u(n),c=u(r),l=u(i),f=u(a),d={},p=function(){return document.getElementById("main-menu")},h=function(t){t.removeAttribute("open")},v=function(t){var e=[].concat((0,s.default)(document.querySelectorAll(".js-close-nav-list")));e.forEach(function(e){e!==t&&h(e)})},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.setAttribute("open",""),e.scrollIntoView===!0&&(0,o.scrollToElement)(t,0,"easeInQuad",p())},g=function(){var t=document.documentElement,e=document.querySelector(".js-change-link"),n="new-header__nav__menu-button--open",r="nav-is-open",i=document.querySelector(".new-header__nav-trigger"),o=i&&"true"===i.getAttribute("aria-expanded"),a=p();if(a&&e){var u=function(){var t=[].concat((0,s.default)(document.querySelectorAll(".js-navigation-item")));t.forEach(function(t){var e=t;e.style.order=""})},l=function(){var t=document.querySelector(".js-navigation-button");t&&t.focus()},f=function(){var s=o?"false":"true",c=o?"true":"false";e.setAttribute("data-link-name","nav2 : veggie-burger : "+(o?"show":"hide")),i&&i.setAttribute("aria-expanded",s),a.setAttribute("aria-hidden",c),e.classList.toggle(n,!o),t&&t.classList.toggle(r,!o),o?u():l()};c.default.write(f)}},y=function(t){c.default.read(function(){var e=document.createElement("button"),n=t.id,r=t.getAttribute("aria-controls"),i=function(){[].concat((0,s.default)(t.classList)).forEach(function(t){return e.classList.add(t)}),e.addEventListener("click",function(){return g()}),e.setAttribute("id",n),e.setAttribute("aria-expanded","false"),r&&e.setAttribute("aria-controls",r),t.parentNode&&t.parentNode.replaceChild(e,t),d[e.id]=!0};c.default.write(i)})},w=function(){var t=document.getElementById("main-menu-toggle");t&&(d[t.id]||t.checked?!function(){var e=function e(){y(t),t.removeEventListener("click",e)};t.addEventListener("click",e),l.default.record({component:"main-navigation",value:"is fully expanded"})}():y(t))},b=function(){var t=p(),e=document.querySelector(".subnav"),n=e&&e.dataset.pillarTitle||"",r='.js-navigation-item[data-section-name="'+n+'"]',i=t&&t.querySelector(r);i&&m(i.children[0],{scrollIntoView:!0}),g(),l.default.record({component:"main-navigation",value:"more toggle: "+n})},_=function(){var t=document.querySelector(".subnav"),e=p();e&&(e.addEventListener("click",function(t){var e=t.target;e.matches(".js-close-nav-list")&&(t.stopPropagation(),v(e))}),t&&t.addEventListener("click",function(t){var e=t.target;e.matches(".js-toggle-nav-section")&&(t.stopPropagation(),b())}))},x=function(){w(),_(),(0,f.default)(),v()};e.default=x,t.exports=e.default}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){t.exports={default:n(338),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(336),o=r(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){n(89),n(343),t.exports=n(24).Array.from},function(t,e,n){"use strict";var r=n(30),i=n(57);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(35),i=n(17)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(34);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(17)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(88),i=n(55),o=n(129),a=n(341),u=n(340),s=n(128),c=n(339),l=n(130);i(i.S+i.F*!n(342)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=o(t),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,y=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&u(y))for(e=s(d.length),n=new p(e);e>g;g++)c(n,g,m?v(d[g],g):d[g]);else for(f=y.call(d),n=new p;!(i=f.next()).done;g++)c(n,g,m?a(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(120),i=n(208),o=n(361);t.exports=function(t){return function(e,n,a){var u,s=r(e),c=i(s.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(204),i=n(180);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(344);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(179),i=n(119).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(346);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(206),i=n(180),o=n(120),a=n(209),u=n(178),s=n(203),c=Object.getOwnPropertyDescriptor;e.f=n(131)?c:function(t,e){if(t=o(t),e=a(e,!0),s)try{return c(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(205),i=n(200).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(205),i=n(200);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(354),i=n(120),o=n(206).f;t.exports=function(t){return function(e){for(var n,a=i(e),u=r(a),s=u.length,c=0,l=[];s>c;)o.call(a,n=u[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(352),i=n(353),o=n(198),a=n(119).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(119),i=n(202),o=n(178),a=n(210)("src"),u="toString",s=Function[u],c=(""+s).split(u);n(199).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,u){var s="function"==typeof n;s&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(s&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(359)("keys"),i=n(210);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(119),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){"use strict";var r=n(181),i=n(177);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r=n(181),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},,,,function(t,e,n){var r,i;/*! Picturefill - v2.3.0-beta - 2015-02-25
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var t,e,n,r=window.styleMedia||window.media;return r||(t=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null,t.type="text/css",t.id="matchmediajs-test",e.parentNode.insertBefore(t,e),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,r={matchMedium:function(e){var r="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=r:t.textContent=r,"1px"===n.width}}),function(t){return{matches:r.matchMedium(t||"all"),media:t||"all"}}}()),r=[n(18)],i=function(t){/*! Picturefill - Responsive Images that work today.
    *  Author: Scott Jehl, Filament Group, 2012 (new proposal implemented by Shawn Jansepar)
    *  License: MIT/GPLv2
    *  Spec: http://picture.responsiveimages.org/
    */
return function(e,n,r){"use strict";function i(r){var i,u,s,c,l,f=r||{};i=f.elements||o.getAllElements,t.read(function(){o.viewportWidth=Math.max(e.innerWidth||0,n.documentElement.clientWidth);for(var t=0,r=i.length;t<r;t++)if(u=i[t],s=u.parentNode,c=void 0,l=void 0,"IMG"===u.nodeName.toUpperCase()&&(u[o.ns]||(u[o.ns]={}),f.reevaluate||!u[o.ns].evaluated)){if(s&&"PICTURE"===s.nodeName.toUpperCase()){if(o.removeVideoShim(s),c=o.getMatch(u,s),c===!1)continue}else c=void 0;(s&&"PICTURE"===s.nodeName.toUpperCase()||!o.sizesSupported&&u.srcset&&a.test(u.srcset))&&o.dodgeSrcset(u),c?(l=o.processSourceSet(c),o.applyBestCandidate(l,u)):(l=o.processSourceSet(u),(void 0===u.srcset||u[o.ns].srcset)&&o.applyBestCandidate(l,u)),u[o.ns].evaluated=!0}})}if(e.HTMLPictureElement)return function(){};n.createElement("picture");var o=e.picturefill||{},a=/\s+\+?\d+(e\d+)?w/;return o.ns="picturefill",function(){o.srcsetSupported="srcset"in r,o.sizesSupported="sizes"in r,o.curSrcSupported="currentSrc"in r}(),o.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},o.makeUrl=function(){var t=n.createElement("a");return function(e){return t.href=e,t.href}}(),o.canMatchMedia=e.matchMedia&&e.matchMedia("(min-width: 0px)").matches,o.matchesMedia=function(t){return!o.canMatchMedia||e.matchMedia&&e.matchMedia(t).matches},o.getDpr=function(){return e.devicePixelRatio||1},o.getWidthFromLength=function(t){return t=t.replace("vw","%"),t=t.indexOf("%")>-1?o.viewportWidth*parseInt(t,10)*.01:parseInt(t,10)},o.parseSize=function(t){var e=/(\([^)]+\))?\s*(.+)/g.exec(t);return{media:e&&e[1],length:e&&e[2]}},o.findWidthFromSourceSize=function(t){var e,n,r,i,a,u,s,c=o.trim(t).split(/\s*,\s*/);for(n=0,r=c.length;n<r&&(i=c[n],a=o.parseSize(i),u=a.length,s=a.media,!u||s&&!o.matchesMedia(s)||!(e=o.getWidthFromLength(u)));n++);return e||o.viewportWidth},o.parseSrcset=function(t){for(var e,n,r,i,o,a=[];""!==t;)t=t.replace(/^\s+/g,""),e=t.search(/\s/g),r=null,e!==-1?(n=t.slice(0,e),i=n.slice(-1),","!==i&&""!==n||(n=n.replace(/,+$/,""),r=""),t=t.slice(e+1),null===r&&(o=t.indexOf(","),o!==-1?(r=t.slice(0,o),t=t.slice(o+1)):(r=t,t=""))):(n=t,t=""),(n||r)&&a.push({url:n,descriptor:r});return a},o.parseDescriptor=function(t,e){var n,r,i,a,u,s,c=e||"100vw",l=t&&t.replace(/(^\s+|\s+$)/g,""),f=o.findWidthFromSourceSize(c);if(l)for(r=l.split(" "),i=r.length-1;i>=0;i--)a=r[i],s=a&&a.slice(a.length-1),"h"!==s&&"w"!==s||o.sizesSupported?"x"===s&&(u=a&&parseFloat(a,10),n=u&&!isNaN(u)?u:1):n=parseFloat(parseInt(a,10)/f);return n||1},o.getCandidatesFromSourceSet=function(t,e){var n,r,i,a=o.parseSrcset(t),u=[];for(r=0,i=a.length;r<i;r++)n=a[r],u.push({url:n.url,resolution:o.parseDescriptor(n.descriptor,e)});return u},o.dodgeSrcset=function(t){t.srcset&&(t[o.ns].srcset=t.srcset,t.srcset="",t.setAttribute("data-pfsrcset",t[o.ns].srcset))},o.processSourceSet=function(t){var e=t.getAttribute("srcset"),n=t.getAttribute("sizes"),r=[];return"IMG"===t.nodeName.toUpperCase()&&t[o.ns]&&t[o.ns].srcset&&(e=t[o.ns].srcset),e&&(r=o.getCandidatesFromSourceSet(e,n)),r},o.applyBestCandidate=function(e,n){var r,i,a,u;for(e.sort(o.ascendingSort),i=e.length,a=e[i-1],u=0;u<i;u++)if(r=e[u],r.resolution>=o.getDpr()){a=r;break}a&&(a.url=o.makeUrl(a.url),n.src!==a.url&&t.write(function(){n.src=a.url,o.curSrcSupported||(n.currentSrc=n.src)}))},o.ascendingSort=function(t,e){return t.resolution-e.resolution},o.removeVideoShim=function(t){var e=t.getElementsByTagName("video");if(e.length){for(var n=e[0],r=n.getElementsByTagName("source");r.length;)t.insertBefore(r[0],n);n.parentNode.removeChild(n)}},o.getAllElements=function(){var t,e,r,i=[],a=n.getElementsByTagName("img");for(e=0,r=a.length;e<r;e++)t=a[e],("PICTURE"===t.parentNode.nodeName.toUpperCase()||null!==t.getAttribute("srcset")||t[o.ns]&&null!==t[o.ns].srcset)&&i.push(t);return i},o.getMatch=function(t,e){for(var n,r=e.childNodes,i=0,a=r.length;i<a;i++){var u=r[i];if(1===u.nodeType){if(u===t)return n;if("SOURCE"===u.nodeName.toUpperCase()){null!==u.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var s=u.getAttribute("media");if(u.getAttribute("srcset")&&(!s||o.matchesMedia(s))){n=u;break}}}}return n},i._=o,i}(window,window.document,new window.Image)}.apply(e,r),!(void 0!==i&&(t.exports=i))},,,,,,function(t,e,n){var r,i;r=[n(18),n(3),n(90)],i=function(t,e,n){function r(){var t=e(".js-add-comment-activity-link")[0];if(t){var r=n.getUserFromCookie();t.removeAttribute("hidden"),t.setAttribute("href","https://profile.theguardian.com/user/id/"+r.id)}}function i(){if(n.isUserLoggedIn()){var i=e(".js-show-user-account-links")[0];i&&t.write(function(){i.classList.add("user-signed-in"),r()})}}return i}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(121),n(26),n(212),n(0),n(125),n(218),n(214),n(213),n(216),n(215)],i=function(t,e,r,i,o,a){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}var s=u(t),c=u(e),l=u(r),f=u(i),d=u(a);n.p=f.default.page.assetsPath+"javascripts/";var p=function(){(0,s.default)(function(){(0,o.markTime)("standard boot"),(0,l.default)(),f.default.page.isDev&&window.guardian.adBlockers.onDetect.push(function(t){var e=t&&window.console&&window.console.warn,n="Do you have an adblocker enabled? Commercial features might fail to run, or throw exceptions.";e&&window.console.warn(n)}),(0,o.markTime)("commercial request"),n.e(0).then(function(t){c.default.context({tags:{feature:"commercial"}},function(){(0,o.markTime)("commercial boot");var t=f.default.switches.commercial?n(363):Promise.resolve;t().then(function(){window.guardian.isEnhanced&&((0,o.markTime)("enhanced request"),n.e(5).then(function(t){(0,o.markTime)("enhanced boot"),n(364)(),"complete"===document.readyState?(0,d.default)():window.addEventListener("load",d.default)}.bind(null,n)).catch(n.oe))})})}.bind(null,n)).catch(n.oe)})};window.guardian.polyfilled?p():window.guardian.onPolyfilled=p}.apply(e,r),!(void 0!==i&&(t.exports=i))}]);
//# sourceMappingURL=graun.standard.js.map