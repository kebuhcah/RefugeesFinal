webpackJsonp([0],[,,function(e,t,n){var i,r;i=[n(5)],r=function(e){var t="[object Array]",n=Object.prototype,i=n.toString,r=e(r=Array.isArray)&&r,a=r||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&i.call(e)==t||!1};return a}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(5)],r=function(e){var t=/\bthis\b/,n="[object Arguments]",i="[object Object]",r=[],a=Error.prototype,o=Object.prototype,s=o.toString,c=o.propertyIsEnumerable,u={};return function(){var o=function(){this.x=1},l={0:1,length:1},d=[];o.prototype={valueOf:1,y:1};for(var p in new o)d.push(p);for(p in arguments);u.argsClass=s.call(arguments)==n,u.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),u.enumErrorProps=c.call(a,"message")||c.call(a,"name"),u.enumPrototypes=c.call(o,"prototype"),u.funcDecomp=!e(window.WinRTError)&&t.test(function(){return this}),u.funcNames="string"==typeof Function.name,u.nonEnumArgs=0!=p,u.nonEnumShadows=!/valueOf/.test(d),u.ownLast="x"!=d[0],u.spliceObjects=(r.splice.call(l,0,1),!l[0]),u.unindexedChars="x"[0]+Object("x")[0]!="xx";try{u.nodeClass=!(s.call(document)==i&&!({toString:0}+""))}catch(e){u.nodeClass=!0}}(1),u}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[],r=function(){function e(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,a=Array(r<0?0:r);++i<r;)a[i]=e[t+i];return a}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(32),n(5),n(1),n(103),n(4)],r=function(e,t,n,i,r){var a=t(a=Object.keys)&&a,o=a?function(t){return n(t)?r.enumPrototypes&&"function"==typeof t||r.nonEnumArgs&&t.length&&e(t)?i(t):a(t):[]}:i;return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(25),n(144),n(1),n(8),n(152)],r=function(e,t,n,i,r){function a(a,o,s){var c=typeof a;if(null==a||"function"==c)return e(a,o,s);if("object"!=c)return r(a);var u=i(a),l=u[0],d=a[l];return 1!=u.length||d!==d||n(d)?function(e){for(var n=u.length,i=!1;n--&&(i=t(e[u[n]],a[u[n]],null,!0)););return i}:function(e){var t=e[l];return d===t&&(0!==d||1/d==1/t)}}return a}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(14),n(28)],r=function(e,t){var n=e(t);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(14),n(65)],r=function(e,t){var n=e(t,{top:t.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"});return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(25),n(101),n(32),n(2),n(63),n(102),n(33)],r=function(e,t,n,i,r,a,o){function s(){y.shadowedProps=c,y.array=y.bottom=y.loop=y.top="",y.init="iterable",y.useHas=!0;for(var s,u=0;s=arguments[u];u++)for(var l in s)y[l]=s[l];var d=y.args;y.firstArg=/^[^,]+/.exec(d)[0];var f=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+d+") {\n"+a(y)+"\n}");return f(e,p,b,x,t,n,i,r,y.keys,w,o,C,m,_,k)}var c=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],u="[object Array]",l="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object Number]",g="[object Object]",v="[object RegExp]",m="[object String]",y={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},b=Error.prototype,w=Object.prototype,_=String.prototype,k=w.toString,x=w.hasOwnProperty,C={};return C[u]=C[d]=C[h]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},C[l]=C[m]={constructor:!0,toString:!0,valueOf:!0},C[p]=C[f]=C[v]={constructor:!0,toString:!0},C[g]={constructor:!0},function(){for(var e=c.length;e--;){var t=c[e];for(var n in C)x.call(C,n)&&!x.call(C[n],t)&&(C[n][t]=!1)}}(),s}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,function(e,t,n){var i,r;/*!
  * Bean - copyright (c) Jacob Thornton 2011-2012
  * https://github.com/fat/bean
  * MIT license
  */
!function(a,o,s){"undefined"!=typeof e&&e.exports?e.exports=s():(i=s,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r)))}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,i=window,r=t[e],a=/[^\.]*(?=\..*)\.|.*/,o=/\..*/,s="addEventListener",c="removeEventListener",u=document||{},l=u.documentElement||{},d=l[s],p=d?s:"attachEvent",f={},h=Array.prototype.slice,g=function(e,t){return e.split(t||" ")},v=function(e){return"string"==typeof e},m=function(e){return"function"==typeof e},y="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},g(y+(d?b:""))),_=function(){var e="compareDocumentPosition"in l?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in l?function(e,t){return t=9===t.nodeType||t===window?l:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),k=function(){var e=g("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(g("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(g("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),r=e.concat(g("char charCode key keyCode keyIdentifier keyLocation location")),a=e.concat(g("data")),o=e.concat(g("touches targetTouches changedTouches scale rotation")),s=e.concat(g("data origin source")),c=e.concat(g("state")),d=/over|out/,p=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,r}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,i){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+u.body.scrollLeft+l.scrollLeft,n.clientY=e.clientY+u.body.scrollTop+l.scrollTop),d.test(i)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return a}},{reg:/^touch|^gesture/i,fix:function(){return o}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return c}},{reg:/.*/,fix:function(){return e}}],f={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||i).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var r,a,o,s,c,u=e.type,l=e.target||e.srcElement;if(this.target=l&&3===l.nodeType?l.parentNode:l,n){if(c=f[u],!c)for(r=0,a=p.length;r<a;r++)if(p[r].reg.test(u)){f[u]=c=p[r].fix;break}for(s=c(e,this,u),r=s.length;r--;)!((o=s[r])in this)&&o in e&&(this[o]=e[o])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),x=function(e,t){return d||t||e!==u&&e!==i?e:l},C=function(){var e=function(e,t,n,i){var r=function(n,r){return t.apply(e,i?h.call(r,n?0:1).concat(i):r)},a=function(n,i){return t.__beanDel?t.__beanDel.ft(n.target,e):i},o=n?function(e){var t=a(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),r(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(a(e))),r(e,arguments)};return o.__beanDel=t.__beanDel,o},t=function(t,n,i,r,a,o,s){var c,u=_[n];"unload"==n&&(i=T(L,t,n,i,r)),u&&(u.condition&&(i=e(t,i,u.condition,o)),n=u.base||n),this.isNative=c=w[n]&&!!t[p],this.customType=!d&&!c&&n,this.element=t,this.type=n,this.original=r,this.namespaces=a,this.eventType=d||c?n:"propertychange",this.target=x(t,c),this[p]=!!this.target[p],this.root=s,this.handler=e(t,i,null,o)};return t.prototype.inNamespaces=function(e){var t,n,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&i++;return e.length===i},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),I=function(){var e={},t=function(n,i,r,a,o,s){var c=o?"r":"$";if(i&&"*"!=i){var u,l=0,d=e[c+i],p="*"==n;if(!d)return;for(u=d.length;l<u;l++)if((p||d[l].matches(n,r,a))&&!s(d[l],d,l,i))return}else for(var f in e)f.charAt(0)==c&&t(n,f.substr(1),r,a,o,s)},n=function(t,n,i,r){var a,o=e[(r?"r":"$")+n];if(o)for(a=o.length;a--;)if(!o[a].root&&o[a].matches(t,i,null))return!0;return!1},i=function(e,n,i,r){var a=[];return t(e,n,i,null,r,function(e){return a.push(e)}),a},r=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(e[i]||(e[i]=[])).push(t),n},a=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,i){return n.splice(i,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},o=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:i,put:r,del:a,entries:o}}(),E=function(e){n=arguments.length?e:u.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},A=function(e,t){if(d||!t||!e||e.propertyName=="_on"+t){var n=I.get(this,t||e.type,null,!1),i=n.length,r=0;for(e=new k(e,this,!0),t&&(e.type=t);r<i&&!e.isImmediatePropagationStopped();r++)n[r].removed||n[r].handler.call(this,e)}},B=d?function(e,t,n){e[n?s:c](t,A,!1)}:function(e,t,n,i){var r;n?(I.put(r=new C(e,i||t,function(t){A.call(e,t,i)},A,null,null,!0)),i&&null==e["_on"+i]&&(e["_on"+i]=0),r.target.attachEvent("on"+r.eventType,r.handler)):(r=I.get(e,i||t,A,!0)[0],r&&(r.target.detachEvent("on"+r.eventType,r.handler),I.del(r)))},T=function(e,t,n,i,r){return function(){i.apply(this,arguments),e(t,n,r)}},L=function(e,t,n,i){var r,a,s=t&&t.replace(o,""),c=I.get(e,s,null,!1),u={};for(r=0,a=c.length;r<a;r++)n&&c[r].original!==n||!c[r].inNamespaces(i)||(I.del(c[r]),!u[c[r].eventType]&&c[r][p]&&(u[c[r].eventType]={t:c[r].eventType,c:c[r].type}));for(r in u)I.has(e,u[r].t,null,!1)||B(e,u[r].t,!1,u[r].c)},P=function(e,t){var i=function(t,i){for(var r,a=v(e)?n(e,i):e;t&&t!==i;t=t.parentNode)for(r=a.length;r--;)if(a[r]===t)return t},r=function(e){var n=i(e.target,this);n&&t.apply(n,arguments)};return r.__beanDel={ft:i,selector:e},r},S=d?function(e,t,n){var r=u.createEvent(e?"HTMLEvents":"UIEvents");r[e?"initEvent":"initUIEvent"](t,!0,!0,i,1),n.dispatchEvent(r)}:function(e,t,n){n=x(n,e),e?n.fireEvent("on"+t,u.createEventObject()):n["_on"+t]++},M=function(e,t,n){var i,r,s,c,u=v(t);if(u&&t.indexOf(" ")>0){for(t=g(t),c=t.length;c--;)M(e,t[c],n);return e}if(r=u&&t.replace(o,""),r&&_[r]&&(r=_[r].base),!t||u)(s=u&&t.replace(a,""))&&(s=g(s,".")),L(e,r,n,s);else if(m(t))L(e,null,t);else for(i in t)t.hasOwnProperty(i)&&M(e,i,t[i]);return e},j=function(e,t,i,r){var s,c,u,l,d,v,y;{if(void 0!==i||"object"!=typeof t){for(m(i)?(d=h.call(arguments,3),r=s=i):(s=r,d=h.call(arguments,4),r=P(i,s,n)),u=g(t),this===f&&(r=T(M,e,t,r,s)),l=u.length;l--;)y=I.put(v=new C(e,u[l].replace(o,""),r,s,g(u[l].replace(a,""),"."),d,!1)),v[p]&&y&&B(e,v.eventType,!0,v.customType);return e}for(c in t)t.hasOwnProperty(c)&&j.call(this,e,c,t[c])}},R=function(e,t,n,i){return j.apply(null,v(n)?[e,n,t,i].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},O=function(){return j.apply(f,arguments)},D=function(e,t,n){var i,r,s,c,u,l=g(t);for(i=l.length;i--;)if(t=l[i].replace(o,""),(c=l[i].replace(a,""))&&(c=g(c,".")),c||n||!e[p])for(u=I.get(e,t,null,!1),n=[!1].concat(n),r=0,s=u.length;r<s;r++)u[r].inNamespaces(c)&&u[r].handler.apply(e,n);else S(w[t],t,e);return e},F=function(e,t,n){for(var i,r,a=I.get(t,n,null,!1),o=a.length,s=0;s<o;s++)a[s].original&&(i=[e,a[s].type],(r=a[s].handler.__beanDel)&&i.push(r.selector),i.push(a[s].original),j.apply(null,i));return e},N={on:j,add:R,one:O,off:M,remove:M,clone:F,fire:D,Event:k,setSelectorEngine:E,noConflict:function(){return t[e]=r,this}};if(i.attachEvent){var G=function(){var e,t=I.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&M(t[e].element,t[e].type);i.detachEvent("onunload",G),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",G)}return E(),N})},,,,function(e,t,n){var i,r;i=[n(97),n(86),n(38),n(4)],r=function(e,t,n,i){function r(r,c,u){if("function"!=typeof r)return t;if("undefined"==typeof c||!("prototype"in r))return r;var l=r.__bindData__;if("undefined"==typeof l&&(i.funcNames&&(l=!r.name),l=l||!i.funcDecomp,!l)){var d=s.call(r);i.funcNames||(l=!a.test(d)),l||(l=o.test(d),n(r,l))}if(l===!1||l!==!0&&1&l[1])return r;switch(u){case 1:return function(e){return r.call(c,e)};case 2:return function(e,t){return r.call(c,e,t)};case 3:return function(e,t,n){return r.call(c,e,t,n)};case 4:return function(e,t,n,i){return r.call(c,e,t,n,i)}}return e(r,c)}var a=/^\s*function[ \n\r\t]+\w/,o=/\bthis\b/,s=Function.prototype.toString;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[e,t,n(15),n(3)],r=function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),o=r(i);a.default.aug({height:function(){return this.dim().height}});var s=function(e,t){return(0,a.default)((0,o.default)(e,t))};s.create=function(e){return(0,a.default)(a.default.create(e))},s.ancestor=function(e,t){return null!==e&&"html"!==e.nodeName.toLowerCase()&&(!e.parentNode||(0,a.default)(e.parentNode).hasClass(t)?e.parentNode:s.ancestor(e.parentNode,t))},s.forEachElement=function(e,t){var n=(0,o.default)(e);return n.forEach(t),n},t.default=s,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(8)],r=function(e){var t={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:e,loop:"if (callback(iterable[index], index, collection) === false) return result"};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){var i,r;i=[n(4)],r=function(e){function t(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==n||!1}var n="[object Arguments]",i=Object.prototype,r=i.toString,a=i.hasOwnProperty,o=i.propertyIsEnumerable;return e.argsClass||(t=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&a.call(e,"callee")&&!o.call(e,"callee")||!1}),t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){var i,r;i=[n(146),n(96),n(150),n(8),n(95),n(153),n(127)],r=function(e,t,n,i,r,a,o){function s(t,s,g){var v=a.imports._.templateSettings||a;t=String(t||""),g=e({},g,v);var m,y=e({},g.imports,v.imports),b=i(y),w=o(y),_=0,k=g.interpolate||f,x="__p += '",C=RegExp((g.escape||f).source+"|"+k.source+"|"+(k===r?p:f).source+"|"+(g.evaluate||f).source+"|$","g");t.replace(C,function(e,i,r,a,o,s){return r||(r=a),x+=t.slice(_,s).replace(h,n),i&&(x+="' +\n__e("+i+") +\n'"),o&&(m=!0,x+="';\n"+o+";\n__p += '"),r&&(x+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),_=s+e.length,e}),x+="';\n";var I=g.variable,E=I;E||(I="obj",x="with ("+I+") {\n"+x+"\n}\n"),x=(m?x.replace(u,""):x).replace(l,"$1").replace(d,"$1;"),x="function("+I+") {\n"+(E?"":I+" || ("+I+" = {});\n")+"var __t, __p = '', __e = _.escape"+(m?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";try{var A=Function(b,"return "+x).apply(c,w)}catch(e){throw e.source=x,e}return s?A(s):(A.source=x,A)}var c,u=/\b__p \+= '';/g,l=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,f=/($^)/,h=/['\n\r\t\u2028\u2029\\]/g;return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(15),n(3),n(52),n(13),n(48)],r=function(e,t,n,i,r,a){function o(e){return new Error("Component: "+e)}var s=function(){};return s.prototype.useBem=!1,s.prototype.templateName=null,s.prototype.componentClass=null,s.prototype.endpoint=null,s.prototype.classes=null,s.prototype.elem=null,s.prototype.model=null,s.prototype.template=null,s.prototype.rendered=!1,s.prototype.destroyed=!1,s.prototype.elems=null,s.prototype.options=null,s.prototype.defaultOptions={},s.prototype.responseDataKey="html",s.prototype.autoupdated=!1,s.prototype.updateEvery=60,s.prototype.t=null,s.prototype.fetchData=null,s.prototype.manipulationType="append",s.prototype.attachTo=function(e){if(this.checkAttached(),!e)throw new o("Need element to attach to");this.elem=e,this._prerender(),this._ready()},s.prototype.render=function(e){this.checkAttached();var n=this.template;if(!n&&this.templateName){var i=document.getElementById("tmpl-"+this.templateName);i&&(n=i.innerHTML)}return n&&(this.elem=t.create(n)[0],this._prerender(),t(e||document.body)[this.manipulationType](this.elem)),this._ready(),this},s.prototype.checkAttached=function(){if(this.rendered)throw new o("Already rendered")},s.prototype.fetch=function(e,n){this.checkAttached(),this.responseDataKey=n||this.responseDataKey;var i=this;return this._fetch().then(function(n){i.elem=t.create(n[i.responseDataKey])[0],i._prerender(),i.destroyed||(t(e)[i.manipulationType](i.elem),i._ready(i.elem))}).fail(function(e){i.error(e)})},s.prototype._fetch=function(){var e,t="function"==typeof this.endpoint?this.endpoint():this.endpoint,n=this;for(e in this.options)t=t.replace(":"+e,this.options[e]);return i({url:t,type:"json",method:"get",crossOrigin:!0,data:this.fetchData}).then(function(e){return n.fetched(e),e})},s.prototype._ready=function(e){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready(e))},s.prototype._prerender=function(){this.elems={},this.prerender()},s.prototype._autoupdate=function(){function e(){n._fetch().then(function(i){n.autoupdate(t.create(i[n.responseDataKey])[0]),n.autoupdated&&(n.t=setTimeout(e,1e3*n.updateEvery))},function(){n.t=setTimeout(e,1e3*n.updateEvery)})}var n=this;this.autoupdated&&(this.t=setTimeout(e,1e3*this.updateEvery))},s.prototype.prerender=function(){},s.prototype.ready=function(){},s.prototype.error=function(){},s.prototype.fetched=function(){},s.prototype.autoupdate=function(e){var n=this.elem;this.elem=e,this._prerender(),t(n).replaceWith(this.elem)},s.prototype.dispose=function(){},s.prototype.on=function(t,n,i){return"function"==typeof n?(i=n,e.on(this.elem,t,i.bind(this))):(n=n.length?n:[n],e.on(this.elem,t,n,i.bind(this))),this},s.prototype.emit=function(t,n){e.fire(this.elem,t,n)},s.prototype.getElem=function(e){if(this.elems[e])return this.elems[e];var t=n(this.getClass(e),this.elem)[0];return this.elems[e]=t,t},s.prototype.getClass=function(e,t){var n=this.useBem?this.componentClass+"__"+e:this.classes[e];return(t?"":".")+n},s.prototype.setState=function(e,n){var i=n?this.getElem(n):this.elem;t(i).addClass(this.componentClass+(n?"__"+n:"")+"--"+e)},s.prototype.removeState=function(e,n){var i=n?this.getElem(n):this.elem;return t(i).removeClass(this.componentClass+(n?"__"+n:"")+"--"+e)},s.prototype.toggleState=function(e,n){var i=n?this.getElem(n):this.elem;t(i).toggleClass(this.componentClass+(n?"__"+n:"")+"--"+e)},s.prototype.hasState=function(e,n){var i=n?this.getElem(n):this.elem;return t(i).hasClass(this.componentClass+(n?"__"+n:"")+"--"+e)},s.prototype.setOptions=function(e){this.options=r(a(this.defaultOptions),this.options||{},e)},s.prototype.detach=function(){e.off(this.elem)},s.prototype.destroy=function(){this.elem&&(t(this.elem).remove(),delete this.elem),clearTimeout(this.t),this.t=null,this.autoupdated=!1,this.detach(),this.destroyed=!0,this.rendered=!1},s.define=function(e){function t(){}t.prototype=s.prototype,e.prototype=new t,e.prototype.constructor=e},s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(5),n(46)],r=function(e,t){var n={configurable:!1,enumerable:!1,value:null,writable:!1},i=function(){try{var t={},n=e(n=Object.defineProperty)&&n,i=n(t,t,t)&&n}catch(e){}return i}(),r=i?function(e,t){n.value=t,i(e,"__bindData__",n)}:t;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,function(e,t,n){var i,r;i=[n(53)],r=function(e){function t(){return e.pop()||[]}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(53),n(67)],r=function(e,t){function n(n){n.length=0,e.length<t&&e.push(n)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(){}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(99),n(25)],r=function(e,t){function n(n,i,r,a){return"boolean"!=typeof i&&null!=i&&(a=r,r=i,i=!1),e(n,i,"function"==typeof r&&t(r,a,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,function(e,t,n){var i,r;i=[],r=function(){var e=[];return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(5),n(1),n(46)],r=function(e,t,n){function i(e,n){return t(e)?r(e):{}}var r=e(r=Object.create)&&r;return r||(i=function(){function e(){}return function(n){if(t(n)){e.prototype=n;var i=new e;e.prototype=null}return i||window.Object()}}()),i}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){var i,r;i=[e,t,n(18)],r=function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n),a=function(e){return function(t,n){return new Promise(function(i,r){return e(function(){try{i(t.call(this))}catch(e){r(e)}},n)})}};t.default={read:a(r.default.read.bind(r.default)),write:a(r.default.write.bind(r.default))},e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(12),n(11),n(2)],r=function(e,t,n){function i(i,r,a){var o=-1,s=i?i.length:0,c=Array("number"==typeof s?s:0);if(r=t(r,a,3),n(i))for(;++o<s;)c[o]=r(i[o],o,i);else e(i,function(e,t,n){c[++o]=r(e,t,n)});return c}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(14),n(28),n(66)],r=function(e,t,n){var i=e(t,n);return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return"string"==typeof e||e&&"object"==typeof e&&i.call(e)==t||!1}var t="[object String]",n=Object.prototype,i=n.toString;return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(8)],r=function(e){var t={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:e,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(28)],r=function(e){var t={top:"if (!objectTypes[typeof iterable]) return result;\n"+e.top,array:!1};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e=40;return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(25),n(12),n(2)],r=function(e,t,n){function i(e,i,r){if(i&&"undefined"==typeof r&&n(e))for(var a=-1,o=e.length;++a<o&&i(e[a],a,e)!==!1;);else t(e,i,r);return e}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18),n(3),n(27),n(0),n(58)],r=function(e,t,n,i,r){return function(e){function t(e){var t=n(".js-email-sub__iframe")[0];t.setAttribute("src","https://www.theguardian.com/email/form/plaintone/"+e)}function a(e){return r.write(function(){var t=n('input[value="'+s+'"]')[0],i=n('button[value="'+s+'"]')[0];t.setAttribute("value",e),i.setAttribute("value",e)})}this.id=e.id,this.start=e.start,this.expiry=e.end,this.author=e.author,this.audienceOffset=e.audienceOffset,this.audience=e.audience,this.description="Using the wonderful frontend AB testing framework to AB test emails, since the AB function in ExactTarget re-randomises all recipients on each send, and we need users to receive their variant for several weeks. This test will ensure users are added to the corresponding email list (listId) in ExactTarget",this.successMeasure="We can trial different email formats to fairly compare their CTO rates",this.audienceCriteria="All users who see an email signup box",this.dataLinkNames="",this.idealOutcome="";var o=e.signupPage,s=e.canonicalListId;this.canRun=function(){return o&&i.page.contentId===o||"/email-newsletters"===i.page.pageId},this.variants=e.testIds.map(function(e){return{id:e.variantId,test:function(){o&&i.page.contentId===o?t(e.listId):a(e.listId)}}})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(98),n(100),n(16),n(6)],r=function(e,t,n,i){function r(a,c,u,l,d,p){var f=1&c,h=2&c,g=4&c,v=16&c,m=32&c;if(!h&&!n(a))throw new TypeError;v&&!u.length&&(c&=-17,v=u=!1),m&&!l.length&&(c&=-33,m=l=!1);var y=a&&a.__bindData__;if(y&&y!==!0)return y=i(y),y[2]&&(y[2]=i(y[2])),y[3]&&(y[3]=i(y[3])),!f||1&y[1]||(y[4]=d),!f&&1&y[1]&&(c|=8),!g||4&y[1]||(y[5]=p),v&&o.apply(y[2]||(y[2]=[]),u),m&&s.apply(y[3]||(y[3]=[]),l),y[1]|=c,r.apply(null,y);var b=1==c||17===c?e:t;return b([a,c,u,l,d,p])}var a=[],o=a.push,s=a.unshift;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return e}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,function(e,t,n){var i,r;i=[],r=function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e=[];return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e=/<%=([\s\S]+?)%>/g;return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(149),n(8),n(151)],r=function(e,t,n){function i(t){return null==t?"":String(t).replace(n,e)}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(85),n(6),n(4)],r=function(e,t,n){function i(n,i){return arguments.length>2?e(n,17,t(arguments,2),null,i):e(n,1,null,null,i)}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(54),n(1),n(38),n(6)],r=function(e,t,n,i){function r(r){function a(){if(c){var n=i(c);o.apply(n,arguments)}if(this instanceof a){var r=e(s.prototype),l=s.apply(r,n||arguments);return t(l)?l:r}return s.apply(u,n||arguments)}var s=r[0],c=r[2],u=r[4];return n(a,r),a}var a=[],o=a.push;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(13),n(12),n(62),n(44),n(2),n(64),n(1),n(45),n(6),n(4)],r=function(e,t,n,i,r,a,o,s,c,u){function l(p,f,v,y,k){if(v){var E=v(p);if("undefined"!=typeof E)return E}var A=o(p);if(!A)return p;var B=x.call(p);if(!_[B]||!u.nodeClass&&a(p))return p;var T=I[B];switch(B){case h:case g:return new T(+p);case m:case w:return new T(p);case b:return E=T(p.source,d.exec(p)),E.lastIndex=p.lastIndex,E}var L=r(p);if(f){var P=!y;y||(y=i()),k||(k=i());for(var S=y.length;S--;)if(y[S]==p)return k[S];E=L?T(p.length):{}}else E=L?c(p):e({},p);return L&&(C.call(p,"index")&&(E.index=p.index),C.call(p,"input")&&(E.input=p.input)),f?(y.push(p),k.push(E),(L?t:n)(p,function(e,t){E[t]=l(e,f,v,y,k)}),P&&(s(y),s(k)),E):E}var d=/\w*$/,p="[object Arguments]",f="[object Array]",h="[object Boolean]",g="[object Date]",v="[object Function]",m="[object Number]",y="[object Object]",b="[object RegExp]",w="[object String]",_={};_[v]=!1,_[p]=_[f]=_[h]=_[g]=_[m]=_[y]=_[b]=_[w]=!0;var k=Object.prototype,x=k.toString,C=k.hasOwnProperty,I={};return I[f]=Array,I[h]=Boolean,I[g]=Date,I[v]=Function,I[y]=Object,I[m]=Number,I[b]=RegExp,I[w]=String,l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(54),n(1),n(38),n(6)],r=function(e,t,n,i){function r(a){function s(){var n=h?p:this;if(l){var a=i(l);o.apply(a,arguments)}if((d||v)&&(a||(a=i(arguments)),d&&o.apply(a,d),v&&a.length<f))return u|=16,r([c,m?u:u&-4,a,null,p,f]);if(a||(a=arguments),g&&(c=n[y]),this instanceof s){n=e(c.prototype);var b=c.apply(n,a);return t(b)?b:n}return c.apply(n,a)}var c=a[0],u=a[1],l=a[2],d=a[3],p=a[4],f=a[5],h=1&u,g=2&u,v=4&u,m=8&u,y=c;return n(s,a),s}var a=[],o=a.push;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e={};return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(4)],r=function(e){var t=function(t){var n="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(n+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",e.unindexedChars&&(n+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),n+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):e.nonEnumArgs&&(n+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),e.enumPrototypes&&(n+="\n  var skipProto = typeof iterable == 'function';\n  "),e.enumErrorProps&&(n+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var i=[];if(e.enumPrototypes&&i.push('!(skipProto && index == "prototype")'),e.enumErrorProps&&i.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)n+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",i.length&&(n+="    if ("+i.join(" && ")+") {\n  "),n+=t.loop+";    ",i.length&&(n+="\n    }"),n+="\n  }  ";else if(n+="\n  for (index in iterable) {\n",t.useHas&&i.push("hasOwnProperty.call(iterable, index)"),i.length&&(n+="    if ("+i.join(" && ")+") {\n  "),n+=t.loop+";    ",i.length&&(n+="\n    }"),n+="\n  }    ",e.nonEnumShadows){for(n+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)n+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(n+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),n+=") {\n      "+t.loop+";\n    }      ";n+="\n  }    "}return(t.array||e.nonEnumArgs)&&(n+="\n}"),n+=t.bottom+";\nreturn result"};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(14)],r=function(e){var t=e({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"});return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(310),n(0),n(22),n(134),n(136),n(90),n(133)],r=function(e,t,n,i,r,a,o){function s(){var i=this,s=e.getHash().match(/[#&]noads(&.*)?$/),c=!s&&!o.isOff("adverts"),u=t.page.shouldHideAdverts||"childrens-books-site"===t.page.section,l=t.page.isMinuteArticle,d="Article"===t.page.contentType,p="Interactive"===t.page.contentType,f=t.page.isLiveBlog,h=t.page.isHosted,g=t.hasTone("Match reports"),v="Identity"===t.page.contentType||"identity"===t.page.section,m=t.switches,y="wide"===n.getBreakpoint(),b=document.documentElement.classList.contains("has-sticky"),w=t.page.showNewRecipeDesign&&t.tests.abNewRecipeDesign;this.dfpAdvertising=m.commercial&&c&&!u,this.stickyTopBannerAd=!t.page.disableStickyTopBanner&&!b,this.articleBodyAdverts=this.dfpAdvertising&&!l&&d&&!f&&!h&&!w,this.articleAsideAdverts=this.dfpAdvertising&&!l&&!g&&!(!d&&!f)&&!w,this.videoPreRolls=this.dfpAdvertising,this.highMerch=this.dfpAdvertising&&!l&&!h&&!p&&!t.page.isFront&&!w,this.thirdPartyTags=c&&!v,this.outbrain=this.dfpAdvertising&&m.outbrain&&d&&!t.page.isPreview&&t.page.showRelatedContent&&!(a.isUserLoggedIn()&&t.page.commentable),this.commentAdverts=this.dfpAdvertising&&!l&&t.switches.discussion&&t.page.commentable&&a.isUserLoggedIn()&&(!f||y),this.liveblogAdverts=f&&this.dfpAdvertising,this.paidforBand=t.page.isPaidContent&&!t.page.hasSuperStickyBanner&&!b,this.canReasonablyAskForMoney=!(r.isPayingMember()||t.page.shouldHideAdverts||t.page.isPaidContent),this.async={canDisplayMembershipEngagementBanner:n.adblockInUse.then(function(e){return!e&&i.canReasonablyAskForMoney})}}try{return t.commercial=t.commercial||{},t.commercial.featuresDebug=new s}catch(e){i.logError("cm-commercialFeatures",e)}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(12),n(11),n(2)],r=function(e,t,n){function i(i,r,a,o){var s=arguments.length<3;if(r=t(r,o,4),n(i)){var c=-1,u=i.length;for(s&&(a=i[++c]);++c<u;)a=r(a,i[c],c,i)}else e(i,function(e,t,n){a=s?(s=!1,e):r(a,e,t,n)});return a}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(67),n(94)],r=function(e,t){function n(i){var r=i.cache;r&&n(r),i.array=i.cache=i.criteria=i.object=i.number=i.string=i.value=null,t.length<e&&t.push(i)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(14),n(28),n(66)],r=function(e,t,n){var i=e(t,n,{useHas:!1});return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(8)],r=function(e){function t(t){for(var n=-1,i=e(t),r=i.length,a=Array(r);++n<r;)a[n]=t[i[n]];return a}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,function(e,t,n){var i,r;i=[n(12),n(11),n(2)],r=function(e,t,n){function i(i,r,a){if(r=t(r,a,3),!n(i)){var o;return e(i,function(e,t,n){if(r(e,t,n))return o=e,!1}),o}for(var s=-1,c=i.length;++s<c;){var u=i[s];if(r(u,s,i))return u}}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31),n(0),n(59),n(10),n(90)],r=function(e,t,n,i,r){function a(){this._requestNewData=d,this._deleteOldData=f,this._persistResponse=p}function o(){return s()||c()}function s(){return!e.getCookie(h)||!e.getCookie(g)||!e.getCookie(v)}function c(){var t=e.getCookie(h),n=parseInt(t,10),i=(new Date).getTime();return i>=n}function u(){return!r.isUserLoggedIn()&&l()}function l(){return e.getCookie(h)||e.getCookie(g)||e.getCookie(v);
}function d(){n(t.page.userAttributesApiUrl+"/me/features",{mode:"cors",credentials:"include"}).then(p).catch(function(){})}function p(t){var n=new Date;n.setDate(n.getDate()+1),e.addCookie(h,n.getTime().toString()),e.addCookie(g,!t.adblockMessage),e.addCookie(v,t.adFree)}function f(){e.removeCookie(h),e.removeCookie(g),e.removeCookie(v)}var h="gu_user_features_expiry",g="gu_paying_member",v="GU_AFU";return a.prototype.refresh=function(){r.isUserLoggedIn()&&o()?this._requestNewData():u()&&this._deleteOldData()},a.prototype.isPayingMember=function(){return r.isUserLoggedIn()&&"false"!==e.getCookie(g)},a.prototype.isAdFreeUser=function(){return null===e.getCookie(v)&&this.refresh(),"true"===e.getCookie(v)},new a}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[],r=function(){function e(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(32),n(2)],r=function(e,t){function n(i,r,a,o){for(var s=(o||0)-1,c=i?i.length:0,u=[];++s<c;){var l=i[s];if(l&&"object"==typeof l&&"number"==typeof l.length&&(t(l)||e(l))){r||(l=n(l,r,a));var d=-1,p=l.length,f=u.length;for(u.length+=p;++d<p;)u[f++]=l[d]}else a||u.push(l)}return u}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(226),n(122),n(314),n(188),n(27),n(0),n(31),n(263),n(58),n(7),n(10),n(258),n(13),n(36),n(187)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h){function g(e){var t=864e5;try{var n=Date.parse(e);return isNaN(n)?1/0:(new Date-n)/t}catch(e){return 1/0}}function v(e){return f(h,{membershipUrl:e.membershipURL,contributionUrl:e.contributeURL,componentName:e.componentName})}function m(e){return!e.useTargetingTool||n.isAbTestTargeted(e)}function y(e){var n=g(E)>=90,i="Article"===a.page.contentType&&!a.page.isMinuteArticle,r=d.getSync(),o=!e.locations||e.locations.some(function(e){return e===r}),s="function"!=typeof e.locationCheck||e.locationCheck(r),c=a.page.isImmersive===!0,u=m(e),l=t.canReasonablyAskForMoney;return n&&l&&i&&o&&s&&!c&&u}function b(e){this.id=e.id,this.epic=e.epic||!0,this.start=e.start,this.expiry=e.expiry,this.author=e.author,this.idealOutcome=e.idealOutcome,this.campaignId=e.campaignId,this.description=e.description,this.showForSensitive=e.showForSensitive||!1,this.audience=e.audience,this.audienceOffset=e.audienceOffset,this.successMeasure=e.successMeasure,this.audienceCriteria=e.audienceCriteria,this.dataLinkNames=e.dataLinkNames||"",this.membershipCampaignPrefix=e.membershipCampaignPrefix||"gdnwb_copts_mem",this.contributionsCampaignPrefix=e.contributionsCampaignPrefix||"co_global",this.insertEvent=this.makeEvent("insert"),this.viewEvent=this.makeEvent("view"),this.isEngagementBannerTest=e.isEngagementBannerTest||!1,this.canRun=function(){if(e.overrideCanRun)return m(e)&&e.canRun();var t="function"!=typeof e.canRun||e.canRun();return t&&y(e)}.bind(this),this.variants=e.variants.map(function(e){return new w(e,this)}.bind(this))}function w(t,n){var o=n.epic?"epic_"+n.campaignId:n.campaignId;this.campaignId=n.campaignId,this.id=t.id,this.maxViews=t.maxViews||A,this.isUnlimited=t.isUnlimited||!1,this.pageviewId=a.ophan&&a.ophan.pageViewId||"not_found",this.contributeCampaignCode=_(n.contributionsCampaignPrefix,this.campaignId,this.id),this.membershipCampaignCode=_(n.membershipCampaignPrefix,this.campaignId,this.id),this.campaignCodes=e([this.contributeCampaignCode,this.membershipCampaignCode]),this.contributeURL=t.contributeURL||this.makeURL(I,this.contributeCampaignCode),this.membershipURL=t.membershipURL||this.makeURL(C,this.membershipCampaignCode),this.componentName="mem_acquisition_"+o+"_"+this.id,this.template=t.template||v,this.blockEngagementBanner=t.blockEngagementBanner||!1,this.engagementBannerParams=t.engagementBannerParams||{},this.isOutbrainCompliant=t.isOutbrainCompliant||!1,this.test=function(){function e(e){var a=e||this.template,p=r.create(a(this));return u.emit("register:begin",o),c.write(function(){var e=t.insertBeforeSelector||".submeta",a=r(e);a.length>0&&(p.insertBefore(a.first()),u.emit(n.insertEvent,p),l(p),p.each(function(e){var t=s(e,window,{top:18});t.on("firstview",function(){i.logView(n.id),u.emit(n.viewEvent),u.emit("register:end",o),d(this)})}))}.bind(this))}var a="function"!=typeof t.canEpicBeDisplayed||t.canEpicBeDisplayed(n);if(a){var l=t.onInsert||k,d=t.onView||k;return"function"==typeof t.test?t.test(e.bind(this)):e.apply(this)}},this.registerListener("impression","impressionOnInsert",n.insertEvent,t),this.registerListener("success","successOnView",n.viewEvent,t)}function _(e,t,n){return e+"_"+t+"_"+n}function k(){}function x(e){return function(t,n){return p({},e,{id:t},n)}}var C="https://membership.theguardian.com/supporter",I="https://contribute.theguardian.com",E=o.getCookie("gu.contributions.contrib-timestamp"),A={days:7,count:6,minDaysBetweenViews:0};return b.prototype.makeEvent=function(e){return this.id+":"+e},w.prototype.makeURL=function(e,t){var n=["REFPVID="+this.pageviewId,"INTCMP="+t];return e+"?"+n.filter(Boolean).join("&")},w.prototype.contributionsURLBuilder=function(e){return this.makeURL(I,e(this.contributeCampaignCode))},w.prototype.membershipURLBuilder=function(e){return this.makeURL(C,e(this.contributeCampaignCode))},w.prototype.registerListener=function(e,t,n,i){i[e]?this[e]=i[e]:i[t]&&(this[e]=function(e){return u.on(n,e)}.bind(this))},{defaultCanEpicBeDisplayed:y,makeABTest:function(e){return function(){return new b(e)}},variantBuilderFactory:x}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(t){return e.switches["ab"+t.id]}function n(e){var t=(new Date).setHours(0,0,0,0);return t>new Date(e)}function i(i){var r=n(i.expiry),a=e.page.isSensitive;return(!a||i.showForSensitive)&&t(i)&&!r&&(!i.canRun||i.canRun())}return{isExpired:n,testCanBeRun:i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(61)],r=function(e){var t=e;return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(126),n(44),n(32),n(16),n(64),n(33),n(45),n(4)],r=function(e,t,n,i,r,a,o,s){function c(m,w,_,k,x,C){if(_){var I=_(m,w);if("undefined"!=typeof I)return!!I}if(m===w)return 0!==m||1/m==1/w;var E=typeof m,A=typeof w;if(!(m!==m||m&&a[E]||w&&a[A]))return!1;if(null==m||null==w)return m===w;var B=y.call(m),T=y.call(w);if(B==u&&(B=h),T==u&&(T=h),B!=T)return!1;switch(B){case d:case p:return+m==+w;case f:return m!=+m?w!=+w:0==m?1/m==1/w:m==+w;case g:case v:return m==String(w)}var L=B==l;if(!L){var P=b.call(m,"__wrapped__"),S=b.call(w,"__wrapped__");if(P||S)return c(P?m.__wrapped__:m,S?w.__wrapped__:w,_,k,x,C);if(B!=h||!s.nodeClass&&(r(m)||r(w)))return!1;var M=!s.argsObject&&n(m)?Object:m.constructor,j=!s.argsObject&&n(w)?Object:w.constructor;if(M!=j&&!(i(M)&&M instanceof M&&i(j)&&j instanceof j)&&"constructor"in m&&"constructor"in w)return!1}var R=!x;x||(x=t()),C||(C=t());for(var O=x.length;O--;)if(x[O]==m)return C[O]==w;var D=0;if(I=!0,x.push(m),C.push(w),L){if(O=m.length,D=w.length,I=D==O,I||k)for(;D--;){var F=O,N=w[D];if(k)for(;F--&&!(I=c(m[F],N,_,k,x,C)););else if(!(I=c(m[D],N,_,k,x,C)))break}}else e(w,function(e,t,n){if(b.call(n,t))return D++,I=b.call(m,t)&&c(m[t],e,_,k,x,C)}),I&&!k&&e(m,function(e,t,n){if(b.call(n,t))return I=--D>-1});return x.pop(),C.pop(),R&&(o(x),o(C)),I}var u="[object Arguments]",l="[object Array]",d="[object Boolean]",p="[object Date]",f="[object Number]",h="[object Object]",g="[object RegExp]",v="[object String]",m=Object.prototype,y=m.toString,b=m.hasOwnProperty;return c}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(94)],r=function(e){function t(){return e.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(14),n(65)],r=function(e,t){var n=e(t);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(){function e(e,t,n,i,r,a){var o="media",s=i,c=r(e),u={eventCategory:o,eventAction:c,eventLabel:n,dimension19:a,dimension20:s},l=t[e.eventType];return l&&(u[l]=1),u}function t(e){var t=e.mediaType+" ";return t+=e.isPreroll?"preroll":"content"}return{buildGoogleAnalyticsEvent:e,getGoogleAnalyticsEventAction:t}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(11),n(6)],r=function(e,t){function n(n,a,o){var s=0,c=n?n.length:0;if("number"!=typeof a&&null!=a){var u=c;for(a=e(a,o,3);u--&&a(n[u],u,n);)s++}else if(s=a,null==s||o)return n?n[c-1]:i;return t(n,r(0,c-s))}var i,r=Math.max;return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(93)],r=function(e){function t(t){return e[t]}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return"\\"+t[e]}var t={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(93),n(8)],r=function(e,t){var n=RegExp("["+t(e).join("")+"]","g");return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return function(t){return t[e]}}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(96),n(95)],r=function(e,t){var n={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:t,variable:"",imports:{_:{escape:e}}};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(91),n(0)],r=function(e,t){var n={renderStartTime:-1,adSlotSelector:".js-ad-slot",sonobiEnabled:(t.switches.sonobiHeaderBidding||e.getUrlVars().sonobi)&&!(t.switches.preflightAdCall&&window.esi),preFlightAdCallEnabled:t.switches.preflightAdCall&&!!window.esi,lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],advertsToRefresh:[],adverts:[],shouldLazyLoad:function(){return!t.page.hasPageSkin&&"1"!==e.getUrlVars().dll}};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(43),n(312)],r=function(e,t){function n(e){return e.id}function i(e){var i=t.getMvtNumValues()*e.audienceOffset,r=i+t.getMvtNumValues()*e.audience,o=t.getMvtValue();if(o&&o>i&&o<=r){var s=e.variants.map(n);return s[o%s.length]}return a}function r(e){var t=i(e);return e.variants.filter(function(e){return e.id===t})[0]}var a="notintest";return{variantIdFor:e(i,n),variantFor:r,isInTest:function(e){return i(e)!==a}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="contributions__epic" data-component="<%=componentName%>">\n    <div>\n        <h2 class="contributions__title contributions__title--epic">\n            Since you’re here …\n        </h2>\n        <p class="contributions__paragraph contributions__paragraph--epic">\n            … we’ve got a small favour to ask. More people are reading the Guardian than ever, but far fewer are paying for it. Advertising revenues across the media are falling fast. And <span class="contributions__highlight">unlike many news organisations, we haven’t put up a paywall – we want to keep our journalism as open as we can</span>. So you can see why we need to ask for your help. The Guardian’s independent, investigative journalism takes a lot of time, money and hard work to produce. But we do it because we believe our perspective matters – because it might well be your perspective, too.\n        </p>\n        <p class="contributions__paragraph contributions__paragraph--epic">\n            If everyone who reads our reporting, who likes it, helps to support it, our future would be much more secure.\n        </p>\n    </div>\n\n    <div class="contributions__amount-field">\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member contributions__contribute--epic-member-top"\n               href="<%=membershipUrl%>"\n               target="_blank">\n                Become a supporter\n            </a>\n        </div>\n\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member"\n               href="<%=contributionUrl%>"\n               target="_blank">\n                Make a contribution\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var i,r;i=[n(10)],r=function(e){function t(t){r.push({date:(new Date).getTime(),testId:t}),e.local.set(i,r.slice(-a))}function n(e,t){var n=1e3*e*60*60*24,i=(new Date).getTime();return r.filter(function(e){return(!t||e.testId===t.id)&&e.date>i-n}).length}var i="gu.contributions.views",r=e.local.get(i)||[],a=50;return{logView:t,viewsInPreviousDays:n}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(331)],r=function(e){function t(t){return e("suggestions",!1,t).then(function(e){if(e.suggestions){var t=e.suggestions.filter(function(e){return"SurveySuggestion"===e.class});if(t.length>0)return t[0]}})}function n(){return e("suggestions",!1).then(function(e){try{return e.userDataForClient.regular}catch(e){return!1}}).catch(function(){return!1})}return{isRegular:n,getSuggestedSurvey:t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[e,t,n(7)],r=function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n),a=!1;r.default.on("analytics:ready",function(){a=!0});var o=function(e){a?e():r.default.on("analytics:ready",function(){e()})};t.default=o,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t){e.exports='<div class="pamplemousse">\n    <div class="pamplemousse__pip"><i></i></div>\n    <div class="pamplemousse__pip"><i></i></div>\n    <div class="pamplemousse__pip"><i></i></div>\n</div>\n'},function(e,t,n){var i,r;i=[n(21),n(15)],r=function(e,t){function n(){var n=this,i=t.create('<div class="vjs-fullscreen-clickbox"></div>')[0],r={click:function(e){this.paused()?this.play():this.pause(),e.stop()},dblclick:function(e){e.stop(),this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()}};t(i).appendTo(n.contentEl()),e.on(i,"click",r.click.bind(n)),e.on(i,"dblclick",r.dblclick.bind(n)),n.on("fullscreenchange",function(){this.isFullscreen()&&n.trigger("player:fullscreen")})}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(3),n(7),n(60),n(27),n(0),n(22),n(238),n(297),n(232),n(62),n(147),n(42)],r=function(e,t,i,r,a,o,s,c,u,l,d,p,f){function h(e,t,n,i){return{mediaId:e,mediaType:t,eventType:n,isPreroll:i}}function g(e,t,n,r,a){d(e,function(e,o){var s="media:"+e,c=h(n,r,e,a);t.one(o,function(){t.trigger(s,c),i.emit(s,c)})})}function v(e,t,n){var i={ready:"ready",play:"play",passed25:"watched25",passed50:"watched50",passed75:"watched75",ended:"end"};e.on("timeupdate",l(function(){var t=Math.round(e.currentTime()/e.duration()*100);t>=25&&e.trigger("passed25"),t>=50&&e.trigger("passed50"),t>=75&&e.trigger("passed75")},1e3)),g(i,e,t,n,!1)}function m(e,t,n){var i={adstart:"play",adend:"end",adsready:"ready",adskip:"skip"};g(i,e,t,n,!0)}function y(e,t){var n={play:"metric1",skip:"metric2",watched25:"metric3",watched50:"metric4",watched75:"metric5",end:"metric6"};Object.keys(n).map(function(e){return"media:"+e}).forEach(function(i){e.on(i,function(e,i){window.ga(R+".send","event",p.buildGoogleAnalyticsEvent(i,n,t,"guardian-videojs",p.getGoogleAnalyticsEventAction,i.mediaId))})})}function b(e){return S?"video":e.guMediaType}function w(e){return P&&!c.isRevisit(o.page.pageId)&&e.guAutoplay}function _(e,t){return b(t)+":"+e}function k(e,t,i){function r(n){var r={};r[b(i)]={id:e,eventType:t.type},n.record(r)}e&&(S?n.e(1).then(function(e){r(n(376))}.bind(null,n)).catch(n.oe):r(f))}function x(e,t){j.concat(M.map(function(e){return"content:"+e})).forEach(function(n){e.one(_(n,e),function(n){k(t,n,e)})})}function C(e){var t={end:function(){e.trigger(_("preroll:end",e)),E(e,!0)},start:function(){var n=e.duration();n?e.trigger(_("preroll:play",e)):e.one("durationchange",t.start)},ready:function(){e.trigger(_("preroll:ready",e)),e.one("adstart",t.start),e.one("adend",t.end),w(e)&&e.play()}},n=function(){E(e),w(e)&&e.play(),e.off("adtimeout",n),e.off("adserror",n)};e.one("adsready",t.ready),e.one("adtimeout",n),e.one("adserror",n)}function I(e,t){var n=["gu-video-457263940","gu-video-55e4835ae4b00856194f85c2"];o.switches.kruxVideoTracking&&o.switches.krux&&a(e.el()).attr("data-media-id")&&u(n,a(e.el()).attr("data-media-id"))!==-1&&("videoPlaying"===t?Krux("admEvent","KAIQvckS",{}):"videoEnded"===t&&Krux("admEvent","KBaTegd5",{}))}function E(e){var t={end:function(){e.trigger(_("content:end",e))},play:function(){var n=e.duration();n?e.trigger(_("content:play",e)):e.one("durationchange",t.play)},timeupdate:function(){var t=Math.round(parseInt(e.currentTime()/e.duration()*100,10));M.reverse().some(function(n){return t>=n&&(e.trigger(_("content:"+n,e)),!0)})},ready:function(){e.trigger(_("content:ready",e)),e.one("play",t.play),e.on("timeupdate",l(t.timeupdate,1e3)),e.one("ended",t.end),w(e)&&e.play()}};t.ready()}function A(t){t.on("playing",function(){I(t,"videoPlaying"),e.fire(document.body,"videoPlaying")}),t.on("pause",function(){e.fire(document.body,"videoPause")}),t.on("ended",function(){e.fire(document.body,"videoEnded"),I(t,"videoEnded")})}function B(e){e&&"message"in e&&"code"in e&&r(new Error(e.message),{feature:"player",vjsCode:e.code},!1)}function T(e){var t=e.error();return null!==t&&(B(t),4===t.code)}function L(e){e.on("error",function(){B(e.error()),a(".vjs-big-play-button").hide()})}var P=s.isBreakpoint({min:"desktop"}),S=!!window.guardian.isEmbed,M=[25,50,75],j=["preroll:request","preroll:ready","preroll:play","preroll:end","content:ready","content:play","content:end"],R=o.googleAnalytics.trackers.editorial;return{constructEventName:_,bindContentEvents:E,bindPrerollEvents:C,bindGlobalEvents:A,initOphanTracking:x,handleInitialMediaError:T,bindErrorHandler:L,addContentEvents:v,addPrerollEvents:m,bindGoogleAnalyticsEvents:y}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(13)],r=function(e){var t={controls:!0,textTrackDisplay:!1,textTrackSettings:!1,controlBar:{children:["playToggle","currentTimeDisplay","timeDivider","durationDisplay","progressControl","fullscreenToggle","volumeMenuButton"]},autoplay:!1,preload:"metadata",techOrder:["html5"],notSupportedMessage:"This video is no longer available."};return function(n){return e({},t,n||{})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(60),n(0),n(31),n(7),n(10),n(138),n(46),n(250),n(186),n(142),n(249),n(318),n(323),n(264),n(329),n(330),n(320),n(315),n(321),n(328),n(327),n(322),n(324),n(42),n(325),n(326)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h,g,v,m,y,b,w,_,k,x,C,I){function E(){Object.keys(s.getParticipations()).forEach(function(e){if("undefined"==typeof t.switches["ab"+e])s.removeParticipation({id:e});else{var n=$.some(function(t){return t.id===e});n||s.removeParticipation({id:e})}})}function A(){return $.filter(function(e){return!u.isExpired(e.expiry)||(s.removeParticipation(e),!1)})}function B(){return $.filter(function(e){return u.isExpired(e.expiry)})}function T(e){var t=$.map(function(e){return e.id}),n=t.indexOf(e);return n>-1?$[n]:null}function L(e,t,n){var i={variantName:e,complete:t};return n&&(i.campaignCodes=n),i}function P(){try{var t={};return A().filter(U(F)).filter(s.isParticipating).filter(u.testCanBeRun).forEach(function(e){var n=s.getTestVariantId(e.id),i=s.getVariant(e,n),r=i&&i.campaignCodes?i.campaignCodes:void 0;n&&c.isInTest(e)&&(t[e.id]=L(n,"false",r))}),G().forEach(function(e){t["ab"+e]=L("inTest","false")}),t}catch(t){return e(t,!1),{}}}function S(){M(P())}function M(e){x.record({abTestRegister:e})}function j(e,t,n){var i={},r=s.getVariant(e,t);return i[e.id]=L(t,String(n),r.campaignCodes),function(){M(i)}}function R(e){if(s.isParticipating(e)&&u.testCanBeRun(e)){var t=s.getParticipations(),n=t[e.id].variant,i=s.getVariant(e,n);i?i.test():!c.isInTest(e)&&e.notInTest&&e.notInTest()}}function O(e){u.testCanBeRun(e)&&!s.isParticipating(e)&&s.addParticipation(e,c.variantIdFor(e))}function D(t){return function(n){var i=s.getTestVariantId(n.id);if(i&&"notintest"!==i){var r=s.getVariant(n,i),a=(t?r.success:r.impression)||o;try{a(j(n,i,t))}catch(t){e(t,!1,!1)}}}}function F(e){return e.variants.every(function(e){return"function"==typeof e.impression})}function N(e,t){var n=T(e);return n&&s.isParticipating(n)&&s.getTestVariantId(e)===t&&u.testCanBeRun(n)}function G(){return Object.keys(t.tests).filter(function(e){return!!t.tests[e]})}function U(e){return function(){return!e.apply(this,arguments)}}function z(){var e,t=JSON.parse(r.local.get("gu.devtools.ab"))||[];return/^#ab/.test(window.location.hash)?(e=window.location.hash.replace("#ab-","").split(","),e.map(function(e){var t=e.split("=");return{id:t[0],variant:t[1]}})):t}var $=a([new d,new p,l.getTest(),new h,g,v,m,y,b,w,new _,new k,new C,new I].concat(f)),V={addTest:function(e){$.push(e)},clearTests:function(){$=[]},segment:function(){A().forEach(function(e){O(e)})},forceSegment:function(e,t){A().filter(function(t){return t.id===e}).forEach(function(e){s.addParticipation(e,t)})},forceVariantCompleteFunctions:function(e,t){var n=T(e),i=n&&n.variants.filter(function(e){return e.id.toLowerCase()===t.toLowerCase()})[0],r=i&&i.impression||o,a=i&&i.success||o;r(j(n,t,!1)),a(j(n,t,!0))},segmentUser:function(){var e=z();e.length?e.forEach(function(e){V.forceSegment(e.id,e.variant),V.forceVariantCompleteFunctions(e.id,e.variant)}):V.segment(),E()},run:function(){A().forEach(R)},registerCompleteEvents:function(){A().forEach(D(!0))},registerImpressionEvents:function(){A().filter(F).forEach(D(!1))},getAbLoggableObject:P,getParticipations:s.getParticipations,isParticipating:s.isParticipating,getTest:T,trackEvent:S,getExpiredTests:B,getActiveTests:A,getTestVariantId:s.getTestVariantId,setTestVariant:s.setTestVariant,getVariant:s.getVariant,TESTS:$,testCanBeRun:function(e){return"string"==typeof e?(e=T(e),e&&u.testCanBeRun(e)):e.id&&e.expiry&&u.testCanBeRun(e)},isInVariant:s.isInVariant,shouldRunTest:N,reset:function(){$=[],c.variantIdFor.cache={}}};return V}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(12),n(92),n(2),n(63)],r=function(e,t,n,i){function r(r,o,s){var c=-1,u=t,l=r?r.length:0,d=!1;return s=(s<0?a(0,l+s):s)||0,n(r)?d=u(r,o,s)>-1:"number"==typeof l?d=(i(r)?r.indexOf(o,s):u(r,o,s))>-1:e(r,function(e){if(++c>=s)return!(d=e===o)}),d}var a=Math.max;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[e,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return"string"!=typeof e?Promise.reject("no src supplied"):document.querySelector('script[src="'+e+'"]')?Promise.resolve():new Promise(function(n,i){var r=document.scripts[0],a=document.createElement("script");a.src=e,t&&Object.assign(a,t),a.onload=n,a.onerror=i,r.parentNode&&r.parentNode.insertBefore(a,r)})};t.default=n,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(242),n(11)],r=function(e,t){function n(n,i,r,a){return"boolean"!=typeof i&&null!=i&&(a=r,r="function"!=typeof i&&a&&a[i]===n?null:i,i=!1),null!=r&&(r=t(r,a,3)),e(n,i,r)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(12),n(11),n(2)],r=function(e,t,n){function i(i,r,a){var o;if(r=t(r,a,3),n(i))for(var s=-1,c=i.length;++s<c&&!(o=r(i[s],s,i)););else e(i,function(e,t,n){return!(o=r(e,t,n))});return!!o}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(301)],r=function(e){var t=function(e){if(Object.create)return Object.create(e);var t=function(){};return t.prototype=e,new t},n=function(e,n){var i=t(n);return i.setValue(e),i},i={setValue:function(e){this.__value=e},and:function(){var t=e.apply(null,arguments),i=t(this.value());return n(i,this)},value:function(){return this.__value},valueOf:function(){return this.value()}},r=["concat","join","reverse","sort"],a=["slice","shift","pop","push","splice","unshift"];return r.forEach(function(e){i[e]=function(){var t=Array.prototype.slice.call(arguments),i=Array.prototype[e].apply(this.value(),t);return n(i,this)}}),a.forEach(function(e){i[e]=function(){var t=Array.prototype.slice.call(arguments);return Array.prototype[e].apply(this.value(),t),n(this.value(),this)}}),function(e){return n(e,i)}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(41),n(16),n(1)],r=function(e,t,n){function i(i,a,o){var s=!0,c=!0;if(!t(i))throw new TypeError;return o===!1?s=!1:n(o)&&(s="leading"in o?o.leading:s,c="trailing"in o?o.trailing:c),r.leading=s,r.maxWait=a,r.trailing=c,e(i,a,r)}var r={leading:!1,maxWait:0,trailing:!1};return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(184)],r=function(e){function t(t){return t in e.advertIds?e.adverts[e.advertIds[t]]:null}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(311)],r=function(e){function t(t){return e(t).then(function(e){return e.whenRendered})}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(26),n(58),n(23),n(313)],r=function(e,t,n,i){function r(){this.queue=n.resolve()}function a(t){return e.captureException(t),!1}return r.prototype.fillSpace=function(e,n,r){function o(){return i.findSpace(e,r).then(s,c)}function s(e){return u(function(){return n(e)})}function c(e){if(e instanceof i.SpaceError)return!1;throw e}var u=r&&r.domWriter||t.write;return this.queue=this.queue.then(o).catch(a)},new r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18),n(23),n(27),n(225)],r=function(e,t,n,i){function r(){i(d)}function a(t,n,i){e.write(function(){["ENDED","PLAYING","PAUSED","BUFFERING","CUED"].forEach(function(e){i.classList.toggle("youtube__video-"+e.toLocaleLowerCase(),t.data===window.YT.PlayerState[e])}),c(i)}),n&&"function"==typeof n.onPlayerStateChange&&n.onPlayerStateChange(t)}function o(t,n,i){e.write(function(){i.classList.add("youtube__video-ready")}),n&&"function"==typeof n.onPlayerReady&&n.onPlayerReady(t)}function s(e){return e.target.getCurrentTime()>0}function c(e){e.classList.add("youtube__video-started")}function u(e,t,n){return r(),p.then(function(){function i(n){a(n,t,e)}function r(n){s(n)&&c(e),o(n,t,e)}return l(n,r,i)})}function l(e,t,n){return new window.YT.Player(e,{events:{onReady:t,onStateChange:n}})}var d="https://www.youtube.com/iframe_api",p=new t(function(e){window.YT&&window.YT.Player?e():window.onYouTubeIframeAPIReady=e});return{init:u}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(7),n(83),n(0),n(147),n(42)],r=function(e,t,n,i,r){function a(){return"video content"}function o(e,t){return e+":"+t}function s(s){function u(e){var t={video:{id:"gu-video-youtube-"+e.mediaId,eventType:"video:content:"+e.eventType}};r.record(t)}var l=n.googleAnalytics.trackers.editorial,d={metricMap:{play:"metric1",skip:"metric2",25:"metric3",50:"metric4",75:"metric5",end:"metric6"},baseEventObject:{eventCategory:"media",eventAction:a(),eventLabel:s,dimension19:s,dimension20:"gu-video-youtube"}},p=["play","25","50","75","end"];t(p,function(t){e.once(o(t,s),function(e){var n=c(s,"video",t);u(n),window.ga(l+".send","event",i.buildGoogleAnalyticsEvent(n,d.metricMap,e,"gu-video-youtube",a,t.mediaId))})})}function c(e,t,n){return{mediaId:e,mediaType:t,eventType:n}}function u(e){s(e)}function l(t,n){e.emit(o(t,n),n)}return{track:l,init:u}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18),n(27),n(0),n(36),n(10),n(91),n(309),n(308),n(1),n(246),n(135),n(83),n(228),n(8),n(13),n(123),n(223),n(2),n(247),n(262),n(61),n(229),n(138),n(143),n(148),n(261),n(300)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h,g,v,m,y,b,w,_,k,x,C,I,E){function A(e){return Q=e,r.local.set(ue,e)}function B(e){return Z=e,r.local.set(le,e)}function T(){return Q=Q||r.local.get(ue)||[]}function L(){return Z||(Z=r.local.get(le),c(Z)&&c(Z.tags)&&u(Z.periodEnd)||(Z={periodEnd:de,tags:{},showInMegaNav:!0})),Z}function P(){function e(e){return g(e,function(e,t){return e+t[1]},0)}return _(L().tags).and(y,function(e,t){return v(t,"series")}).and(b,function(t){return e(t[1])+e(t[2])}).value()}function S(){return g(P(),function(e,t,n,i){return t>(i[e]||0)?n:e},"")}function M(e){var t=L();delete t.tags[e],B(t)}function j(e){return(l(T(),function(t){return t[0]===e})||[])[1]>1}function R(e,t){var n=t||de,i=n-e.periodEnd;return 0!==i&&(e.periodEnd=n,d(e.tags,function(t,n){var r=_(ae).and(w,function(e){var n=_(t[e.indexInRecord]).and(w,function(e){var t=e[0]+i;return t<oe&&t>=0&&[t,e[1]]}).and(k).value();return n.length>1||1===n.length&&n[0][0]<se?n:[]}).value();p(r,function(e){return e.length})?e.tags[n]=[t[0]].concat(r):delete e.tags[n]})),e}function O(e){var t=L().tags,n=f(t),i=h({number:100,weights:{},thresholds:{}},e);return n=i.whitelist?n.filter(function(e){return i.whitelist.indexOf(e)>-1}):n,n=i.blacklist?n.filter(function(e){return i.blacklist.indexOf(e)===-1}):n,_(n).and(w,function(e){var n=t[e],r=g(ae,function(e,t){return e+N(n[t.indexInRecord],i.weights[t.type],i.thresholds[t.type])},0);return{idAndName:[e,n[0]],rank:r}}).and(k).and(I,"rank").and(C,i.number).reverse().and(x,"idAndName").value()}function D(){var e,t=[],n=L().tags;for(e in n)0===e.indexOf("profile/")&&t.push(n[e]);return t}function F(e){var t=e&&e.flush;return ee=!t&&ee||O({blacklist:H(),number:10,weights:{content:1,front:5},thresholds:{content:5,front:1}})}function N(e,t,n){var i,r=0;return t=t||1,n=n||1,i=g(e,function(e,n){var i=n[0],a=n[1];return r+=a,e+t*(9+a)*(oe-i)},0),r<n?0:i}function G(e){return(e||"").split(",")[0]}function U(e){return e?(e=e.replace(/^\/|\/$/g,""),e.match(fe)&&(e=e.replace(he,"")),e=e.split("/"),e=2===e.length&&e[0]===e[1]?[e[0]]:e,e.join("/")):""}function z(){Q=void 0,Z=void 0,r.local.remove(ue),r.local.remove(le)}function $(e){var t,n=e.pageId,i=0;e.isFront||(t=T().filter(function(e){var t=m(e),r=t&&e[0]===n;return i=r?e[1]:i,t&&!r}),t.unshift([n,i+1]),A(t.slice(0,ce)))}function V(e,t){var n=R(L(),t),i=U(e.pageId),r=!1;_(re).and(E,function(t,n){var a=U(G(e[n.tid])),o=a&&G(e[n.tname]);return a&&o&&(t[a]=o),r=r||a===i,t},{}).and(d,function(e,t){var i,a,o=n.tags[t]||[];d(ae,function(e){o[e.indexInRecord]=o[e.indexInRecord]||[]}),o[0]=e,i=o[r?2:1],a=l(i,function(e){return 0===e[0]}),a?a[1]=a[1]+1:i.unshift([0,1]),n.tags[t]=o}),B(n)}function H(){return te=te||t(".js-navigation-header .js-top-navigation a").map(function(e){return U(a.getPath(t(e).attr("href")))})}function q(){return t(".js-global-navigation")}function W(){var t,n;L().showInMegaNav!==!1&&(pe&&Y(),t=F(),t.length&&(n=i(s,{tags:t.map(X).join("")}),e.write(function(){q().prepend(n)}),pe=!0))}function Y(){q().each(function(n){e.write(function(){t(".js-global-navigation__section--history",n).remove()})}),pe=!1}function K(){return L().showInMegaNav!==!1}function J(e){var t=L();t.showInMegaNav=!!e,t.showInMegaNav?W():Y(),B(t)}function X(e,t){return i(o,{id:e[0],name:e[1],index:t+1})}var Q,Z,ee,te,ne=["uk","us","au"],ie=["business","commentisfree","culture","environment","media","money","sport","technology"],re=[{tid:"section",tname:"sectionName"},{tid:"keywordIds",tname:"keywords"},{tid:"seriesId",tname:"series"},{tid:"authorIds",tname:"author"}],ae=[{type:"content",indexInRecord:1},{type:"front",indexInRecord:2}],oe=90,se=10,ce=50,ue="gu.history",le="gu.history.summary",de=Math.floor(Date.now()/864e5),pe=!1,fe=new RegExp("^("+ne.join("|")+")/("+ie.join("|")+")$"),he=new RegExp("^("+ne.join("|")+")/");return{logHistory:$,logSummary:V,showInMegaNav:W,showInMegaNavEnable:J,showInMegaNavEnabled:K,getPopular:O,getPopularFiltered:F,getContributors:D,deleteFromSummary:M,isRevisit:j,reset:z,seriesSummary:P,mostViewedSeries:S,
test:{getSummary:L,getHistory:T,pruneSummary:R,seriesSummary:P}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports={markup:'<span class="inline-arrow-down inline-icon"><svg width="24" height="18" viewBox="-0.525 -4 24 18" overflow="visible" enable-background="new -0.525 -4 24 18"><path d="M23.2.7L12.7 9.1l-1.1.9-1.1-.898L0 .7.5 0l11.1 6.3L22.7 0l.5.7z"/></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-close-central inline-icon"><svg width="30" height="30"><path d="M21 9.8l-.8-.8-5.2 4.8-5.2-4.8-.8.8 4.8 5.2-4.8 5.2.8.8 5.2-4.8 5.2 4.8.8-.8-4.8-5.2 4.8-5.2"/></svg></span>'}},function(e,t,n){var i,r;i=[n(139),n(61)],r=function(e,t){function n(n,i,r,a){return"boolean"!=typeof i&&null!=i&&(a=r,r="function"!=typeof i&&a&&a[i]===n?null:i,i=!1),null!=r&&(n=t(n,r,a)),e(n,i)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(92),n(243),n(244),n(44),n(245),n(45),n(124)],r=function(e,t,n,i,r,a,o){function s(s,c,u){var l=-1,d=e,p=s?s.length:0,f=[],h=!c&&p>=r,g=u||h?i():f;if(h){var v=n(g);d=t,g=v}for(;++l<p;){var m=s[l],y=u?u(m,l,s):m;(c?!l||g[g.length-1]!==y:d(g,y)<0)&&((u||h)&&g.push(y),f.push(m))}return h?(a(g.array),o(g)):u&&a(g),f}return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(92),n(47)],r=function(e,t){function n(n,i){var r=typeof i;if(n=n.cache,"boolean"==r||null==i)return n[i]?0:-1;"number"!=r&&"string"!=r&&(r="object");var a="number"==r?i:t+i;return n=(n=n[r])&&n[a],"object"==r?n&&e(n,i)>-1?0:-1:n?0:-1}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(302),n(145),n(124)],r=function(e,t,n){function i(n){var i=-1,r=n.length,a=n[0],o=n[r/2|0],s=n[r-1];if(a&&"object"==typeof a&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var c=t();c.false=c.null=c.true=c.undefined=!1;var u=t();for(u.array=n,u.cache=c,u.push=e;++i<r;)u.push(n[i]);return u}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e=75;return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e){return"number"==typeof e||e&&"object"==typeof e&&i.call(e)==t||!1}var t="[object Number]",n=Object.prototype,i=n.toString;return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(139),n(11),n(126),n(1)],r=function(e,t,n,i){function r(r,a,o){var s={};if("function"!=typeof a)for(var c=-1,u=e(arguments,!0,!1,1),l=i(r)?u.length:0;++c<l;){var d=u[c];d in r&&(s[d]=r[d])}else a=t(a,o,3),n(r,function(e,t,n){a(e,t,n)&&(s[t]=e)});return s}return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(123),n(186),n(142),n(188),n(316),n(319),n(317)],r=function(e,t,n,i,r,a,o){var s=[r,a,o],c=e(s,function(e,t){var n=new t;return n.isEngagementBannerTest&&e.push(n),e},[]),u=s.map(function(e){return new e});return{epicEngagementBannerTests:c,abTestClashData:u,getTest:function(){var e=s.filter(function(e){var r=new e,a=window.location.hash.indexOf("ab-"+r.id)>-1,o=t.variantFor(r),s=o&&(i.viewsInPreviousDays(o.maxViews.days)<o.maxViews.count&&0===i.viewsInPreviousDays(o.maxViews.minDaysBetweenViews)||o.isUnlimited);return a||n.testCanBeRun(r)&&t.isInTest(r)&&s});return e[0]&&new e[0]}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(10),n(142)],r=function(e,t){function n(){return e.local.get(d)||{}}function i(t){e.local.set(d,t)}function r(e){return e.id in n()}function a(e,t){var r=n();r[e.id]={variant:t},i(r)}function o(e){var t=n(),r=Object.keys(t).filter(function(t){return t!==e.id}).reduce(function(e,n){return e[n]=t[n],e},{});i(r)}function s(e){var t=n()[e];return t&&t.variant}function c(e,t){var n=e.variants.map(function(e){return e.id}),i=n.indexOf(t);return i>-1?e.variants[i]:null}function u(e,t){var r=n();e in r&&(r[e].variant=t,i(r))}function l(e,i){return n()[e.id]&&n()[e.id].variant===i.id&&t.testCanBeRun(e)}var d="gu.ab.participations";return{getParticipations:n,setParticipations:i,isParticipating:r,addParticipation:a,removeParticipation:o,getTestVariantId:s,getVariant:c,setTestVariant:u,isInVariant:l,testCanBeRun:t.testCanBeRun}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports={markup:'<span class="inline-paid-content inline-commercial"><svg viewBox="0 0 351 227" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="0" d="m0 31.6h123v-15.7-15.7h-123v31.4"/><mask id="1" fill="#fff"><use xlink:href="#0"/></mask></defs><g fill="none" fill-rule="evenodd"><path fill="#005689" d="m0 0h351v52h-351z"/><g transform="translate(174 14)"><path d="m4.2 26.8c.1-.8.6-1.8 1.9-1.9h4.5c1.3 0 1.9 1.1 1.9 1.9 0 1.7-1.1 2.3-4.4 2.3-2.9 0-4.1-1.2-4-2.3m6-14.2c0 3-.7 3.4-1.8 3.4-1.2 0-2.1-.4-2.1-3.4 0-3.1.9-3.9 2.1-3.9 1.2 0 1.8 1.1 1.8 3.9m-3.9 7.4c-.6 0-1.3-.4-1.3-1 0-.4.3-.9.7-1.2.8.3 1.6.3 2.6.3 4.1 0 6.9-1.9 6.9-5.5 0-1.6-.7-2.4-1.7-3.4l2.7.7v-3.2l-4.3.8c-1-.4-2.4-.8-3.7-.8-4.1 0-6.9 2.2-6.9 5.7 0 2.2 1.1 3.7 2.6 4.6l.1.1c-.9.6-2.8 2.1-2.8 3.8 0 1.3.8 2.5 2.5 2.9-1.8.4-3.8 1.3-3.8 3.4 0 2.2 3.1 4.2 8.1 4.2 6.2 0 8.7-3 8.7-6.8 0-3.2-1.5-4.7-5-4.7h-5.5m17 4.1c.2 0 .5 0 .7-.1 1.8-.2 3.5-1.1 4.4-2.2v2.2l6.3-.8v-1.1l-1.6-1.1v-14.2h-.5l-6.3 1.2v1.4l2.1.9v9.6c-.6.4-1.3.7-2.2.7-1.3 0-2.5-.4-2.5-2.3v-11.6h-.5l-6.3 1.3v1.4l2.1.8v8.6c0 2.8 1.2 5.1 4.4 5.1m72.8-2.9c-1 0-2.1-.6-2.1-2.4 0-1.3 1.3-2.5 2.5-2.6l1.2-.3v4.5c0 0-1 .8-1.6.8m-1.2-12c2 0 2.8 1.1 2.8 3.1v1.8l-3.2.6c-3.1.6-5.5 1.5-5.5 4.9 0 2.7 1.8 4.6 4.4 4.6 2 0 3.9-.9 4.6-2.3h.2c.3 1.7 1.7 2.3 3.4 2.3 1.3 0 2.5-.3 3-.8v-1.1l-1.5-.8v-9.5c0-3.7-2.7-4.9-7-4.9-2.8 0-4.5.7-6 1.4v4.1h2.5l1.1-3.2c.6-.2 1.2-.2 1.4-.2m-52.9 12c-1 0-2.1-.6-2.1-2.4 0-1.3 1.3-2.5 2.5-2.6l1.2-.3v4.5c0 0-1 .8-1.6.8m-1.2-12c2 0 2.8 1.1 2.8 3.1v1.8l-3.2.6c-3.1.6-5.5 1.5-5.5 4.9 0 2.7 1.8 4.6 4.4 4.6 2 0 3.9-.9 4.6-2.3h.2c.3 1.7 1.7 2.3 3.4 2.3 1.3 0 2.5-.3 3-.8v-1.1l-1.5-.8v-9.5c0-3.7-2.7-4.9-7-4.9-2.8 0-4.5.7-6 1.4v4.1h2.5l1.1-3.2c.6-.2 1.2-.2 1.4-.2m10 .4l1.6.8v11l-1.6.8v1.6h8.9v-1.6l-2.1-.8v-8.6c.9-.7 2.2-1 3.6-1 .5 0 .8.1 1.2.2v-4.7c-.2-.1-.4-.1-.6-.1-1.7 0-3.2 1.2-4.1 3.3v-3.4h-.5l-6.3 1.1v1.6m22-1.8c-.6-.5-1.7-.7-2.6-.7-3.9 0-7.6 2.3-7.6 8.8 0 6.3 3.7 8.3 6.2 8.3 2 0 3.4-.9 4-1.8h.2v1.7h.5l6.2-.7v-1.2l-1.6-.9v-20.8h-.5l-6.6 1.1v1.5l1.9.8v4.1m0 12.8c-.4.3-.9.6-1.7.6-2.1 0-3.1-1.7-3.1-5.7 0-4.6 1.3-6.1 2.9-6.1.9 0 1.5.3 1.8.7v10.5m7.4-12.6v1.5l1.6.8v11l-1.6.8v1.6h8.4v-1.6l-1.6-.8v-14.4h-.5l-6.3 1.1m4.4-7.7c-1.6 0-2.8 1.3-2.8 2.9 0 1.6 1.3 2.8 2.8 2.8 1.5 0 2.8-1.3 2.8-2.8-.1-1.6-1.3-2.9-2.8-2.9m20.3 23.5h8.4v-1.6l-1.6-.8v-10.5c.6-.5 1.5-.6 2.3-.6 1.5 0 1.9.5 1.9 2.2v8.9l-1.6.8v1.6h8.4v-1.6l-1.6-.8v-10c0-3-1.1-4.4-3.7-4.4-2.2 0-4.3.8-5.7 2.1v-2.2h-.5l-6.5 1.2v1.4l1.7.8v11l-1.6.8v1.6" fill="#fff" mask="url(#1)" transform="translate(44)"/><path d="m2.1 19c0 3 1.5 4.9 4.7 4.9 1.6 0 3.3-.4 4.3-1.2v-2c-.4.2-1 .3-1.5.3-1.5 0-2.2-.8-2.2-2.4v-8.7h3.7v-2.6h-3.7v-3.9l-5.3.8v3.2l-2.1.5v2.1h2.1v9.2m17.3 4.5v-1.6l-1.6-.8v-10.3c.6-.5 1.7-.9 2.5-.9 1.5 0 2.3.8 2.2 2.2v8.9l-1.6.8v1.6h8.4v-1.6l-1.6-.8v-10c0-3-1.7-4.4-4-4.4-2.2 0-4.5.7-5.9 2v-8.9h-.5l-6.3 1.1v1.6l2.1.8v17.9l-1.6.8v1.6h7.9m17.3-15c1.3 0 2 .9 2 5l-4.4.4c.1-4.2.9-5.4 2.4-5.4m6.9 7c0-6.8-2.7-8.9-6.8-8.9-4.7 0-7.9 3.3-7.9 8.6 0 5.5 2.9 8.5 8.3 8.5 2.9 0 5.1-1.4 5.9-2.5v-1.6c-1.1.4-2 .6-4 .6-2.9 0-4.9-1.7-4.9-4.8h9.5" fill="#aadce6"/></g><path fill="#fff" d="m0 50h351v177h-351z"/><g fill="#d8d8d8"><path d="m54 58h187v72h-187z"/><path d="m6 58h42v7h-42z"/><path d="m248 58h42v72h-42z"/><path d="m150 136h42v72h-42z"/></g><path fill="#f6a623" d="m248 136h91v72h-91z"/><g fill="#d8d8d8"><path d="m54 136h91v72h-91z"/><path d="m297 58h42v72h-42z"/><path d="m199 136h42v72h-42z"/></g></g></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-arrow-white-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="#fff" d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-arrow inline-icon"><svg width="24" height="10" viewBox="0 0 24 10"><path d="M0 .7l10.5 8.4 1.1.9 1.1-.9 10.5-8.4-.5-.7-11.1 6.3-11-6.3-.6.7z"/></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-cross inline-icon"><svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-external-link inline-icon"><svg width="14" height="10" viewBox="0 0 14 10"><path d="M12 1.1L8.27 4.83l.902.9L13 2.07 13.2 5h.8V.4l-.4-.4H9v.8zM11.7 6.625V8.7H1.2V2.2h5l.8-.6V1H.6l-.6.6v7.8l.6.6h11.8l.6-.6V6h-.7z"/></svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-marque-36 inline-icon"><svg width="36" height="36" viewBox="0 0 36 36">     <path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zm-4.3-25.2c-6.2 2.8-10.5 9-10.5 16.3 0 4.9 2 9.4 5.2 12.6v-.3c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3m25.5 16.4c0-7.4-4.5-13.8-10.9-16.5 2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/> </svg></span>'}},function(e,t){e.exports={markup:'<span class="inline-tick inline-icon"><svg width="10.79" height="8.608" viewBox="0 0 10.79 8.608"><path d="M2.987 6.575L10.244 0l.546.532-7.803 8.076h-.26L0 4.788l.545-.546 2.442 2.333z"/></svg></span>'}},function(e,t,n){var i,r;i=[t,n(59),n(0),n(10)],r=function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.isInEurope=e.getSync=e.getSupporterPaymentRegion=e.get=void 0;var a=r(t),o=r(n),s=void 0,c="gu.geolocation",u={UK:"GB",US:"US",AU:"AU"},l=10,d=function(){return new Promise(function(e,t){return s?e(s):void(0,a.default)("/geolocation",{headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(n){n.country?(s=n.country,e(n.country)):t("No country in geolocation response",n)}).catch(t)})},p=function(){d().then(function(e){var t=new Date;i.local.set(c,e,{expires:t.setDate(t.getDate()+l)})})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UK";return u[e]},h=function(){var e=i.local.get(c);return e||f(o.default.page.edition)},g=["AU","CA","GB","US"],v=["AD","AL","AT","BA","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GF","GL","GP","GR","HR","HU","IE","IT","LI","LT","LU","LV","MC","ME","MF","IS","MQ","MT","NL","NO","PF","PL","PM","PT","RE","RO","RS","SE","SI","SJ","SK","SM","TF","TR","WF","YT","VA","AX"],m=function(){return g.includes(s)?h():v.includes(s)?"EU":"INT"},y=function(){var e=h();return v.includes(e)||"GB"===e};e.get=d,e.getSupporterPaymentRegion=m,e.getSync=h,e.isInEurope=y,e.init=p}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(303),n(11),n(83),n(44),n(145),n(2),n(61),n(45),n(124)],r=function(e,t,n,i,r,a,o,s,c){function u(u,l,d){var p=-1,f=a(l),h=u?u.length:0,g=Array("number"==typeof h?h:0);for(f||(l=t(l,d,3)),n(u,function(e,t,n){var a=g[++p]=r();f?a.criteria=o(l,function(t){return e[t]}):(a.criteria=i())[0]=l(e,t,n),a.index=p,a.value=e}),h=g.length,g.sort(e);h--;){var v=g[h];g[h]=v.value,f||s(v.criteria),c(v)}return g}return u}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(11),n(62)],r=function(e,t){function n(n,i,r){var a={};return i=e(i,r,3),t(n,function(e,t,n){a[t]=i(e,t,n)}),a}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(41),n(13)],r=function(e,t,n){function i(){}function r(e,t){var i=n({},{left:0,right:0,top:0,bottom:0},t),r=e.getBoundingClientRect(),a=window.innerHeight,o=window.innerWidth,s=r.top+i.top,c=r.bottom-i.bottom,u=r.left-i.left,l=r.right+i.right,d=s<a&&c>0,p=u<o&&l>0;return d&&p}function a(n,a,o){var s=!1,c={firstview:i};return e.on(a,"scroll",t(function(){var e=r(n,o);e&&(s||(s=!0,c.firstview(n)))},200)),{on:function(e,t){c[e]=t}}}return a}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(3),n(0),n(10),n(36),n(122),n(136),n(7)],r=function(e,t,n,i,r,a,o,s){var c=function(i,r,o,c,u){this.edition=i,this.campaignPrefix=u,this.id=r,this.start=o,this.expiry=c,this.author="Roberto Tyley",this.description="Show contributions/membership messages for the "+i+" edition.",this.showForSensitive=!1,this.audience=1,this.audienceOffset=0,this.successMeasure="Conversion",this.audienceCriteria="All users in the "+i+" edition.",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){var e=n.page.edition==i;return e&&a.canReasonablyAskForMoney},this.completer=function(n){s.on("membership-message:display",function(){e.on(t("#membership__engagement-message-link")[0],"click",n)})},this.variants=[]};return c.prototype.addMessageVariant=function(e,t){return this.variants.push({id:e,engagementBannerParams:t,test:function(){},success:this.completer}),this},c.prototype.addMembershipVariant=function(e,t){return t.campaignCode=this.campaignPrefix+e,this.addMessageVariant(e,t)},c.prototype.addContributionsVariant=function(e,t){return t.campaignCode=this.campaignPrefix+e,this.addMessageVariant(e,{contributions:t})},[]}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(){function e(e,t,n){return t&&(Array.isArray(t)?e=e.replace(/class="/,"$&"+t.join(" ")+" "):window.console&&window.console.error&&window.console.error("Classes for inlineSvg must be an array: ",t)),n&&(e=e.replace(/<span /,'<span title="'+n+'" ')),e}return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(92),n(298)],r=function(e,t){function n(n,r,a){if("number"==typeof a){var o=n?n.length:0;a=a<0?i(0,o+a):a||0}else if(a){var s=t(n,r);return n[s]===r?s:-1}return e(n,r,a)}var i=Math.max;return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(11),n(86)],r=function(e,t){function n(n,i,r,a){var o=0,s=n?n.length:o;for(r=r?e(r,a,1):t,i=r(i);o<s;){var c=o+s>>>1;r(n[c])<i?o=c+1:s=c}return o}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(25),n(12),n(2),n(63),n(8),n(4)],r=function(e,t,n,i,r,a){function o(o,s,c){var u=o,l=o?o.length:0;if(s=s&&"undefined"==typeof c?s:e(s,c,3),n(o))for(;l--&&s(o[l],l,o)!==!1;);else{if("number"!=typeof l){var d=r(o);l=d.length}else a.unindexedChars&&i(o)&&(u=o.split(""));t(o,function(e,t,n){return t=d?d[--l]:--l,s(u[t],t,n)})}return o}return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(11),n(299)],r=function(e,t){function n(n,i,r,a){var o=arguments.length<3;return i=e(i,a,4),t(n,function(e,t,n){r=o?(o=!1,e):i(r,e,t,n)}),r}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(85),n(6)],r=function(e,t){function n(n){return e(n,32,null,t(arguments,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(47)],r=function(e){function t(t){var n=this.cache,i=typeof t;if("boolean"==i||null==t)n[t]=!0;else{"number"!=i&&"string"!=i&&(i="object");var r="number"==i?t:e+t,a=n[i]||(n[i]={});"object"==i?(a[r]||(a[r]=[])).push(t):a[r]=!0}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){function e(e,t){for(var n=e.criteria,i=t.criteria,r=-1,a=n.length;++r<a;){var o=n[r],s=i[r];if(o!==s){if(o>s||"undefined"==typeof o)return 1;if(o<s||"undefined"==typeof s)return-1}}return e.index-t.index}return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='\n<div class="impressions-survey__heading">\n    <div class="impressions-survey__title">Survey</div>\n    <div class="impressions-survey__title">\n        <a href="https://www.theguardian.com/help/terms-of-service" target="_blank" class="impressions-survey__about">About</a>\n    </div>\n</div>\n\n<div class="impressions-survey__body" data-link-name="data_tailor_survey_<%=id%>" data-component="data_tailor_survey_<%=id%>">\n\n    <div class="impressions-survey__content">\n        <h3 class="impressions-survey__question">\n            <%=question%></h3>\n        <div class="impressions-survey__select">\n            <label class="fi-survey__label">\n                <input type="radio" class="fi-survey__button" data-link-name="answer5" value="answer5">\n                Strongly agree</label>\n            <label class="fi-survey__label">\n                <input type="radio" class="fi-survey__button" data-link-name="answer4" value="answer4">\n                Slightly agree</label>\n            <label class="fi-survey__label">\n                <input type="radio" class="fi-survey__button" data-link-name="answer3" value="answer3">\n                Neither agree nor disagree</label>\n            <label class="fi-survey__label">\n                <input type="radio" class="fi-survey__button" data-link-name="answer2" value="answer2">\n                Slightly disagree</label>\n            <label class="fi-survey__label">\n                <input type="radio" class="fi-survey__button" data-link-name="answer1" value="answer1">\n                Strongly disagree</label>\n        </div>\n    </div>\n\n    <div class="impressions-survey__thanks">\n        Thank you for helping us<br>improve the Guardian\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="contributions__epic" data-component="<%=componentName%>">\n    <div>\n        <h2 class="contributions__title contributions__title--epic">\n            Hello again …\n        </h2>\n        <p class="contributions__paragraph contributions__paragraph--epic">\n            … today we have a small favour to ask. More people than ever are regularly reading the Guardian, but far fewer are paying for it.  Advertising revenues across the media are falling fast. And <span class="contributions__highlight"> unlike many news organisations, we haven’t put up a paywall – we want to keep our journalism as open as we can</span>. So we think it’s fair to ask people who visit us often for their help. The Guardian’s independent, investigative journalism takes a lot of time, money and hard work to produce. But we do it because we believe our perspective matters – because it might well be your perspective, too.\'\n        </p>\n        <p class="contributions__paragraph contributions__paragraph--epic">\n            If everyone who reads our reporting, who likes it, helps to support it, our future would be much more secure.\n        </p>\n    </div>\n\n    <div class="contributions__amount-field">\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member contributions__contribute--epic-member-top"\n               href="<%=membershipUrl%>"\n               target="_blank">\n                Become a supporter\n            </a>\n        </div>\n\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member"\n               href="<%=contributionUrl%>"\n               target="_blank">\n                Make a contribution\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="contributions__epic" data-component="<%=componentName%>">\n    <div>\n        <h2 class="contributions__title contributions__title--epic">\n            <%=title%></h2>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p1%></p>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p2%></p>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p3%></p>\n    </div>\n\n    <div class="contributions__amount-field">\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member contributions__contribute--epic-member-top" href="<%=linkUrl1%>" target="_blank">\n                <%=cta1%>\n            </a>\n        </div>\n\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member" href="<%=linkUrl2%>" target="_blank">\n                <%=cta2%>\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="contributions__epic" data-component="<%=componentName%>">\n    <div>\n        <h2 class="contributions__title contributions__title--epic">\n            <%=title%></h2>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p1%></p>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p2%></p>\n        <p class="contributions__paragraph contributions__paragraph--epic"><%=p3%></p>\n    </div>\n\n    <div class="contributions__amount-field">\n        <div>\n            <a class="contributions__option-button contributions__contribute contributions__contribute--epic contributions__contribute--epic-member contributions__contribute--epic-member-top contributions__option-button--support-landing-page" href="<%=linkUrl1%>">\n                <%=cta1%>\n            </a>\n        </div>\n\n    </div>\n</div>\n'},function(e,t){e.exports='<li class="global-navigation__section js-global-navigation__section--history" data-link-name="shortcuts">\n    <span class="global-navigation__title global-navigation__title--history">recently visited</span>\n    <ul class="global-navigation__children global-navigation__children--history">\n        <%=tags%>\n        <a class="button button--small button--tag button--tertiary" href="/preferences" data-link-name="edit">edit these</a>\n    </ul>\n</li>\n'},function(e,t){e.exports='<li class="inline-list__item">\n    <a href="/<%=id%>" class="button button--small button--tag button--secondary" data-link-name="<%=index%> | <%=name%>"><%=name%></a>\n</li>\n'},function(e,t,n){var i;i=function(){return{getHash:function(){return window.location.hash}}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(23),n(43),n(184),n(233)],r=function(e,t,n,i){var r=t(function(t){return new e(function(e){function n(){var r=i(t);r?e(r):window.setTimeout(n,200)}n()})});return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31)],r=function(e){function t(t){e.addCookie(a,t,365)}function n(){var t=e.getCookie(s),n=i(),r=e.getCookie(o);return r||(r="unknown-visitor-id"),t||(t="unknown-browser-id"),n||(n="unknown-mvt-id"),r+" "+t+" "+n}function i(){return e.getCookie(a)}function r(){return c}var a="GU_mvt_id",o="s_vi",s="bwid",c=1e6;return{getMvtFullId:n,getMvtValue:i,getMvtNumValues:r,overwriteMvtCookie:t,MAX_CLIENT_MVT_ID:c}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(21),n(23),n(58),n(0),n(7),n(234),n(43)],r=function(e,t,n,i,r,a,o,s){function c(e){window.setTimeout(e,m)}function u(e){return e.bodySelector||"document"}function l(e,t,n){var i=t.top-n.bottom>=e.minAbove,r=n.top-t.top>=e.minBelow;return i||r}function d(e,t,n){return n.every(l.bind(void 0,e,t))}function p(e){var t=e.getBoundingClientRect();return{top:t.top,bottom:t.bottom,element:e}}function f(e){return{top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e}}function h(e,t){var n=e.candidates;return t.absoluteMinAbove&&(n=n.filter(function(e){return e.top>=t.absoluteMinAbove})),n=n.filter(function(n){var i=n.top>=t.minAbove,r=n.top+t.minBelow<=e.bodyHeight;return i&&r}),t.clearContentMeta&&(n=n.filter(function(n){return n.top>e.contentMeta.bottom+t.clearContentMeta})),t.selectors&&Object.keys(t.selectors).forEach(function(i){n=n.filter(function(n){return d(t.selectors[i],n,e.opponents[i])})}),t.filter&&(n=n.filter(t.filter,t)),n}function g(e){this.name="SpaceError",this.message="There is no space left matching rules from "+e.bodySelector,this.stack=(new Error).stack}function v(t,r){function a(){return n.race([new n(c),n.all([!r.waitForImages||w(t),!r.waitForLinks||_(t),!r.waitForInteractives||k(t),!r.waitForAds||x(t)])])}function o(){var n=e(t.bodySelector+t.slotSelector);if(t.fromBottom&&n.reverse(),t.startAt){var i=!0;n=n.filter(function(e){return e===t.startAt&&(i=!1),!i})}if(t.stopAt){var r=!0;n=n.filter(function(e){return e===t.stopAt&&(r=!1),r})}return n}function s(n){var r=t.clearContentMeta?document.querySelector(".js-content-meta"):null,a=t.selectors?Object.keys(t.selectors).map(function(n){return[n,e(t.bodySelector+n)]}):null;return i.read(function(){var e=t.body.getBoundingClientRect(),i=n.map(d),o=t.clearContentMeta?d(r):null,s=a?a.reduce(function(e,t){return e[t[0]]=t[1].map(d),e},{}):null;return t.absoluteMinAbove&&(t.absoluteMinAbove-=e.top),{bodyHeight:e.height,candidates:i,contentMeta:o,opponents:s}})}function u(e){return h(e,t)}function l(e){if(e.length)return e.map(function(e){return e.element});throw new g(t)}var d;return t||(t=y),r||(r=b),t.body=t.bodySelector?document.querySelector(t.bodySelector):document,d=t.absoluteMinAbove?p:f,a().then(o).then(s).then(u).then(l)}var m=5e3,y={bodySelector:".js-article__body",slotSelector:" > p",absoluteMinAbove:0,minAbove:250,minBelow:300,clearContentMeta:50,selectors:{" > h2":{minAbove:0,minBelow:250}," > *:not(p):not(h2)":{minAbove:25,minBelow:250}},filter:null,startAt:null,stopAt:null,fromBottom:!1},b={waitForImages:!0,waitForLinks:!0,waitForInteractives:!1,waitForAds:!1},w=s(function(i){var r=e("img",i.body).filter(function(e){return!e.complete});return 0===r.length||new n(function(e){var n=0;t.on(i.body,"load",r,function a(){n+=1,n===r.length&&(t.off(i.body,"load",a),r=null,e())})})},u),_=s(function(t){return 0===e(".element-rich-link--not-upgraded",t.body).length||new n(function(e){a.once("rich-link:loaded",e)})},u),k=s(function(t){function i(e){return"IFRAME"===e.nodeName}function r(e){try{return e.contentWindow&&e.contentWindow.document&&"complete"===e.contentWindow.document.readyState}catch(e){return!0}}var a=e(".element-interactive",t.body).filter(function(t){var n=e(t.children).filter(i);return!(n.length&&r(n[0]))});return!(0!==a.length&&"MutationObserver"in window)||n.all(a.map(function(e){return new n(function(t){new MutationObserver(function(e,n){if(e.length>0&&e[0].addedNodes.length>0&&i(e[0].addedNodes[0])){var a=e[0].addedNodes[0];r(a)?(n.disconnect(),t()):a.addEventListener("load",function(){n.disconnect(),t()})}}).observe(e,{childList:!0})})}))},u),x=s(function(t){return n.all(e(".js-ad-slot",t.body).map(function(e){return e.id}).map(o))},u);return{findSpace:v,SpaceError:g,_testCandidate:l,_testCandidates:d}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(e){return e.trim().toLowerCase()}function n(n){try{return e.page.campaigns.filter(function(e){return e.fields&&t(e.fields.campaignId)===t(n)})}catch(e){return[]}}function i(e){return n(e.campaignId).length>0}return{isAbTestTargeted:i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"BookmarksEmailVariants2",start:"2017-03-31",end:"2017-05-30",author:"David Furey",audience:1,audienceOffset:0,signupPage:"info/ng-interactive/2017/mar/30/sign-up-for-the-bookmarks-email",canonicalListId:3039,testIds:[{variantId:"Control",listId:3867},{variantId:"Variant",listId:3866}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(122),n(141),n(0),n(31),n(10),n(36),n(306)],r=function(e,t,n,i,r,a,o){function s(){var t=!i.getCookie("gu.contributions.contrib-timestamp"),r="Article"===n.page.contentType&&!n.page.isMinuteArticle,a=n.page.isSensitive===!0;return t&&e.canReasonablyAskForMoney&&r&&!a}return t.makeABTest({id:"ContributionsEpicAlwaysAskStrategy",campaignId:"epic_always_ask_strategy",start:"2016-12-06",expiry:"2017-05-01",author:"Guy Dawson",description:"Test to assess the effects of always asking readers to contribute via the Epic over a prolonged period.",successMeasure:"We are able to measure the positive and negative effects of this strategy.",idealOutcome:"There are no negative effects and this is the optimum strategy!",audienceCriteria:"All",audience:.02,audienceOffset:.88,showForSensitive:!0,useTargetingTool:!0,overrideCanRun:!0,canRun:function(){return!0},variants:[{id:"control",test:function(){},isUnlimited:!0},{id:"alwaysAsk",template:function(e){return a(o,{linkUrl1:e.membershipURL,linkUrl2:e.contributeURL,componentName:e.componentName,title:"Since you’re here…",p1:"… we have a small favour to ask. More people are reading the Guardian than ever but far fewer are paying for it. And advertising revenues across the media are falling fast. So you can see why we need to ask for your help. The Guardian's independent, investigative journalism takes a lot of time, money and hard work to produce. But we do it because we believe our perspective matters – because it might well be your perspective, too.",p2:"If everyone who reads our reporting, who likes it, helps to pay for it, our future would be much more secure.",p3:"",cta1:"Become a Supporter",cta2:"Make a contribution"})},insertBeforeSelector:".submeta",test:function(e){s()&&e()},isUnlimited:!0,successOnView:!0}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(141),n(187),n(305),n(189),n(36)],r=function(e,t,n,i,r){return e.makeABTest({id:"ContributionsEpicAskFourEarning",campaignId:"kr1_epic_ask_four_earning",start:"2017-01-24",expiry:"2017-05-01",author:"Jonathan Rankin",description:"This places the epic on all articles for all users, with a limit of 4 impressions in any given 30 days",successMeasure:"Conversion rate",idealOutcome:"Acquires many Supporters",audienceCriteria:"All",audience:1,audienceOffset:0,variants:[{id:"control",maxViews:{days:30,count:4,minDaysBetweenViews:0},test:function(e){i.isRegular().then(function(i){var a=i?n:t;return e(function(e){return r(a,{membershipUrl:e.membershipURL,contributionUrl:e.contributeURL,componentName:e.componentName})})})},insertBeforeSelector:".submeta",successOnView:!0}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18),n(3),n(27),n(0),n(58)],r=function(e,t,n,i,r){return function(){function e(e){return r.write(function(){var t=n(".js-email-example")[0];t.setAttribute("href",e)})}function t(e){var t=n(".js-email-sub__iframe")[0];t.setAttribute("src","https://www.theguardian.com/email/form/plaintone/"+e)}function a(e){return r.write(function(){var t=n('input[value="2211"]')[0],i=n('button[value="2211"]')[0];t.setAttribute("value",e),i.setAttribute("value",e)})}function o(n,r){i.page.contentId===s?(t(n),e(r)):a(n)}this.id="EditorialEmailVariants",this.start="2016-12-01",this.expiry="2017-05-30",this.author="Kate Whalen",this.description="Using the wonderful frontend AB testing framework to AB test emails, since the AB function in ExactTarget re-randomises all recipients on each send, and we need users to receive their variant for several weeks. This test will ensure users are added to the corresponding email list (listId) in ExactTarget",this.audience=1,this.audienceOffset=0,this.successMeasure="We can trial two different email formats to fairly compare their CTO rates",this.audienceCriteria="All users who visit the email sign up page",this.dataLinkNames="",this.idealOutcome="Similar quantity of users in each list in ExactTarget";var s="info/ng-interactive/2016/dec/07/sign-up-for-the-flyer";this.canRun=function(){return i.page.contentId===s||"/email-newsletters"===i.page.pageId},this.variants=[{id:"The-Flyer-Cards",test:function(){var e=3806,t="https://www.theguardian.com/email/the-flyer?format=email";o(e,t)}},{id:"The-Flyer-Connected",test:function(){var e=3807,t="https://www.theguardian.com/email/the-flyer?format=email-connected";o(e,t)}}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(122),n(141),n(0),n(31),n(10),n(36),n(307)],r=function(e,t,n,i,r,a,o){return t.makeABTest({
id:"EpicToSupportLandingPage",campaignId:"epic_to_support_landing_page",start:"2017-03-29",expiry:"2017-04-27",author:"Justin Pinner",description:"Use AB framework to push traffic to new supporter landing page.",successMeasure:"There is no noticeable drop-off in contributions.",idealOutcome:"Readers sign up for recurring monthly contributions in droves",audienceCriteria:"UK edition readers",audience:.2,audienceOffset:.5,showForSensitive:!1,useTargetingTool:!1,overrideCanRun:!1,canRun:function(){return"UK"===n.page.edition.toUpperCase()},variants:[{id:"intest",template:function(e){return a(o,{linkUrl1:e.makeURL(n.page.supportUrl+"/uk",e.membershipCampaignCode),componentName:e.componentName,title:"Since you’re here…",p1:'… we’ve got a small favour to ask. More people are reading the Guardian than ever, but far fewer are paying for it. Advertising revenues across the media are falling fast. And <span class="contributions__highlight">unlike many news organisations, we haven’t put up a paywall – we want to keep our journalism as open as we can</span>. So you can see why we need to ask for your help. The Guardian’s independent, investigative journalism takes a lot of time, money and hard work to produce. But we do it because we believe our perspective matters – because it might well be your perspective, too.',p2:"If everyone who reads our reporting, who likes it, helps to support it, our future would be much more secure.",p3:"",cta1:"Support the Guardian"})},insertBeforeSelector:".submeta",successOnView:!0}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"FashionStatementEmailVariants",start:"2017-03-14",end:"2017-03-31",author:"David Furey",audience:0,audienceOffset:0,canonicalListId:105,testIds:[{variantId:"control",listId:3863},{variantId:"variant",listId:3862}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"FilmTodayEmailVariants",start:"2017-03-14",end:"2017-03-31",author:"David Furey",audience:0,audienceOffset:0,canonicalListId:1950,testIds:[{variantId:"control",listId:3865},{variantId:"variant",listId:3864}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(22)],r=function(e,t){return function(){this.id="IncreaseInlineAdsRedux",this.start="2017-04-12",this.expiry="2017-05-17",this.author="Gideon Goldberg",this.description="Displays more inline ads in articles on desktop",this.audience=.05,this.audienceOffset=0,this.successMeasure="Our inventory has increased",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="Viewability and user engagement has not been impacted",this.showForSensitive=!0,this.canRun=function(){return!e.page.isImmersive&&t.isBreakpoint({min:"desktop"})},this.variants=[{id:"yes",test:function(){}},{id:"no",test:function(){}}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18),n(3),n(27),n(0),n(58)],r=function(e,t,n,i,r){return function(){function e(e){var t=n(".js-email-sub__iframe")[0];t.setAttribute("src","https://www.theguardian.com/email/form/plaintone/"+e)}function t(e){return r.write(function(){var t=n('input[value="3811"]')[0],i=n('button[value="3811"]')[0];t.setAttribute("value",e),i.setAttribute("value",e)})}function a(n){i.page.contentId===o?e(n):t(n)}this.id="OpinionEmailVariants",this.start="2017-01-12",this.expiry="2017-05-30",this.author="David Furey",this.description="Using the wonderful frontend AB testing framework to AB test emails, since the AB function in ExactTarget re-randomises all recipients on each send, and we need users to receive their variant for several weeks. This test will ensure users are added to the corresponding email list (listId) in ExactTarget",this.audience=.2,this.audienceOffset=0,this.successMeasure="We can trial two different email formats to fairly compare their CTO rates",this.audienceCriteria="All users who visit the email sign up page",this.dataLinkNames="",this.idealOutcome="90% of users in new format list, 10% in the other list";var o="info/ng-interactive/2017/jan/12/sign-up-for-the-guardian-opinion-email";this.canRun=function(){return i.page.contentId===o||"/email-newsletters"===i.page.pageId},this.variants=[{id:"Opinion-UK-Connected",test:function(){a(3811)}},{id:"Opinion-UK-Legacy",test:function(){a(3814)}}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(3),n(27),n(0)],r=function(e,t,n,i){return function(){this.id="PaidCardLogo",this.start="2017-04-03",this.expiry="2017-05-05",this.author="Lydia Shepherd",this.description="Paid cards in editorial containers - trial with and without logo",this.showForSensitive=!0,this.audience=1,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="One or both versions of this card perform measurably better than an MPU",this.hypothesis="",this.canRun=function(){return"uk/lifeandstyle"===i.page.pageId&&!!t(".adverts--within-unbranded").length},this.completeFunc=function(e){n(".adverts--within-unbranded").each(function(t){t.addEventListener("click",e)})},this.variants=[{id:"with-logo",test:function(){n(".adverts--within-unbranded").each(function(e){e.classList.remove("without-sponsor-logo")})},success:this.completeFunc},{id:"without-logo",test:function(){},success:this.completeFunc}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(3),n(0),n(22),n(136)],r=function(e,t,n,i,r){return function(){this.id="PaidCommentingInternal",this.start="2017-03-02",this.expiry="2017-04-27",this.author="Justin Pinner",this.description="Test effects of paid-only commenting (404 test)",this.showForSensitive=!0,this.audience=0,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="Internal (and specific opt-ins) only",this.dataLinkNames="",this.idealOutcome="A paywall doesn't destroy commenting",this.hypothesis="Our most engaged commenters are prepared to pay for the facility. Trolls are not.",this.canRun=function(){return!r.isPayingMember()},this.completeFunc=function(n){e.on(t(".d-comment-box__payment-cta-button__content")[0],"click",n)},this.variants=[{id:"pre",test:function(){},success:this.completeFunc},{id:"post",test:function(){},success:this.completeFunc}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){return function(){this.id="SimpleReach",this.start="2017-04-13",this.expiry="2017-04-21",this.author="Kate Whalen",this.description="Add SimpleReach opt-in behind query param, so we can test it",this.audience=0,this.audienceOffset=0,this.successMeasure="SimpleReach can opt-in and check the implementation",this.audienceCriteria="SimpleReach team",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return!0},this.variants=[{id:"opt-in",test:function(){}},{id:"opt-out",test:function(){}}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"SleeveNotesLegacyEmailVariant",start:"2017-03-02",end:"2017-05-19",author:"Leigh-Anne Mathieson",audience:.3,audienceOffset:.7,signupPage:"info/ng-interactive/2017/mar/06/sign-up-for-the-sleeve-notes-email",canonicalListId:39,testIds:[{variantId:"SleeveNotes-Legacy",listId:3835}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"SleeveNotesNewEmailVariant",start:"2017-03-02",end:"2017-05-19",author:"Leigh-Anne Mathieson",audience:.7,audienceOffset:0,signupPage:"info/ng-interactive/2017/mar/06/sign-up-for-the-sleeve-notes-email",canonicalListId:39,testIds:[{variantId:"SleeveNotes-New",listId:3834}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(15),n(18),n(23),n(41),n(0),n(31),n(10),n(7),n(58),n(304),n(83),n(42),n(36),n(235),n(189)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h,g){return function(){function r(e){var t=e.survey.surveyId,n=e.dayCanShowAgain,i=t+"="+n,r=o.getCookie("GU_TAILOR_SURVEY");r?(r=r+","+i,o.removeCookie("GU_TAILOR_SURVEY"),o.addCookie("GU_TAILOR_SURVEY",r,365)):o.addCookie("GU_TAILOR_SURVEY",i,365)}function u(){var e=o.getCookie("GU_TAILOR_SURVEY"),t=e?e.split(","):[],n=function(e){var t=e.split("=")[1];return new Date(t).valueOf()>(new Date).valueOf()},i=t.filter(n);return i.map(function(e){return e.split("=")[0]}).toString()}function v(e){return{question:e.question,id:e.surveyId}}function m(){var e={edition:a.page.edition},n=s.local.get("surveyToShow");n&&(e.surveyToShow=n);var o=u();return o&&(e.surveysNotToShow=o),g.getSuggestedSurvey(e).then(function(e){if(e){r(e.data);var n=v(e.data.survey),a=t.create(f(l,n));return C(a,e.data.survey.surveyId)}i.resolve()})}function y(e){var n=document.getElementsByClassName(e);t(n).each(function(e){e.disabled=!0})}function b(){var e=document.getElementsByClassName("impressions-survey__content");e[0].classList.add("js-impressions-survey__fadeout")}function w(){var e=document.getElementsByClassName("impressions-survey__thanks");e[0].classList.add("js-impressions-survey__fadein")}function _(t){var i=document.getElementsByClassName("fi-survey__button");d(i,function(i){e.on(i,"click",function(e){if(e.target.attributes.getNamedItem("data-link-name")){var i=e.target.attributes.getNamedItem("data-link-name").value;k(i,t),c.emit("tailor:survey:clicked"),n.write(function(){y("fi-survey__button"),b(),w()})}})})}function k(e,t){var n="data_tailor_survey_"+t;p.record({component:n,value:e})}this.id="TailorSurvey",this.start="2017-03-07",this.expiry="2017-04-28",this.author="Manlio & Mahana",this.description="Testing Tailor surveys",this.audience=1,this.audienceOffset=0,this.successMeasure="We can show a survey on Frontend as decided by Tailor",this.audienceCriteria="All users",this.dataLinkNames="Tailor survey",this.idealOutcome="",this.canRun=function(){return!a.page.isAdvertisementFeature&&"Article"===a.page.contentType};var x={bodySelector:".js-article__body",slotSelector:" > p",minAbove:0,minBelow:0,clearContentMeta:50,selectors:{" .element-rich-link":{minAbove:100,minBelow:100}," .element-image":{minAbove:50,minBelow:50}," .player":{minAbove:0,minBelow:0}," > h1":{minAbove:0,minBelow:0}," > h2":{minAbove:0,minBelow:0}," > *:not(p):not(h2):not(blockquote)":{minAbove:0,minBelow:0}," .ad-slot":{minAbove:100,minBelow:100}}},C=function(e,n){return h.fillSpace(x,function(i){var r="data_tailor_survey_"+n;return c.emit("register:begin",r),t(e).insertBefore(i[0]),c.emit("register:end",r),n})};this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){m().then(function(e){e&&(c.emit("survey-added"),_(e))})},impression:function(e){c.on("survey-added",e)},success:function(e){c.on("tailor:survey:clicked",e)}}]}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(84)],r=function(e){return new e({id:"TheLongReadEmailVariants",start:"2017-03-14",end:"2017-03-31",author:"David Furey",audience:0,audienceOffset:0,canonicalListId:3322,testIds:[{variantId:"control",listId:3869},{variantId:"variant",listId:3868}]})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(59),n(31),n(10),n(60),n(0)],r=function(e,t,n,i,r,a){function o(e,t){var n=l[e];if(d&&n)return n+=d,t&&Object.keys(t).forEach(function(e){n+="&"+e+"="+t[e]}),n}function s(n,r,s){var l=o(n,s);if(!l||!a.switches.useTailorEndpoints)return e.resolve({});var d=r?null:i.local.get("gu.tailor");return d&&d[l]?e.resolve(d[l]):t(l).then(c.bind(null,l)).catch(u.bind(null,l))}function c(t,n){var r=i.local.get("gu.tailor")||{},a=36e5;return r[t]=n,i.local.set("gu.tailor",r,{expires:Date.now()+a}),e.resolve(n)}function u(e,t){r(t,{feature:"tailor",url:e})}var l={suggestions:"https://tailor.guardianapis.com/suggestions?browserId="},d=n.getCookie("bwid");return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(23),n(0),n(134),n(125),n(60),n(753),n(734),n(735),n(528),n(748),n(749),n(479),n(743),n(754),n(758),n(755),n(533),n(757),n(760),n(771),n(773),n(769),n(768),n(407),n(230),n(136)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h,g,v,m,y,b,w,_,k,x,C,I){function E(t,i){x.addStartTimeBaseline(i);var r=[];return t.forEach(function(e){var t=e[0],i=e[1],a=e[2];n.catchErrorsWithContext([[t,function(){var e=a?x.defer(t,i):x.wrap(t,i),n=e();r.push(n)}]])}),e.all(r).then(function(){x.addEndTimeBaseline(i)})}var A=[["cm-highMerch",a.init],["cm-thirdPartyTags",w.init],["cm-prepare-sonobi-tag",l.init,!0],["cm-prepare-switch-tag",d.init,!0],["cm-articleAsideAdverts",o.init,!0],["cm-prepare-googletag",u.init,!0],["cm-articleBodyAdverts",s.init],["cm-liveblogAdverts",y.init,!0],["cm-closeDisabledSlots",c.init],["cm-stickyTopBanner",b.init],["cm-fill-advert-slots",p.init,!0],["cm-paidContainers",k.init],["cm-paidforBand",_.init]];return t.page.isHosted&&A.push(["cm-hostedAbout",f.init],["cm-hostedVideo",h.init,!0],["cm-hostedGallery",g.init],["cm-hostedOnward",m.init,!0],["cm-hostedOJCarousel",v.init]),function(){return t.switches.adFreeMembershipTrial&&I.isAdFreeUser()?(c.init(!0),e.resolve()):(i.markTime("commercial start"),n.catchErrorsWithContext([["ga-user-timing-commercial-start",function(){C.trackPerformance("Javascript Load","commercialStart","Commercial start parse time")}]]),window.googletag={cmd:[]},E(A,x.primaryBaseline).then(function(){i.markTime("commercial end"),n.catchErrorsWithContext([["ga-user-timing-commercial-end",function(){C.trackPerformance("Javascript Load","commercialEnd","Commercial end parse time")}]])}).catch(function(e){r(e,{feature:"commercial"})}))}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i;i=function(){function e(e){(new Image).src=e}return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i;i=function(){function e(e,t,n){e.insertAdjacentHTML("beforeend",n.replace("INSERT_UNIQUE_ID",t))}return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(23),n(60),n(534),n(535)],r=function(e,t,n,i){function r(e,t,n){n||(n={}),0===v&&o(n.window||window),n.persist?(g[e]=t,v+=1):(g[e]||(g[e]=[]),g[e].indexOf(t)===-1&&(g[e].push(t),v+=1))}function a(e,t,n){if(n||(n={}),void 0===g[e])throw new Error(f(m,e));if(void 0===t)v-=g[e].length,g[e].length=0;else if(g[e]===t)g[e]=null,v-=1;else{var i=g[e].indexOf(t);i>-1&&(v-=1,g[e].splice(i,1))}0===v&&s(n.window||window)}function o(e){e.addEventListener("message",c)}function s(e){e.removeEventListener("message",c)}function c(n){function r(e,t){i({id:a.id,error:e,result:t},n.source,n.origin)}if(!(h.indexOf(n.origin)<0)){try{var a=JSON.parse(n.data)}catch(e){return}if(l(a)&&(a=d(a)),u(a)){if(Array.isArray(g[a.type])&&g[a.type].length){var o=g[a.type].slice().reduce(function(e,t){return e.then(function(e){var n=t(a.value,e,p(a));return void 0===n?e:n})},e.resolve(!0));return o.then(function(e){r(null,e)}).catch(function(e){t(e,{feature:"native-ads"}),r(f(y,e),null)})}"function"==typeof g[a.type]?g[a.type](r,a.value,p(a)):r(f(m,a.type),null)}}}function u(e){return"type"in e&&"value"in e&&"id"in e&&e.type in g&&/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/.test(e.id)}function l(e){return"set-ad-height"===e.type&&"id"in e.value&&"height"in e.value}function d(e){return{id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,value:{height:+e.value.height,width:+e.value.width}}}function p(e){return document.getElementById(e.iframeId)}function f(){if(arguments.length<2)return arguments[0]||"";var e=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(t){e.message=e.message.replace("%%",t)}),e}var h=[n,location.protocol+"//"+location.host],g={},v=0,m={code:405,message:"Service %% not implemented"},y={code:500,message:"Internal server error\n\n%%"};return{register:r,unregister:a}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(23),n(26),n(0),n(125),n(538),n(42)],r=function(e,t,n,i,r,a){function o(e){e.pubads().addEventListener("slotRenderEnded",y)}function s(e){var t=i.getCurrentTime();v.modules.push({name:e,start:t})}function c(e){var t=i.getCurrentTime(),n=v.modules.map(function(e){return e.name}).indexOf(e);if(n!=-1){var r=v.modules[n];r.duration=t-r.start}}function u(e,t,n){v.adverts=v.adverts.filter(function(t){return e.id!==t.id}),e.timings[t]=n,v.adverts.push(Object.freeze({id:e.id,isEmpty:e.isEmpty,createTime:e.timings.createTime,startLoading:e.timings.startLoading,stopLoading:e.timings.stopLoading,startRendering:e.timings.startRendering,stopRendering:e.timings.stopRendering,loadingMethod:e.timings.loadingMethod,lazyWaitComplete:e.timings.lazyWaitComplete}))}function l(e){v.baselines.push({name:e,startTime:i.getCurrentTime()})}function d(e){v.baselines.forEach(function(t){t.name===e&&(t.endTime=i.getCurrentTime())})}function p(){n.tests.commercialClientLogging&&(v.viewId=a.viewId,r.postJson("/commercial-report",JSON.stringify(v)))}function f(e){v.tags.push(e)}function h(t,n){var i=s.bind(null,t),r=c.bind(null,t);return function(){i();try{var t=n.apply(null,arguments);return t instanceof e?t.then(function(e){return r(),e},function(e){throw r(),e}):(r(),t)}catch(e){throw r(),e}}}function g(t,n){var i=s.bind(null,t),r=c.bind(null,t),a=[i,r];return function(){try{var t=n.apply(null,a.concat(a.slice.call(arguments)));return t instanceof e?t.catch(function(e){throw r(),e}):t}catch(e){throw r(),e}}}var v={viewId:"unknown",tags:[],modules:[],adverts:[],baselines:[]},m="primary",y=t.wrap(p);return{setListeners:o,updateAdvertMetric:u,addStartTimeBaseline:l,addEndTimeBaseline:d,primaryBaseline:m,addTag:f,wrap:h,defer:g,reportTrackingData:y}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){var i,r;i=[n(16)],r=function(e){function t(t){var n,i;if(!e(t))throw new TypeError;return function(){return n?i:(n=!0,i=t.apply(this,arguments),t=null,i)}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(25),n(574),n(44),n(1),n(45),n(6)],r=function(e,t,n,i,r,a){function o(o){var s=arguments,c=2;if(!i(o))return o;if("number"!=typeof s[2]&&(c=s.length),c>3&&"function"==typeof s[c-2])var u=e(s[--c-1],s[c--],2);else c>2&&"function"==typeof s[c-1]&&(u=s[--c]);for(var l=a(arguments,1,c),d=-1,p=n(),f=n();++d<c;)t(o,l[d],u,p,f);return r(p),r(f),o}return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i;i=function(){function e(e,t,n){function i(){return e===t&&0===t?"fluid":e+","+t}return Object.freeze({width:e,height:t,switchUnitId:n,toString:i})}var t={mpu:228,leaderboard:229,billboard:229},n={billboard:e(970,250,t.billboard),leaderboard:e(728,90,t.leaderboard),mpu:e(300,250,t.mpu),halfPage:e(300,600),portrait:e(300,1050),fluid:e(0,0),outOfPage:e(1,1),video:e(620,1),video2:e(620,350),merchandisingHighAdFeature:e(88,89),merchandisingHigh:e(88,87),merchandising:e(88,88),inlineMerchandising:e(88,85),fabric:e(88,71),empty:e(2,2)};return n["970x250"]=n.billboard,n["728x90"]=n.leaderboard,n["300x250"]=n.mpu,n["300x600"]=n.halfPage,n["300x1050"]=n.portrait,n}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(23),n(22),n(125),n(739),n(407),n(529)],r=function(e,t,n,i,r,a){function o(t){var a=s(t),o=i(t,a),c={id:t.id,node:t,sizes:a,size:null,slot:o.slot,isEmpty:null,isLoading:!1,isRendering:!1,isLoaded:!1,isRendered:!1,whenLoaded:null,whenLoadedResolver:null,whenRendered:null,whenRenderedResolver:null,whenSlotReady:o.slotReady,timings:{createTime:null,startLoading:null,stopLoading:null,startRendering:null,stopRendering:null,loadingMethod:null,lazyWaitComplete:null}};return c.whenLoaded=new e(function(e){c.whenLoadedResolver=e}).then(function(e){return c.isLoaded=e}),c.whenRendered=new e(function(e){c.whenRenderedResolver=e}).then(function(e){return c.isRendered=e}),r.updateAdvertMetric(c,"createTime",n.getCurrentTime()),Object.seal(c)}function s(e){return t.breakpoints.reduce(function(t,n){var i=e.getAttribute("data-"+a(n.name));return i&&(t[n.name]=c(i)),t},{})}function c(e){return e.split("|").map(function(e){return"fluid"===e?"fluid":e.split(",").map(Number)})}function u(e){e.isLoading=!0,e.timings.startLoading=n.getCurrentTime()}function l(e,t){e.isLoading=!1,e.whenLoadedResolver(t),e.timings.stopLoading=n.getCurrentTime()}function d(e){e.isRendering=!0,e.timings.startRendering=n.getCurrentTime()}function p(e,t){e.isRendering=!1,e.whenRenderedResolver(t),r.updateAdvertMetric(e,"stopRendering",n.getCurrentTime())}return o.startLoading=u,o.stopLoading=l,o.startRendering=d,o.stopRendering=p,o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(13),n(439)],r=function(e,t,n){function i(e,t,n){var i=document.createElement("div");return i.id="dfp-ad--"+e,i.className="js-ad-slot ad-slot "+n.join(" "),i.setAttribute("data-link-name","ad slot "+e),i.setAttribute("data-name",e),Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),i}var r={sizeMappings:{mobile:[n.outOfPage,n.empty,n.mpu,n.fluid],desktop:[n.outOfPage,n.empty,n.mpu,n.video,n.video2,n.fluid]}},a={im:{label:!1,refresh:!1,sizeMappings:{mobile:[n.outOfPage,n.empty,n.inlineMerchandising,n.fluid]}},"high-merch":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[n.outOfPage,n.empty,n.merchandisingHigh,n.fluid]}},"high-merch-lucky":{label:!1,refresh:!1,name:"merchandising-high-lucky",sizeMappings:{mobile:[n.outOfPage,n.empty,n.fluid]}},"high-merch-paid":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[n.outOfPage,n.empty,n.merchandisingHighAdFeature,n.fluid]}},inline:r,mostpop:r,comments:r,"top-above-nav":{sizeMappings:{mobile:[n.outOfPage,n.empty,n.mpu,n.fabric,n.fluid]}}};return function(e,n){var r,o,s,c,u={};return n=n||{},o=a[e],r=n.name||o.name||e,s=n.classes?n.classes.split(" ").map(function(e){return"ad-slot--"+e}):[],c=t({},o.sizeMappings),n.sizes&&Object.keys(n.sizes).forEach(function(e){c[e]?c[e]=c[e].concat(n.sizes[e]):c[e]=n.sizes[e]}),Object.keys(c).forEach(function(e){c[e]=c[e].join("|")}),t(u,c),o.label===!1&&(u.label="false"),o.refresh===!1&&(u.refresh="false"),s.push("ad-slot--"+r),i(r,Object.keys(u).reduce(function(e,t){return e["data-"+t]=u[t],e},{}),s)}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(184),n(440)],r=function(e,t){function n(e){e.whenSlotReady.catch(function(){}).then(function(){t.startLoading(e),window.googletag.display(e.id)})}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(7),n(18),n(146)],r=function(e,t,n,i){function r(e,t){this.element=e,this.opts=i(t||{},{top:0,containInParent:!0,emitMessage:!1})}return r.prototype.init=function(){n.read(function(){this.offsetFromParent=this.element.getBoundingClientRect().top-this.element.parentNode.getBoundingClientRect().top},this),t.on("window:throttledScroll",this.updatePosition.bind(this)),n.read(this.updatePosition,this)},r.prototype.updatePosition=function(){var e,t,i,r=this.element.getBoundingClientRect(),a=this.element.parentNode.getBoundingClientRect(),o=r.height;if(0<a.top+this.offsetFromParent)i=!1,e={top:null},t="unfixed";else{i=!0;var s=this.opts.containInParent&&a.bottom<=r.height?Math.floor(a.bottom-o-this.opts.top):this.opts.top;e={top:s+"px"},t="fixed"}this.opts.emitMessage&&t&&t!==this.lastMessage&&(this.emitMessage(t),this.lastMessage=t),e&&n.write(function(){i?(this.element.classList.add("is-sticky"),Object.assign(this.element.style,e)):(this.element.classList.remove("is-sticky"),Object.assign(this.element.style,e))},this)},r.prototype.emitMessage=function(e){t.emit("modules:"+this.element.id+":"+e)},r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[t],r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=new Promise(function(e){window.guardian.css.loaded?e():window.guardian.css.onLoad=e});e.loadCssPromise=t}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(139),n(85),n(577)],r=function(e,t,n){function i(i){for(var r=arguments.length>1?e(arguments,!0,!1,1):n(i),a=-1,o=r.length;++a<o;){var s=r[a];i[s]=t(i[s],1,null,null,i)}return i}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(0),n(31),n(22),n(10),n(13),n(91),n(536),n(90),n(537),n(250),n(138),n(226),n(411),n(247)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f){function h(e){return e.replace(/[+\s]+/g,"-").toLowerCase()}function g(e){return e?h(e).replace(/&/g,"and").replace(/'/g,""):null}function v(){var t=/^(cm|commercial)/,n=u.getParticipations(),i=[];return Object.keys(n).forEach(function(e){var t=n[e];if(t.variant&&"notintest"!==t.variant){var r=e+"-"+t.variant;i.push(r.substring(0,40))}}),e.tests&&Object.keys(e.tests).forEach(function(n){var r=e.tests[n];"string"==typeof r&&t.test(r)&&i.push(r)}),i}function m(){var e=t.getCookie("adtest");if(e)return"demo"===e.substring(0,4)&&t.removeCookie("adtest"),e}function y(){var e=i.local.get("gu.alreadyVisited")||0;return e<=5?e.toString():e>=6&&e<=9?"6-9":e>=10&&e<=15?"10-15":e>=16&&e<=19?"16-19":e>=20&&e<=29?"20-29":e>=30?"30plus":void 0}function b(){var e=[{id:"facebook",match:"facebook.com"},{id:"twitter",match:"t.co/"},{id:"googleplus",match:"plus.url.google"},{id:"reddit",match:"reddit.com"},{id:"google",match:"www.google"}],t=e.filter(function(e){return n.getReferrer().indexOf(e.match)>-1})[0]||{};return t.id}function w(){var e=["0p19G"];return f(a.getUrlVars(),e)}return p(function(){var t=e.page,i=r({x:o.getSegments(),pv:e.ophan.pageViewId,bp:n.getBreakpoint(),at:m(),si:s.isUserLoggedIn()?"t":"f",gdncrm:c.getUserSegments(),ab:v(),ref:b(),ms:g(t.source),fr:y(),vl:t.videoDuration?(30*Math.ceil(t.videoDuration/30)).toString():void 0},t.sharedAdTargeting,w()),u=f(i,function(e){return Array.isArray(e)?e.length>0:e});return t.appNexusPageTargeting=a.constructQuery({pt1:u.url,pt2:u.edition,pt3:u.ct,pt4:u.p,pt5:u.k?u.k.toString():"",pt6:u.su,pt7:u.bp,pt8:u.x,pt9:[u.gdncrm,u.pv,u.co,u.tn,u.slot].join("|")}),t.pageAdTargeting=u,u})}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(58),n(27),n(13),n(36),n(584),n(583),n(239),n(240),n(392),n(393)],r=function(e,t,n,i,r,a,o,s,c,u,l){function d(d,p){function f(){function o(e){var t=n("#YTPlayer").attr("src"),i=t;i=t.indexOf("autoplay")===-1?t+"&amp;autoplay=1":i.replace(e?"autoplay=0":"autoplay=1",e?"autoplay=1":"autoplay=0"),e?(n(".ad-exp__close-button",d).addClass("button-spin"),n(".ad-exp__open-chevron",d).addClass("chevron-down"),_.css("height",v),w.addClass("creative--open"),n(".slide-video, .slide-video .ad-exp__layer",d).css("height",v).addClass("slide-video__expand")):(n(".ad-exp__close-button",d).removeClass("button-spin"),n(".ad-exp__open-chevron",d).removeClass("chevron-down"),_.css("height",g),w.removeClass("creative--open"),n(".slide-video, .slide-video .ad-exp__layer",d).css("height",g).removeClass("slide-video__expand")),h=!e,setTimeout(function(){n("#YTPlayer").attr("src",i)},1e3)}var f=v,y=p.showCrossInContainer.substring(3),b={id:"fabric-expandable-"+(1e4*Math.random()|0).toString(16),desktopCTA:p.ctaDesktopImage?m({media:"hide-until-tablet",link:p.link,image:p.ctaDesktopImage,position:p.ctaDesktopPosition}):"",mobileCTA:p.ctaMobileImage?m({media:"mobile-only",link:p.link,image:p.ctaMobileImage,position:p.ctaMobilePosition}):"",showArrow:"arrow-only"===p.showMoreType||"plus-and-arrow"===p.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'+s.markup+"</button>":"",showPlus:"plus-only"===p.showMoreType||"plus-and-arrow"===p.showMoreType?'<button class="ad-exp__close-button ad-exp__open ad-exp__open--'+y+'">'+c.markup+"</button>":"",videoEmbed:""!==p.YoutubeVideoURL?'<iframe id="YTPlayer" width="100%" height="'+f+'" src="'+p.YoutubeVideoURL+'?showinfo=0&amp;rel=0&amp;controls=0&amp;fs=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="expandable-video"></iframe>':""},w=n.create(r(a,{data:i(p,b)})),_=n(".ad-exp--expand",w);return e.on(d,"click",".ad-exp__open",function(){t.write(function(){o(h)})}),e.on(d,"click",".video-container__cta, .creative__cta",function(){t.write(function(){o(!1)})}),t.write(function(){return _.css("height",g),n(".ad-exp-collapse__slide",w).css("height",g),p.trackingPixel&&u(p.trackingPixel+p.cacheBuster),p.researchPixel&&u(p.researchPixel+p.cacheBuster),w.appendTo(d),p.viewabilityTracker&&l(d,p.id,p.viewabilityTracker),d.classList.add("ad-slot--fabric"),d.parentNode.classList.contains("top-banner-ad-container")&&d.parentNode.classList.add("top-banner-ad-container--fabric"),!0})}var h=!0,g=250,v=500,m=r(o);return Object.freeze({create:f})}return d}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(58),n(27),n(22),n(7),n(10),n(36),n(585),n(586),n(239),n(240),n(446),n(413),n(392),n(393)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h){var g=function(e,t){this.adSlot=e,this.params=t,this.isClosed=!0,this.initialExpandCounter=!1,this.closedHeight=250,this.openedHeight=500,d(this,"updateBgPosition","listener")};return g.hasScrollEnabled=!i.isIOS()&&!i.isAndroid(),g.prototype.updateBgPosition=function(){var e,r=this,a=i.getViewport().height,o=this.adSlot.getBoundingClientRect().top,s=this.isClosed?this.closedHeight:this.openedHeight,c=a>o,u=2*-s<o+20,l=u&&.4*a-s>o?"true":"false",d=c&&.5*a<o?"true":"false",p="true"===d?50-(.5*a-o)*-.2:50,f="true"===l?.2*(.4*a-o-s):0;switch(this.params.backgroundImagePType){case"split":e=p+f,t.write(function(){n(".ad-exp--expand-scrolling-bg",r.adSlot).css({"background-repeat":"no-repeat","background-position":"50%"+e+"%"})});break;case"fixed":e=-o,t.write(function(){n(".ad-exp--expand-scrolling-bg",r.adSlot).css("background-position","50%"+(e+"px"))});break;case"fixed matching fluid250":t.write(function(){n(".ad-exp--expand-scrolling-bg",r.adSlot).addClass("ad-exp--expand-scrolling-bg-fixed")});break;case"parallax":e=Math.ceil(.3*o)+20,t.write(function(){n(".ad-exp--expand-scrolling-bg",r.adSlot).addClass("ad-exp--expand-scrolling-bg-parallax"),n(".ad-exp--expand-scrolling-bg",r.adSlot).css("background-position","50%"+(e+"%"))});break;case"none":}},g.prototype.listener=function(){var e=this;if(!this.initialExpandCounter&&i.getViewport().height>e.adSlot.getBoundingClientRect().top+this.openedHeight){var r=n(".ad-slot__content",e.adSlot).attr("id"),o=r.split("/");if(a.local.get("gu.commercial.expandable."+o[1]))this.isClosed&&t.write(function(){n(".ad-exp__open-chevron").addClass("chevron-up")});else{var s=6048e5;t.write(function(){a.local.set("gu.commercial.expandable."+o[1],!0,{expires:Date.now()+s}),e.$button.addClass("button-spin"),n(".ad-exp__open-chevron").removeClass("chevron-up").addClass("chevron-down"),e.$ad.css("height",e.openedHeight),e.isClosed=!1,e.initialExpandCounter=!0})}return!0}},g.prototype.buildVideo=function(e){var t=16/9,n=i.isBreakpoint({max:"phablet"})?125:250,r=n*t,a="center"===this.params.videoPositionH?"margin-left: "+r/-2+"px":"",s="left"===this.params.videoPositionH?"left: "+this.params.videoHorizSpace+"px":"",u="right"===this.params.videoPositionH?"right: "+this.params.videoHorizSpace+"px":"",l={width:r,height:n,src:this.params.videoURL+"?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0",className:["expandable_video","expandable_video--horiz-pos-"+this.params.videoPositionH,e].join(" "),inlineStyle:[a,s,u].join("; ")};return o(c,l)},g.prototype.stopVideo=function(e){e=e||0;var t=i.isBreakpoint({min:"tablet"})?".js-fabric-video--desktop":".js-fabric-video--mobile",r=n(t,this.adSlot),a=r.attr("src");window.setTimeout(function(){r.attr("src",a+"&amp;autoplay=0")},e)},g.prototype.create=function(){var i=""!==this.params.videoURL,a={videoDesktop:i?this.buildVideo("js-fabric-video--desktop"):""},c={videoMobile:i?this.buildVideo("js-fabric-video--mobile"):""},d={showArrow:"arrow-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'+u.markup+"</button>":""},v={showPlus:"plus-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__close-button ad-exp__open">'+l.markup+"</button>":""
},m="0%",y={scrollbg:"none"!==this.params.backgroundImagePType?'<div class="ad-exp--expand-scrolling-bg" style="background-image: url('+this.params.backgroundImageP+"); background-position: "+this.params.backgroundImagePPosition+" "+m+"; background-repeat: "+this.params.backgroundImagePRepeat+';"></div>':""};this.params.id="fabric-expanding-"+(1e4*Math.random()|0).toString(16);var b=n.create(o(s,{data:p(this.params,d,v,a,c,y)}));return r.on("window:throttledScroll",this.listener),e.on(this.adSlot,"click",".ad-exp__open",function(){!this.isClosed&&i&&this.stopVideo(1e3),t.write(function(){n(".ad-exp__close-button").toggleClass("button-spin"),n(".ad-exp__open-chevron").removeClass("chevron-up").toggleClass("chevron-down"),this.$ad.css("height",this.isClosed?this.openedHeight:this.closedHeight),this.isClosed=!this.isClosed,this.initialExpandCounter=!0}.bind(this))}.bind(this)),g.hasScrollEnabled&&(this.updateBgPosition(),r.on("window:throttledScroll",this.updateBgPosition),r.on("window:throttledResize",this.updateBgPosition)),t.write(function(){return this.$ad=n(".ad-exp--expand",b).css("height",this.closedHeight),this.$button=n(".ad-exp__open",b),n(".ad-exp-collapse__slide",b).css("height",this.closedHeight),this.params.trackingPixel&&f(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&f(this.params.researchPixel+this.params.cacheBuster),b.appendTo(this.adSlot),this.params.viewabilityTracker&&h(this.adSlot,this.params.id,this.params.viewabilityTracker),this.adSlot.classList.add("ad-slot--fabric"),this.adSlot.parentNode.classList.contains("top-banner-ad-container")&&this.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),!0},this)},g}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(22),n(36),n(7),n(392),n(393),n(587),n(591),n(594),n(413)],r=function(e,t,n,i,r,a,o,s,c,u){var l,d,p,f=!t.isAndroid(),h=t.isEnhanced(),g="MSIE"===t.getUserAgent.browser&&parseInt(t.getUserAgent.version)<=10,v=function(e,t){this.adSlot=e,this.params=t};return v.prototype.create=function(){l||(l=n(o),d=n(s),p=n(c));var t={position:"left"===this.params.videoPositionH||"right"===this.params.videoPositionH?this.params.videoPositionH+":"+this.params.videoHorizSpace+"px;":""},v={id:"fabric-"+(1e4*Math.random()|0).toString(16),showLabel:"hide"!==this.params.showAdLabel,video:this.params.videoURL?d(u(this.params,t)):"",hasContainer:"layerTwoAnimation"in this.params,layerTwoBGPosition:!this.params.layerTwoBGPosition||this.params.layerTwoAnimation&&"disabled"!==this.params.layerTwoAnimation&&(h||"enabled"!==this.params.layerTwoAnimation)?"0% 0%":this.params.layerTwoBGPosition,scrollbg:!(!this.params.backgroundImagePType||"none"===this.params.backgroundImagePType)&&p(this.params)};return v.scrollbg&&(e.read(this.updateBgPosition,this),i.on("window:throttledScroll",this.updateBgPosition.bind(this)),i.on("window:throttledResize",this.updateBgPosition.bind(this))),this.params.trackingPixel&&r(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&r(this.params.researchPixel+this.params.cacheBuster),e.write(function(){return this.adSlot.insertAdjacentHTML("beforeend",l({data:u(this.params,v)})),this.scrollingBg=this.adSlot.querySelector(".ad-scrolling-bg"),this.layer2=this.adSlot.querySelector(".hide-until-tablet .fabric-v1_layer2"),this.scrollType=this.params.backgroundImagePType,"enabled"===this.params.layerTwoAnimation&&h&&!g&&(this.layer2.style.backgroundPosition=""),"fixed"===this.scrollType&&f&&(this.scrollingBg.style.backgroundAttachment="fixed"),this.adSlot.classList.add("ad-slot--fabric-v1","ad-slot--fabric","content__mobile-full-width"),this.adSlot.parentNode.classList.contains("top-banner-ad-container")&&this.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),this.params.viewabilityTracker&&a(this.adSlot,this.params.id,this.params.viewabilityTracker),!0},this)},v.prototype.updateBgPosition=function(){if("parallax"===this.scrollType){var t=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;e.write(function(){this.scrollingBg.classList.add("ad-scrolling-bg-parallax"),this.scrollingBg.style.backgroundPosition="50% "+t+"%"},this)}else if("fixed"===this.scrollType&&!f){var n=this.adSlot.getBoundingClientRect(),i=(window.innerHeight-n.bottom+n.height/2)/window.innerHeight*100;e.write(function(){this.scrollingBg.style.backgroundPosition="50% "+i+"%"},this)}this.layer2Animation()},v.prototype.layer2Animation=function(){var n;"enabled"===this.params.layerTwoAnimation&&h&&!g&&(n=t.getViewport().height>this.adSlot.getBoundingClientRect().top,e.write(function(){this.layer2.classList.add("ad-scrolling-text-hide"+(this.params.layerTwoAnimationPosition?"-"+this.params.layerTwoAnimationPosition:"")),n&&this.layer2.classList.add("ad-scrolling-text-animate"+(this.params.layerTwoAnimationPosition?"-"+this.params.layerTwoAnimationPosition:""))},this))},v}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(248),n(58),n(22),n(36),n(392),n(393),n(588)],r=function(e,t,n,i,r,a,o,s){function c(c,l){function d(){return n.write(function(){l.Trackingpixel&&a(l.Trackingpixel+l.cacheBuster),l.Researchpixel&&a(l.Researchpixel+l.cacheBuster),c.insertAdjacentHTML("beforeend",u({data:l})),l.viewabilityTracker&&o(c,l.id,l.viewabilityTracker),c.classList.add("ad-slot--fabric"),c.parentNode.classList.contains("top-banner-ad-container")&&c.parentNode.classList.add("top-banner-ad-container--fabric")}).then(function(){return _=e(".creative__layer2",c),t(window,"scroll",f,{passive:!0}),t(c,"animationend",function(){window.removeEventListener("scroll",f)}),b&&(w=c.getElementsByTagName("video")[0],w.onended=p),n.read(f),!0})}function p(){w.onended=null,w=null}function f(){var e=i.getViewport().height,t=c.getBoundingClientRect();k=t.top>=0&&t.bottom<e,x||(x=!0,n.write(h))}function h(){x=!1,w&&g(),v()}function g(){k?w.play():w.pause()}function v(){k?m():y()}function m(){_.forEach(function(e){e.classList.add("is-animating")})}function y(){_.forEach(function(e){e.classList.remove("is-animating")})}var b,w,_,k,x=!1,C=i.isBreakpoint({max:"phablet"});return u||(u=r(s)),b=!(i.isIOS()||i.isAndroid()||C),l.id="fabric-video-"+(1e4*Math.random()|0).toString(16),C?l.posterMobile='<div class="creative__poster" style="background-image:url('+l.Videobackupimage+')"></div>':(b&&(l.video='<video muted class="creative__video creative__video--'+l.Videoalignment+'"><source src="'+l.VideoURL+'" type="video/mp4"></video>'),l.posterTablet='<div class="creative__poster" style="background-image:url('+l.BackgroundImagemobile+')"></div>'),Object.freeze({create:d})}var u;return c}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(36),n(490),n(265),n(392),n(393),n(589),n(590),n(255),n(253)],r=function(e,t,n,i,r,a,o,s,c,u){var l=function(e,t){this.adSlot=e,this.params=t};return l.prototype.create=function(){this.params.externalLinkIcon=i(c.markup,["frame__external-link-icon"]),this.params.target="yes"===this.params.newWindow?"_blank":"_self",this.params.id="frame-"+(1e4*Math.random()|0).toString(16);var l=t(o,{data:this.params}),d=t(s,{data:{buttonTitle:"Ad",infoTitle:"Advertising on the Guardian",infoText:"is created and paid for by third parties.",infoLinkText:"Learn more about how advertising supports the Guardian.",infoLinkUrl:"https://www.theguardian.com/advertising-on-the-guardian",icon:i(u.markup,["gu-comlabel__icon"]),dataAttr:this.adSlot.id}});return e.write(function(){return this.adSlot.insertAdjacentHTML("beforeend",l),this.adSlot.lastElementChild.insertAdjacentHTML("afterbegin",d),this.adSlot.classList.add("ad-slot--frame"),this.params.trackingPixel&&r(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&r(this.params.researchPixel+this.params.cacheBuster),this.params.viewabilityTracker&&a(this.adSlot,this.params.id,this.params.viewabilityTracker),new n(this.adSlot).init(),!0},this)},l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(36),n(22),n(392),n(393),n(592)],r=function(e,t,n,i,r,a){function o(o,c){function u(){var t=s(c);return e.write(function(){o.insertAdjacentHTML("beforeend",t),o.classList.add("ad-slot--revealer","ad-slot--fabric","content__mobile-full-width"),c.trackingPixel&&i(c.trackingPixel+c.cacheBuster),c.researchPixel&&i(c.researchPixel+c.cacheBuster),c.viewabilityTracker&&r(o,c.id,c.viewabilityTracker)}).then(function(){return e.read(function(){return n.getViewport()})}).then(function(t){return e.write(function(){var e=o.getElementsByClassName("creative__background")[0];return e.style.height=t.height+70+"px",!0})})}return s||(s=t(a)),c.id="revealer-"+(1e4*Math.random()|0).toString(16),Object.freeze({create:u})}var s;return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(18),n(27),n(22),n(7),n(36),n(593),n(392),n(393)],r=function(e,t,n,i,r,a,o,s,c){function u(){t.write(function(){this.$scrollableImage.addClass("creative--scrollable-mpu-image-fixed")},this)}function l(){var e=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;t.write(function(){this.$scrollableImage.addClass("creative--scrollable-mpu-image-parallax").css("background-position","50% "+e+"%")},this)}function d(){var e=-this.$scrollableMpu[0].getBoundingClientRect().top;t.write(function(){this.$scrollableImage.css("background-position","100% "+e+"px")},this)}var p=function(e,t){this.adSlot=e,this.params=t},f=!i.isAndroid();return p.prototype.create=function(){var i={id:"scrollable-mpu-"+(1e4*Math.random()|0).toString(16),clickMacro:this.params.clickMacro,destination:this.params.destination,layer1Image:f?this.params.layer1Image:this.params.mobileImage,backgroundImage:f&&this.params.backgroundImage?'<div class="creative--scrollable-mpu-image" style="background-image: url('+this.params.backgroundImage+');"></div>':""};if(this.$scrollableMpu=n.create(a(o,i)).appendTo(this.adSlot),this.params.trackingPixel&&s(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&s(this.params.researchPixel+this.params.cacheBuster),this.params.viewabilityTracker&&c(this.adSlot,this.params.id,this.params.viewabilityTracker),f){var p="fixed matching fluid250"===this.params.backgroundImagePType?u.bind(this):"parallax"===this.params.backgroundImagePType?l.bind(this):d.bind(this);this.$scrollableImage=n(".creative--scrollable-mpu-image",this.adSlot),t.read(p),r.on("window:throttledScroll",p),r.on("window:throttledResize",p)}return e.resolve(!0)},p}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(7),n(184),n(440),n(531),n(442),n(530),n(407)],r=function(e,t,n,i,r,a,o){function s(e,n){window.googletag.cmd.push(function(){e.id in t.advertIds||c(e,n)})}function c(e,s){var c=n(e);t.advertIds[c.id]=t.adverts.push(c)-1,t.shouldLazyLoad()&&!s?(i(c),o.updateAdvertMetric(c,"loadingMethod","add-slot-lazy"),a(c)):(o.updateAdvertMetric(c,"loadingMethod","add-slot-instant"),o.updateAdvertMetric(c,"lazyWaitComplete",0),r(c))}return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(0),n(225),n(60),n(492),n(439),n(122),n(184),n(226)],r=function(e,t,n,i,r,a,o,s,c){function u(e,i){e(),n(t.libs.switch,{async:!1}).then(l).then(i)}function l(){var e=window.__switch_zero||{};e.units=e.units||[],e.commands=e.commands||[],e.commands.push(function(){e.setLoadId(g),e.setAdserverDomain("delivery.guardian.switchadhub.com")})}function d(){var e=window.__switch_zero;if(e)try{e.commands.push(function(){e.callSwitch()})}catch(e){i(e,{feature:"commercial"},!1)}}function p(e){return c(e.map(function(e){var t=e[0]+"x"+e[1],n=a[t]||{};return n.switchUnitId}).filter(function(e){return!isNaN(e)}))}function f(t,n){var i=window.__switch_zero,a=[];if(i){var o=p(n.size);o.forEach(function(n){n&&a.push(new e(function(e){i.units.push({dfpDivId:t,switchAdUnitId:n,deliveryCallback:e})}))})}return r(v,e.all(a)).catch(function(){})}function h(t,n){return s.preFlightAdCallEnabled&&o.dfpAdvertising&&u(t,n),e.resolve()}var g=window.esi&&window.esi.viewId,v=5e3;return{init:h,callSwitch:d,pushAdUnit:f}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,function(e,t,n){var i,r;i=[n(21),n(7),n(223)],r=function(e,t,n){var i=function(i){var r,a=this,o=["popup--search"],s="js-toggle-ready",c=function(){var e=document.querySelector(".js-profile-nav");return e&&e.classList.contains("is-signed-in")}(),u=i||document.body;this.init=function(){r=Array.prototype.slice.call(u.querySelectorAll("[data-toggle]")),r.forEach(function(t){if(!t.classList.contains(s)){var n=a.getTarget(u,t);n&&(c||"true"!==t.getAttribute("data-toggle-signed-in"))&&(t.toggleTarget=n,t.classList.add(s),e.add(t,"click",function(e){e.preventDefault(),a.toggle(t,r)}))}})},this.reset=function(e){r.filter(function(t){return!(e===t||n(o,t.getAttribute("data-toggle")))}).map(a.close)},t.on("module:clickstream:click",function(e){a.reset(e?e.target:null)})};return i.prototype.toggle=function(e,t){var n=this;t.forEach(function(t){t===e?n[t.classList.contains("is-active")?"close":"open"](t):n.close(t)})},i.prototype.getTarget=function(e,t){var n=t.getAttribute("data-toggle");if(n)return e.querySelector("."+n)},i.prototype.open=function(e){e.classList.add("is-active"),e.toggleTarget&&e.toggleTarget.classList.remove("is-off")},i.prototype.close=function(e){e.classList.remove("is-active"),e.toggleTarget&&e.toggleTarget.classList.add("is-off")},i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[e,t,n(87),n(104)],r=function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),o=r(i),s=function(){function e(t){(0,a.default)(this,e),this.context=t.context,this.states=t.states||{},this.context.state=t.initial||"",this.debug=t.debug||!1,this.onChangeState=t.onChangeState.bind(this.context)||function(){}}return(0,o.default)(e,[{key:"log",value:function(){if(this.debug&&window.console&&window.console.log){var e;(e=window.console).log.apply(e,arguments)}}},{key:"trigger",value:function(e,t){this.log("fsm: (event)",e);var n=this.context.state,i=function(){};(this.states[n].events[e]||i).call(this.context,t),(n!==this.context.state||this.context.reloadState)&&(this.context.reloadState=!1,this.onChangeState(n,this.context.state),(this.states[n].leave||i).apply(this.context),(this.states[this.context.state].enter||i).apply(this.context),this.log("fsm: (state)",n+" -> "+this.context.state))}}]),e}();t.default=s,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[e,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return Promise.race([t,new Promise(function(t,n){setTimeout(function(){return n(new Error("Timeout"))},e)})])};t.default=n,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(58),n(23),n(13),n(733),n(0)],r=function(e,t,n,i,r){function a(e){d=!0;var i,r=[];return u=new t(function(e){for(;!l.empty();)r.push(l.dequeue());e(r)}).then(function(){return c(r)}).then(function(e){return i=e||0,s(r)}).then(function(){return c(r).then(function(t){return n(e,{newHeight:t-i})})}).then(function(e){if(!l.empty())return a(n(e,{prevHeight:e.prevHeight+e.newHeight}));var t=e.newHeight+e.prevHeight+e.scrollY;t&&window.scrollTo(0,t),d=!1})}function o(t,n){if(!r.switches.steadyPageUtil)return e.write(n);var i={scrollY:window.scrollY,prevHeight:0};return l.enqueue({container:t,cb:n}),d?u:a(i)}function s(t){return e.write(function(){t.forEach(function(e){e.cb()})})}function c(t){function n(e){var t=e.container.getBoundingClientRect().top;return e.container.offsetHeight>-1&&window.scrollY>0&&t<Math.max(r,e.container.offsetHeight||0)}function i(e){var t=getComputedStyle(e),n=e.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom);return isNaN(n)?0:n}var r;return e.read(function(){return r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t.filter(n).reduce(function(e,t){return e+i(t.container)},0)})}var u,l=new i,d=!1;return{insert:o,_tests:{getHeightOfAllContainers:c,insertElements:s}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(58)],r=function(e,t){function n(n){var a=e(r);return n||(a=a.filter(i)),t.write(function(){a.forEach(function(e){e.parentNode.removeChild(e)})})}function i(e){return"none"===window.getComputedStyle(e).display}var r=".js-ad-slot";return{init:n}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(){function e(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(7),n(184),n(745)],r=function(e,t,n){function i(i){t.lazyLoadEnabled?t.lazyLoadObserve&&i&&r.observe(i.node):(t.lazyLoadEnabled=!0,t.lazyLoadObserve?(r=new IntersectionObserver(n,{rootMargin:"200px 0%"}),t.advertsToLoad.forEach(function(e){r.observe(e.node)})):(e.on("window:throttledScroll",n),n()))}var r=null;return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(184)],r=function(e){function t(t){e.advertsToLoad.push(t),"false"!==t.node.getAttribute("data-refresh")&&e.advertsToRefresh.push(t)}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(21),n(18),n(756),n(27),n(230)],r=function(e,t,n,i,r){function a(){t.write(function(){f.addClass("hosted-slide-out")}),clearInterval(p)}function o(e){t.write(function(){e.addClass("u-h")})}function s(e,n){p=setInterval(function(){var i=n-Math.ceil(e()),a=10;i<=a&&t.write(function(){f.addClass("js-autoplay-start"),h.text(i+"s")}),i<=0&&(r.trackNonClickInteraction("Immediately play the next video"),window.location=g)},1e3)}function c(){t.write(function(){f.addClass("js-autoplay-start")}),e.on(document,"click",i(".js-autoplay-cancel"),function(){o(f)})}function u(){e.on(document,"click",i(".js-autoplay-cancel"),function(){a()})}function l(){return f.length&&g}function d(){return n.load().then(function(){f=i(".js-hosted-next-autoplay"),h=i(".js-autoplay-timer"),g=h.length&&h.data("next-page")})}var p,f,h,g;return{init:d,canAutoplay:l,triggerEndSlate:c,triggerAutoplay:s,addCancelListener:u}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(18),n(23),n(27)],r=function(e,t,n,i){function r(){}function a(){return e(".js-carousel-pages").length&&(new r).bindButtons(),n.resolve()}return r.prototype.moveCarouselBy=function(e){this.moveCarouselTo(this.index+e)},r.prototype.moveCarouselTo=function(e){var n=this,r=Math.min(Math.max(e,0),this.pageCount-1);this.index=r,t.write(function(){var e="translate(-"+r+"00%, 0)";n.$carousel.css({"-webkit-transform":e,transform:e}),n.$dots.each(function(e,t){i(e).toggleClass("highlighted",t%n.pageCount===r)}),n.$prevItem.css({opacity:0===r?.5:1}),n.$nextItem.css({opacity:r===n.pageCount-1?.5:1})})},r.prototype.bindButtons=function(){if(this.$carousel=i(".js-carousel-pages"),this.$nextItem=i(".next-oj-item"),this.$prevItem=i(".prev-oj-item"),this.$dots=i(".js-carousel-dot"),this.pageCount=i(".carousel-page",this.$carousel).length,this.index=0,this.$carousel.length){var e=this;this.$nextItem.each(function(t){t.addEventListener("click",e.moveCarouselBy.bind(e,1))}),this.$prevItem.each(function(t){t.addEventListener("click",e.moveCarouselBy.bind(e,-1))}),this.$dots.each(function(t,n){t.addEventListener("click",e.moveCarouselTo.bind(e,n%e.pageCount))})}},{init:a,HostedCarousel:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(){return location.protocol+"//tpc.googlesyndication.com"}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(534)],r=function(e){function t(t,n,i){n.postMessage(JSON.stringify(t),i||e)}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(31),n(10)],r=function(e,t,n){function i(e){var i="kx"+e;return n.local.getRaw(i)||t.getCookie(i+"=([^;]*)")||""}function r(){return i("segs")?i("segs").split(","):[]}var a="//cdn.krxd.net/controltag?confid=JVZiE3vn";return{shouldRun:!("Network Front"==e.page.contentType)&&e.switches.krux,url:a,getSegments:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(10),n(90)],r=function(e,t){function n(){if(e.local.isAvailable()){var n,i=e.local.get(r);if(i){if(n=t.getUserFromCookie(),n&&i.userHash===n.id%9999)return i.segments;e.local.remove(r)}}return[]}function i(){e.local.isAvailable()&&null===e.local.get(r)&&t.getUserFromCookie()&&t.getUserFromApi(function(t){if(t&&t.adData){var n,i=[];for(n in t.adData)i.push(n+t.adData[n]);e.local.set(r,{segments:i,userHash:t.id%9999},{expires:(new Date).getTime()+864e5})}})}var r="gu.ads.userSegmentsData";return{getUserSegments:n,requestUserSegmentsFromId:i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(52)],r=function(e,t){return{fire:function(t){var n=new Image;return n.src=e.page.beaconUrl+t,n},postJson:function(n,i){var r=(e.page.beaconUrl||"").replace(/^\/\//,window.location.protocol+"//")+n;t({url:r,type:"json",method:"post",contentType:"application/json",data:i,crossOrigin:!0})}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(7),n(10),n(230),n(134)],r=function(e,t,n,i){function r(){e.on("module:clickstream:interaction",s),e.on("module:clickstream:click",function(e){i.catchErrorsWithContext([["c-analytics",function(){a(e)}]])})}function a(e){if(e.validTarget)return o(e.target)?n.trackSponsorLogoLinkClick(e.target):void(e.sameHost?e.samePage?c(e):u(e):l(e))}function o(e){return e.hasAttribute("data-sponsor")}function s(e){n.trackNonClickInteraction(e)}function c(e){e.tag&&n.trackSamePageLinkClick(e.target,e.tag)}function u(e){var n={path:f.pathname,tag:e.tag||"untracked",time:(new Date).getTime()};t.session.set(p,n)}function l(e){n.trackExternalLinkClick(e.target,e.tag)}function d(t){t=t||{},t.location&&(f=t.location),r(),e.emit("analytics:ready")}var p="gu.analytics.referrerVars",f=document.location;return{init:d,trackClick:a,trackNonClickInteraction:s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(23),n(3),n(37),n(0),n(7),n(411)],r=function(e,t,n,i,r,a){function o(){r.emit("register:begin","geo-most-popular")}var s=new e(function(e,t){r.on("modules:onward:geo-most-popular:ready",e),r.on("modules:onward:geo-most-popular:cancel",e),r.on("modules:onward:geo-most-popular:error",t)});return n.define(o),o.prototype.endpoint="/most-read-geo.json",o.prototype.ready=function(){r.emit("register:end","geo-most-popular"),r.emit("modules:onward:geo-most-popular:ready",this)},o.prototype.error=function(e){r.emit("modules:onward:geo-most-popular:error",e)},{render:a(function(){return(new o).fetch(t(".js-components-container"),"rightHtml"),s}),whenRendered:s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,function(e,t,n){var i,r;i=[e,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={hash:function(e){var t=e;t=decodeURIComponent(encodeURIComponent(t));var i=[1518500249,1859775393,2400959708,3395469782];t+=String.fromCharCode(128);for(var r=t.length/4+2,a=Math.ceil(r/16),o=new Array(a),s=0;s<a;s++){o[s]=new Array(16);for(var c=0;c<16;c++)o[s][c]=t.charCodeAt(64*s+4*c)<<24|t.charCodeAt(64*s+4*c+1)<<16|t.charCodeAt(64*s+4*c+2)<<8|t.charCodeAt(64*s+4*c+3)}o[a-1][14]=8*(t.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(t.length-1)&4294967295;for(var u=1732584193,l=4023233417,d=2562383102,p=271733878,f=3285377520,h=new Array(80),g=void 0,v=void 0,m=void 0,y=void 0,b=void 0,w=0;w<a;w++){for(var _=0;_<16;_++)h[_]=o[w][_];for(var k=16;k<80;k++)h[k]=n.ROTL(h[k-3]^h[k-8]^h[k-14]^h[k-16],1);g=u,v=l,m=d,y=p,b=f;for(var x=0;x<80;x++){var C=Math.floor(x/20),I=n.ROTL(g,5)+n.f(C,v,m,y)+b+i[C]+h[x]&4294967295;b=y,y=m,m=n.ROTL(v,30),v=g,g=I}u=u+g&4294967295,l=l+v&4294967295,d=d+m&4294967295,p=p+y&4294967295,f=f+b&4294967295}return n.toHexStr(u)+n.toHexStr(l)+n.toHexStr(d)+n.toHexStr(p)+n.toHexStr(f)},f:function(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}},ROTL:function(e,t){return e<<t|e>>>32-t},toHexStr:function(e){for(var t="",n=void 0,i=7;i>=0;i--)n=e>>>4*i&15,t+=n.toString(16);return t}};t.default=n,e.exports=t.default}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(83),n(62),n(2),n(580)],r=function(e,t,n,i){function r(a,o,s,c,u){(n(o)?e:t)(o,function(e,t){var o,l,d=e,p=a[t];if(e&&((l=n(e))||i(e))){for(var f=c.length;f--;)if(o=c[f]==e){p=u[f];break}if(!o){var h;s&&(d=s(p,e),(h="undefined"!=typeof d)&&(p=d)),h||(p=l?n(p)?p:[]:i(p)?p:{}),c.push(e),u.push(p),h||r(p,e,s,c,u)}}else s&&(d=s(p,e),"undefined"==typeof d&&(d=e)),"undefined"!=typeof d&&(p=d);a[t]=p})}return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(126),n(32),n(16),n(64),n(4)],r=function(e,t,n,i,r){function a(a){var s,l;return!(!(a&&c.call(a)==o&&(s=a.constructor,!n(s)||s instanceof s))||!r.argsClass&&t(a)||!r.nodeClass&&i(a))&&(r.ownLast?(e(a,function(e,t,n){return l=u.call(n,t),!1}),l!==!1):(e(a,function(e,t){l=t}),"undefined"==typeof l||u.call(a,l)))}var o="[object Object]",s=Object.prototype,c=s.toString,u=s.hasOwnProperty;return a}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(126),n(16)],r=function(e,t){function n(n){var i=[];return e(n,function(e,n){t(e)&&i.push(n)}),i.sort()}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(32),n(5),n(576),n(4)],r=function(e,t,n,i){var r="[object Object]",a=Object.prototype,o=a.toString,s=t(s=Object.getPrototypeOf)&&s,c=s?function(a){if(!a||o.call(a)!=r||!i.argsClass&&e(a))return!1;var c=a.valueOf,u=t(c)&&(u=s(c))&&s(u);return u?a==u||s(a)==u:n(a)}:n;return c}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t){e.exports='<div class="ad-feedback popup__toggle" data-toggle="<%=slot%>__popup--feedback"\n   aria-haspopup="true" aria-controls="ad-feedback-menu__<%=slot%>">Report this ad</div>\n\n<div class="ad-feedback popup popup--default popup__group <%=slot%>__popup--feedback is-off" id="ad-feedback-menu__<%=slot%>">\n    <h3 class="ad-feedback popup__group-header">\n        To help improve the ad experience on the Guardian, please tell us why you\'re reporting this:\n    </h3>\n    <ul>\n        <% for(option in feedbackOptions) { %>\n            <li class="popup__item popup__item--option js-ad-feedback-option" data-slot="<%=slot%>" data-problem="<%=option%>">\n                <button id="<%=slot%>-feedback-<%=option%>" type="button" value="<%=option%>">\n                    <%=feedbackOptions[option]%>\n                </button>\n            </li>\n        <% } %>\n        <li class="popup__item popup__item--other js-ad-feedback-option-other" data-slot="<%=slot%>">\n            <form id="<%=slot%>-ad-feedback">\n                <label for="<%=slot%>-feedback-comment-field">\n                    Other:\n                </label>\n                <input id="<%=slot%>-feedback-comment-field" name="comment" class="ad-feedback__comment-field" type="text" required>\n                <button name="feedback" type="submit" value="other" class="ad-feedback__submit-button">\n                    <%= icon %>\n                </button>\n            </form>\n        </li>\n    </ul>\n</div>\n'},function(e,t){e.exports='<a class="creative__cta creative__cta--position-<%=position%> <%=media%>" href="<%=link%>" target="_blank"><img src="<%=image%>" alt></a>\n'},function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable-video creative--expandable-video-v2 <%=data.videoOptions%>">\n\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>">\n        <div class="slide-container">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>">\n        <div class="slide-container" style="">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slide-video">\n        <div class="slide-container">\n            <a href="<%=data.link%>" target="_blank" class="video-container__cta"></a>\n            <div class="video-container__inner">\n                <%=data.videoEmbed%>\n            </div>\n            <%=data.mobileCTA%>\n            <%=data.desktopCTA%>\n        </div>\n    </div>\n\n    <%=data.showPlus%>\n    <%=data.showArrow%>\n</div>\n';
},function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable creative--fabric-expanding-v1">\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background-color: <%=data.backgroundColor%>">\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <%=data.videoMobile%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background-color: <%=data.backgroundColor%>">\n        <%=data.scrollbg%>\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <%=data.videoDesktop%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<iframe\n    width="<%=width%>"\n    height="<%=height%>"\n    src="<%=src%>"\n    frameborder="0"\n    class="<%=className%>"\n    style="<%=inlineStyle%>">\n</iframe>\n'},function(e,t){e.exports='<%if (data.hasContainer) {%><div class="creative--fabric-v1-bg-container"><%}%>\n<%if (data.showLabel) {%>\n<div class="ad-slot__label creative--fabric-v1__label fc-container--layout-front">\n    <div class="fc-container__inner">Advertisement</div>\n</div>\n<%}%>\n<div id="<%= data.id %>" class="creative--fabric-v1 l-side-margins hide-until-tablet" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImage%>);\n    background-position: <%=data.backgroundPosition%>;\n    background-repeat: <%=data.backgroundRepeat%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.clickMacro%><%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <%=data.video%>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImage%>);\n            background-position: <%=data.layerOneBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer2" style="\n            background-image: url(<%=data.layerTwoBGImage%>);\n            background-position: <%=data.layerTwoBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer3" style="\n            background-image: url(<%=data.layerThreeBGImage%>);\n            background-position: <%=data.layerThreeBGPosition%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<div class="creative--fabric-v1 l-side-margins mobile-only" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImageM%>);\n    background-position: <%=data.backgroundPositionM%>;\n    background-repeat: <%=data.backgroundRepeatM%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImageM%>);\n            background-position: <%=data.layerOneBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerTwoBGImageM%>);\n            background-position: <%=data.layerTwoBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerThreeBGImageM%>);\n            background-position: <%=data.layerThreeBGPositionM%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<%if (data.hasContainer) {%></div><%}%>\n'},function(e,t){e.exports='<div id="<%= data.id %>" class="creative creative--fabric-video">\n    <a class="creative__link" href="<%=data.clickMacro%><%=data.Link%>" target="_blank">\n        <div class="creative__alt creative__alt--tablet hide-until-tablet"  style="background-color:<%=data.Backgroundcolour%>;background-image:url(<%=data.Backgroundimage%>);background-position:<%=data.Backgroundposition%>;background-repeat:<%=data.Backgroundrepeat%>;">\n            <%=data.posterTablet%>\n            <%=data.video%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimage%>);background-position: <%=data.Layer1backgroundimageposition%>;"></div>\n            <div class="creative__layer creative__layer2">\n                <div style="background-image:url(<%=data.Layer2animatedimage1%>)" class="creative__slide creative__slide1"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage2%>)" class="creative__slide creative__slide2"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage3%>)" class="creative__slide creative__slide3"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage4%>)" class="creative__slide creative__slide4">\n                    <%if (data.Layer2clickbutton){%>\n                        <img src="<%=data.Layer2clickbutton%>" class="click_button"></div>\n                    <%}%>\n                </div>\n            </div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimage%>);background-position: <%=data.Layer3backgroundimageposition%>;"></div>\n        </div>\n\n        <div class="creative__alt creative__alt--mobile mobile-only" style="background-color:<%=data.Backgroundcolour%>;background-image: url(<%=data.BackgroundImagemobile%>);background-position:<%=data.BackgroundImagemobileposition%>;background-repeat:<%=data.Backgroundimagemobilerepeat%>;">\n            <%=data.posterMobile%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimagemobile%>);background-position:<%=data.Layer1backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer2" style="background-image:url(<%=data.Layer2backgroundimagemobile%>);background-position:<%=data.Layer2backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimagemobile%>);background-position:<%=data.Layer3backgroundimagepositionmobile%>;"></div>\n        </div>\n    </a>\n</div>\n'},function(e,t){e.exports='<aside id="<%= data.id %>" class="frame" data-link-name="creative | frame">\n    <div class="frame__background">\n        <img class="frame__background-image" src="<%=data.backgroundImage%>">\n    </div>\n    <div class="frame__foreground">\n        <a href="<%=data.clickMacro%><%=data.destinationUrl%>" class="frame__link-background" data-link-name="image" target="<%=data.target%>"></a>\n        <a class="frame__logo frame__logo--<%=data.brandLogoPosition%>" href="<%=data.brandUrl%>" data-link-name="logo" target="<%=data.target%>">\n            <img class="frame__logo__image" src="<%=data.brandLogo%>">\n        </a>\n        <a style="color: <%=data.contentColour%>" class="frame__content frame__content--<%=data.contentVerticalPosition%> frame__content--<%=data.contentHorizontalPosition%>" href="<%=data.clickMacro%><%=data.destinationUrl%>" target="<%=data.target%>">\n            <h2 style="font-size: <%=data.headerFontSize%>px" class="frame__content-title"><%=data.header%></h2>\n            <p style="font-size: <%=data.textFontSize%>px" class="frame__content-text"><%=data.text%></p>\n        </a>\n        <a href="<%=data.clickMacro%><%=data.callToActionUrl%>" class="frame__cta frame__link button button--tertiary button--medium" data-link-name="call to action" target="<%=data.target%>">\n            <%=data.callToAction%><%=data.externalLinkIcon%>\n        </a>\n    </div>\n</aside>\n'},function(e,t){e.exports='<div class="gu-comlabel has-popup">\n\t<button class="u-button-reset gu-comlabel__btn popup__toggle" data-toggle="gu-compopup--<%=data.dataAttr%>"><%=data.buttonTitle%> <%=data.icon%></button>\n\t<div class="popup popup--default is-off gu-compopup gu-compopup--<%=data.dataAttr%> gu-stylebox">\n\t\t<h3 class="gu-compopup__title"><%=data.infoTitle%></h3>\n\t\t<p class="gu-compopup__text"><%=data.infoText%></p>\n\t\t<a class="gu-compopup__link" href="<%=data.infoLinkUrl%>" target="_blank"><%=data.infoLinkText%></a>\n\t</div>\n</div>\n'},function(e,t){e.exports='<iframe width="409px" height="230px" src="<%=videoURL%>?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="fluid250_video fluid250_video--desktop fluid250_video--vert-pos-<%=videoPositionV%> fluid250_video--horiz-pos-<%=videoPositionH%>" style="<%=position%>"></iframe>\n'},function(e,t){e.exports='<aside id="<%= id %>" class="creative creative--revealer">\n    <a class="creative__cta" href="<%=clickMacro%><%=link%>" target="_blank">\n        <div class="creative__background" style="background-image: url(\'<%=backgroundImage%>\')"></div>\n        <img class="creative__button creative__button--<%=buttonVPos%> creative__button--<%=buttonHPos%>" src="<%=button%>" alt>\n    </a>\n</div>\n'},function(e,t){e.exports='<a id="<%= id %>" class="creative--scrollable-mpu"\n    href="<%=clickMacro%><%=destination%>"\n    target="_new">\n    <div class="creative--scrollable-mpu-inner">\n    \t<%=backgroundImage%>\n    \t<div class="creative--scrollable-mpu-static-image" style="background-image: url(\'<%=layer1Image%>\');"></div>\n    </div>\n</a>\n'},function(e,t){e.exports='<div class="ad-scrolling-bg" style="background-image: url(\'<%=backgroundImageP%>\'); background-position: 50% 0; background-repeat: <%=backgroundImagePRepeat%>"></div>\n'},function(e,t){e.exports='<div class="OUTBRAIN" data-widget-id="<%=widgetCode%>" data-ob-template="guardian"></div>'},function(e,t){e.exports='<div class="PLISTA" data-ob-template="guardian">\n    <div data-display="plista_widget_<%=widgetName%>"></div>\n</div>\n'},function(e,t){e.exports='<div class="survey-overlay-simple js-survey-overlay u-h" data-link-name="hosted page about overlay" role="dialog" aria-label="about hosted content">\n    <div class="survey-container">\n        <h3 class="survey-text__header">\n            <%=header%>\n            <% if (showCloseBtn) { %>\n            <div class="survey-close js-survey-close">\n                <button class="site-message__close-btn js-site-message-close" data-link-name="hide about hosted message">\n                    <span class="u-h">Close</span>\n                    <%=crossIcon%>\n                </button>\n            </div>\n            <% } %>\n        </h3>\n        <div class="survey-icon">\n            <%=paidContent%>\n        </div>\n        <div class="survey-text">\n            <p class="survey-text__paragraph">\n                <%=paragraph1%>\n            </p>\n            <p class="survey-text__paragraph">\n                <%=paragraph2%>\n            </p>\n            <p class="survey-text__paragraph">\n                <%=paragraph3%>\n            </p>\n        </div>\n    </div>\n</div>\n'},,,,,,function(e,t){e.exports='<div class="fc-container fc-container--<%=widgetType%> hide-on-childrens-books-site js-<%=widgetType%>">\n    <div class="fc-container__inner js-<%=widgetType%>-container"></div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[],r=function(){function e(){this.queue=[]}return e.prototype.enqueue=function(e){return this.queue.push(e)},e.prototype.dequeue=function(){return this.queue.shift()},e.prototype.empty=function(){return 0===this.queue.length},e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(27),n(0),n(7),n(58),n(122)],r=function(e,t,n,i,r,a){function o(){return n.page.isImmersive?u:c}function s(n,s){n();var c,u,l=t(".js-secondary-column");return a.articleAsideAdverts&&l.length&&"none"!==l.css("display")?(c=t(".js-content-main-column"),u=t(".js-ad-slot",l),u.length&&c.length?r.read(function(){return c.dim().height}).then(function(e){return e<o()?r.write(function(){return u.removeClass("right-sticky js-sticky-mpu is-sticky"),u[0].setAttribute("data-mobile","1,1|2,2|300,250|fluid"),u[0]}):u[0]}).then(function(e){s(),i.emit("page:commercial:right",e)}):(s(),e.resolve(!1))):(s(),e.resolve(!1))}var c=1300,u=600;return{init:s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(3),n(0),n(22),n(58),n(250),n(235),n(439),n(478),n(234),n(441),n(122)],r=function(e,t,n,i,r,a,o,s,c,u,l,d){function p(){if(!d.articleBodyAdverts)return e.resolve(!1);if(E=0,A=i.isBreakpoint({max:"phablet"}),B=A?f:h,T=A?g:v,n.page.hasInlineMerchandise){var t=_();return t.then(x).then(k),t}return k(),e.resolve(!0)}function f(){return 1===E?"top-above-nav":"inline"+(E-1)}function h(){return"inline"+E}function g(){return 1===E?"top-above-nav":"inline"}function v(){return"inline"}function m(){var e;return{bodySelector:".js-article__body",slotSelector:" > p",minAbove:i.isBreakpoint({max:"tablet"})?300:700,minBelow:300,selectors:{" > h2":{minAbove:"mobile"===i.getBreakpoint()?100:0,minBelow:250}," .ad-slot":{minAbove:500,minBelow:500}," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:400}},filter:function(t){return(!e||Math.abs(t.top-e.top)-s.mpu.height>=this.selectors[" .ad-slot"].minBelow)&&(e=t,!0)}}}function y(){var e=m();return e.selectors={" .ad-slot":{minAbove:500,minBelow:500}},e}function b(){var e=m();return e.minAbove=300,e.selectors[" > h2"].minAbove=100,e.selectors[" > :not(p):not(h2):not(.ad-slot)"].minAbove=200,e}function w(){var e=L?y():m();return e.selectors[" .ad-slot"].minAbove=e.selectors[" .ad-slot"].minBelow=i.getViewport().height,e}function _(){return o.fillSpace(b(),function(e){return I(e[0],"im","im").then(function(){return 1})},{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})}function k(){return C(2,L?y():m()).then(function(e){return 2===e?C(8,w()).then(function(e){return 2+e}):e})}function x(t){return 1===t?u("dfp-ad--im"):e.resolve()}function C(t,n){function i(n){var i=n.slice(0,Math.min(n.length,t)).map(function(e){return E+=1,I(e,B(),T(),"inline"+(L&&E>1?" offset-right":""),L&&E>1?{desktop:[s.halfPage]}:null)});return e.all(i).then(function(){return i.length})}return o.fillSpace(n,i,{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})}function I(e,t,n,i,a){var o=l(n,{name:t,classes:i,sizes:a});return r.write(function(){e.parentNode.insertBefore(o,e)}).then(function(){c(o,"im"===t)})}var E,A,B,T,L=a.testCanBeRun("IncreaseInlineAdsRedux")&&"yes"===a.getTestVariantId("IncreaseInlineAdsRedux");return{init:p,"@@tests":{waitForMerch:x,addInlineMerchAd:_,addInlineAds:k}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,function(e,t,n){var i,r;i=[n(23),n(58),n(60),n(475),n(476),n(473),n(472),n(471),n(474),n(477)],r=function(e,t,i){function r(t){return new e(function(e,n){var i=t.querySelector('iframe:not([id*="__hidden__"])');i?i.readyState&&"complete"!==i.readyState?i.addEventListener("readystatechange",function t(n){var r=n.srcElement;r&&"unknown"!=typeof r.readyState&&"complete"===r.readyState&&(r.removeEventListener("readystatechange",t),e(i))}):e(i):n()})}function a(r,a){function o(){try{var e=a.contentDocument.body.querySelector('.breakout__script[type="application/json"]');return e?e.innerHTML:null}catch(e){return null}}function s(e){var t=a.contentDocument.getElementById("viewabilityTracker"),n=t?t.childNodes[0].nodeValue.trim():null;return n&&(e.params.viewabilityTracker=n),e}function c(t){return new e(function(e){n.e(12).then(function(){var i=[n(737)("./"+t.name)];(function(n){e(new n(r,t.params,t.opts).create())}).apply(null,i)}).catch(n.oe)})}function u(){return t.write(function(){return a.style.display="none",l})}var l=o();return l?u().then(JSON.parse).then(s).then(c).catch(function(e){i("Failed to get creative JSON "+e,{feature:"commercial"},!1)}):e.resolve(!0)}return function(e){return r(e).then(function(t){return a(e,t)})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(91),n(0),n(22),n(226),n(241),n(411),n(479)],r=function(e,t,n,i,r,a,o,s){function c(t,i){var r,a,o=t.getAttribute("data-name"),c=u(i),l=t.id;return t.getAttribute("data-out-of-page")?(r=window.googletag.defineOutOfPageSlot(d(),l).defineSizeMapping(c.sizeMapping),a=e.resolve()):(r=window.googletag.defineSlot(d(),c.size,l).defineSizeMapping(c.sizeMapping),a=s.pushAdUnit(l,c)),"im"===o&&n.page.isbn&&r.setTargeting("isbn",n.page.isbn),r.addService(window.googletag.pubads()).setTargeting("slot",o),{slot:r,slotReady:a}}function u(e){var t=l(e),n=r(a(t,!0,function(e){return e[1]}),function(e){return e[0]+"-"+e[1]});return{sizeMapping:t,size:n}}function l(e){var t=window.googletag.sizeMapping();return i.breakpoints.filter(function(t){return t.name in e}).forEach(function(n){t.addSize([n.width,0],e[n.name])}),t.build()}var d=o(function(){var e=t.getUrlVars();return e["ad-unit"]?"/"+n.page.dfpAccountId+"/"+e["ad-unit"]:n.page.adUnit});return c}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(184),n(442)],r=function(e,t){function n(){window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),t(e.advertsToLoad[0]),e.advertsToLoad.length=0}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(184),n(442),n(530),n(407)],r=function(e,t,n,i){function r(){window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),a(),n()}function a(){var n=e.advertsToLoad.filter(function(e){return o.indexOf(e.id)>-1?(i.updateAdvertMetric(e,"loadingMethod","instant"),i.updateAdvertMetric(e,"lazyWaitComplete",0),!0):(i.updateAdvertMetric(e,"loadingMethod","lazy-load"),!1)});e.advertsToLoad=e.advertsToLoad.filter(function(e){return o.indexOf(e.id)<0}),n.forEach(t)}var o=["dfp-ad--merchandising-high","dfp-ad--im"];return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(18)],r=function(e){function t(t){e.write(function(){window.googletag.destroySlots([t.slot]),t.node.remove(),t.node=t.slot=null})}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(3),n(561),n(90),n(122),n(184),n(440),n(531),n(741),n(740),n(750),n(479)],r=function(e,t,n,i,r,a,o,s,c,u,l,d){function p(t,n){return r.dfpAdvertising&&f(t,n),e.resolve()}function f(e,t){window.googletag.cmd.push(e,h,g,v,d.callSwitch,a.shouldLazyLoad()?c:u,l,t)}function h(){var e=t(a.adSlotSelector).filter(function(e){return!(e.id in a.advertIds)}).map(o),n=a.adverts.length;a.adverts=a.adverts.concat(e),e.forEach(function(e,t){a.advertIds[e.id]=n+t})}function g(){a.adverts.forEach(s)}function v(){var e=i.getUserFromCookie();if(e){var t=n.hash(e.id);window.googletag.pubads().setPublisherProvidedId(t)}}return{init:p}}.apply(t,i),!(void 0!==r&&(e.exports=r))},,function(e,t,n){var i,r;i=[n(18),n(0),n(22),n(7),n(125),n(184),n(442),n(407),n(233)],r=function(e,t,n,i,r,a,o,s,c){function u(){var e=n.getViewport().height,t=a.advertsToLoad.filter(function(t){var n=t.node.getBoundingClientRect(),i=n.top+n.left+n.right+n.bottom!==0,r=(1-h)*e<n.bottom,a=n.top<e*h;return i&&r&&a}).map(function(e){return e.id});a.advertsToLoad=a.advertsToLoad.filter(function(e){return t.indexOf(e.id)<0}),0===a.advertsToLoad.length&&l(),t.forEach(f)}function l(){a.lazyLoadEnabled=!1,i.off("window:throttledScroll",g)}function d(e,t){var n=[];e.filter(function(e){return!("isIntersecting"in e)||e.isIntersecting}).forEach(function(e){t.unobserve(e.target),f(e.target.id),n.push(e.target.id)}),a.advertsToLoad=a.advertsToLoad.filter(function(e){return n.indexOf(e.id)<0}),0===a.advertsToLoad.length&&p(t)}function p(e){a.lazyLoadEnabled=!1,e.disconnect()}function f(e){var t=c(e);s.updateAdvertMetric(t,"lazyWaitComplete",r.getCurrentTime()),o(t)}var h=1.5,g=a.lazyLoadObserve?d:u;return g}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(233),n(535)],r=function(e,t){function n(n){var r=e(n.slot.getSlotElementId());if("string"==typeof r.size&&"fluid"===r.size||0===r.size[0]&&0===r.size[1]){var a=r.node.getElementsByTagName("iframe")[0];t({id:a.id,host:i},a.contentWindow)}}var i=location.protocol+"//"+location.host;return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(411),n(0),n(7),n(60),n(125),n(538),n(184),n(440),n(752),n(742),n(233)],r=function(e,t,n,i,r,a,o,s,c,u,l,d){function p(e){function t(t){c.stopRendering(n,t),i.emit("modules:commercial:dfp:rendered",e)}h();var n=d(e.slot.getSlotElementId());c.stopLoading(n,!0),c.startRendering(n),n.isEmpty=e.isEmpty,e.isEmpty?(l(n),f(n.id,e),t(!1)):(n.size=e.size,s.creativeIDs.push(e.creativeId),u(n,e).then(t))}function f(e,t){if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),i=t.slot.getTargetingMap(),a=i?i.k:[],o=a?a.join(", "):"";r(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:o},!1)}}var h=t(function(){o.fire("/count/ad-render.gif")});return p}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(3),n(26),n(0),n(225),n(58),n(122),n(470),n(528),n(184),n(747),n(746),n(407),n(766),n(763),n(764),n(765),n(767),n(762),n(761)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p){function f(t,n){function a(){return p.addTag(u.sonobiEnabled?"sonobi":"waterfall"),window.googletag.cmd.push(t,h,g,n),r(i.libs.googletag,{async:!1})}return o.dfpAdvertising?(a().catch(v),e.resolve()):v()}function h(){p.setListeners(window.googletag);var e=window.googletag.pubads();e.addEventListener("slotRenderEnded",n.wrap(l)),e.addEventListener("slotOnload",n.wrap(d))}function g(){var e=window.googletag.pubads(),t=s();Object.keys(t).forEach(function(n){e.setTargeting(n,t[n])})}function v(){return c.init(!0)}return{init:f}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(0),n(225),n(122),n(470),n(184)],r=function(e,t,n,i,r,a){function o(e,i){e(),n(t.libs.sonobi,{async:!1}).then(s).then(i)}function s(){if(!t.page.isDev){var e=Object.getOwnPropertyNames;Object.getOwnPropertyNames=function(t){try{return e(t)}catch(e){return[]}}}}function c(t,n){return a.sonobiEnabled&&i.dfpAdvertising&&(r(),o(t,n)),e.resolve()}return{init:c}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(22),n(7),n(184),n(529)],r=function(e,t,n,i){function r(){t.on("window:throttledResize",a)}function a(){s(o)}function o(e,t){function r(n){var i=Object.keys(n.sizes),r=a(e,i),o=a(t,i);return r!==-1&&r!==o}function a(e,t){var n=c.slice(0,c.indexOf(e)+1).map(i);return Math.max.apply(Math,t.map(function(e){return n.lastIndexOf(e)}))}var o=n.advertsToRefresh.filter(r);o.length&&window.googletag.pubads().refresh(o.map(function(e){return e.slot}))}var s=e.hasCrossedBreakpoint(!0),c=e.breakpoints.map(function(e){return e.name});return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(58),n(36),n(582),n(257),n(0)],r=function(e,t,n,i,r,a){function o(o){if(s(o)){var c="",u="";a.switches.adFeedback&&(c=n(i,{feedbackOptions:{distracting:"Distracting",obscures:"Obscures content",inappropriate:"Inappropriate",repetitive:"Repetitive",irrelevant:"Irrelevant"},icon:r.markup,slot:o.id}),u='<i class="ad-feedback__thanks-message"> Thanks for your feedback </i>');var l='<div class="ad-slot__label">Advertisement'+c+u+"</div>";return t.write(function(){o.insertAdjacentHTML("afterbegin",l)})}return e.resolve(null)}function s(e){return!(e.classList.contains("ad-slot--fluid")||e.classList.contains("ad-slot--frame")||e.classList.contains("gu-style")||"false"===e.getAttribute("data-label")||e.getElementsByClassName("ad-slot__label").length)}return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(23),n(26),n(58),n(7),n(439),n(770),n(738),n(751),n(554),n(490),n(785),n(0)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p){function f(e){return function(t){return function(n,r){if(t.some(function(e){return r.node.classList.contains(e)}))return i.write(function(){e.forEach(function(e){r.node.classList.add(e)})})}}}function h(r,a){return g(r.node),s(r.node).then(function(n){function o(){var e=r.size.toString();return"0,0"===e&&(e="fluid"),t.resolve(y[e]?y[e](a,r):null)}function s(){return n?i.write(function(){r.node.classList.add("ad-slot--rendered")}):t.resolve()}function u(){return p.switches.adFeedback&&n?i.write(function(){r.node.classList.contains("js-toggle-ready")||new l(r.node).init()}):t.resolve()}function f(r){var a="js-onclick-ready";return p.switches.adFeedback&&n?i.write(function(){e(".js-ad-feedback-option:not(.js-onclick-ready)").forEach(function(e){var t=e.getAttribute("data-slot"),n=e.getAttribute("data-problem");e.addEventListener("click",function(){d(window.location.pathname,t,r,n)}),e.classList.add(a)}),e(".js-ad-feedback-option-other:not(.js-onclick-ready)").forEach(function(t){var n=e("form",t)[0],i=e("input",t)[0],o=t.getAttribute("data-slot");t.addEventListener("click",function(e){"BUTTON"===e.target.tagName&&i.value||e.stopImmediatePropagation()}),n.addEventListener("submit",function(e){e.preventDefault(),d(window.location.pathname,o,r,"other",i.value)}),t.classList.add(a)})}):t.resolve()}return o().then(function(){return c(r.node)}).then(u).then(function(){return f(a)}).then(s).then(function(){return n})}).catch(n.captureException)}function g(t){var n=e("> div:not(.ad-slot__label)",t);n.length&&i.write(function(){n[0].classList.add("ad-slot__content")})}var v=f(["ad-slot--fluid250"]),m=f(["ad-slot--fluid"]),y={};return y[a.fluid]=m(["ad-slot"]),y[a.mpu]=function(e,t){return t.node.classList.contains("js-sticky-mpu")?void o(t.node):m(["ad-slot--revealer"])(e,t)},y[a.halfPage]=function(){r.emit("page:commercial:sticky-mpu")},y[a.video]=function(e,t){i.write(function(){t.node.classList.add("u-h")})},y[a.video2]=function(e,t){i.write(function(){t.node.classList.add("ad-slot--outstream")})},y[a.outOfPage]=y[a.empty]=function(e,t){if(!e.slot.getOutOfPage()){var n=t.node.parentNode;return i.write(function(){t.node.classList.add("u-h"),n.classList.contains("fc-slice__item--mpu-candidate")&&n.classList.add("fc-slice__item--no-mpu")})}},y[a.portrait]=function(){u.whenRendered.then(function(e){return i.write(function(){e.elem.remove(),e.elem=null})})},y[a.merchandising]=v(["ad-slot--commercial-component"]),h}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(0),n(58),n(441),n(122)],r=function(e,t,n,i,r){function a(){if(r.highMerch){var a=t.page.commentable?"#comments + *":".content-footer > :first-child",o=document.querySelector(a),s=document.createElement("div");return s.className="fc-container fc-container--commercial",s.appendChild(i(t.page.isPaidContent?"high-merch-paid":"high-merch")),n.write(function(){o&&o.parentNode&&o.parentNode.insertBefore(s,o)})}return e.resolve()}return{init:a}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(772)],r=function(e,t){function n(){var e=new t({id:"hosted-about",header:"Advertiser content",paragraph1:"Advertiser content is used to describe advertisement features that are paid for, produced and controlled by the advertiser rather than the publisher​.",paragraph2:"They​ are subject to regulation by the Advertising Standards Authority in the UK, the Federal Trade Commission in the US and the Advertising Standards Bureau in Australia.",paragraph3:"This content is produced by the advertiser and does not involve Guardian News and Media staff.",showCloseBtn:!0});return e.attach().then(function(){var e=document.querySelector(".js-hosted-about"),t=document.querySelector(".js-survey-overlay");e.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("u-h")})})}return{init:n}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(15),n(18),n(27),n(3),n(0),n(91),n(22),n(491),n(7),n(232),n(539),n(444)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p){function f(){var e=s.getBreakpoint();this.useSwipe=s.hasTouchScreen()&&("mobile"===e||"tablet"===e),
this.swipeThreshold=.05,this.index=this.index||1,this.imageRatios=[],this.$galleryEl=i(".js-hosted-gallery-container"),this.$galleryFrame=i(".js-hosted-gallery-frame"),this.$header=i(".js-hosted-headerwrap"),this.$imagesContainer=i(".js-hosted-gallery-images",this.$galleryEl),this.$captionContainer=i(".js-gallery-caption-bar"),this.$captions=i(".js-hosted-gallery-caption",this.$captionContainer),this.$scrollEl=i(".js-hosted-gallery-scroll-container",this.$galleryEl),this.$images=i(".js-hosted-gallery-image",this.$imagesContainer),this.$progress=i(".js-hosted-gallery-progress",this.$galleryEl),this.$border=i(".js-hosted-gallery-rotating-border",this.$progress),this.prevBtn=r(".inline-arrow-up",this.$progress)[0],this.nextBtn=r(".inline-arrow-down",this.$progress)[0],this.infoBtn=r(".js-gallery-caption-button",this.$captionContainer)[0],this.$counter=i(".js-hosted-gallery-image-count",this.$progress),this.$ctaFloat=i(".js-hosted-gallery-cta",this.$galleryEl)[0],this.$ojFloat=i(".js-hosted-gallery-oj",this.$galleryEl)[0],this.$meta=i(".js-hosted-gallery-meta",this.$galleryEl)[0],this.ojClose=r(".js-hosted-gallery-oj-close",this.$ojFloat)[0],this.$galleryEl.length&&(this.resize=this.trigger.bind(this,"resize"),u.on("window:throttledResize",this.resize),this.fsm=new c({initial:"image",onChangeState:function(){},context:this,states:this.states}),this.infoBtn.addEventListener("click",this.trigger.bind(this,"toggle-info")),this.ojClose.addEventListener("click",this.toggleOj.bind(this)),document.body.addEventListener("keydown",this.handleKeyEvents.bind(this)),this.loadSurroundingImages(1,this.$images.length),this.setPageWidth(),this.useSwipe?(this.$galleryEl.addClass("use-swipe"),this.initSwipe()):(this.$galleryEl.addClass("use-scroll"),this.initScroll()))}function h(){return r(".js-hosted-gallery-container").length?p.loadCssPromise.then(function(){var e,t,n,i=window.location.hash;return e=new f,t=/\?index=(\d+)/.exec(document.location.href),t?e.loadAtIndex(parseInt(t[1],10)):(n=/^#(?:img-)?(\d+)$/.exec(i),n&&e.loadAtIndex(parseInt(n[1],10))),e}):e.resolve()}return f.prototype.toggleOj=function(){t(this.$ojFloat).toggleClass("minimise-oj")},f.prototype.initScroll=function(){this.nextBtn.addEventListener("click",function(){this.scrollTo(this.index+1),this.index<this.$images.length?this.trigger("next",{nav:"Click"}):this.trigger("reload")}.bind(this)),this.prevBtn.addEventListener("click",function(){this.scrollTo(this.index-1),this.index>1?this.trigger("prev",{nav:"Click"}):this.trigger("reload")}.bind(this)),this.$scrollEl[0].addEventListener("scroll",l(this.fadeContent.bind(this),20))},f.prototype.initSwipe=function(){var e,t,n,i,r=20;this.$imagesContainer.css("width",this.$images.length+"00%"),this.$galleryEl[0].addEventListener("touchstart",function(i){e=this.swipeContainerWidth*this.swipeThreshold,t=i.touches[0].pageX,n=0}.bind(this)),i=function(e){e.preventDefault(),e.touches.length>1||e.scale&&1!==e.scale||(n=e.touches[0].pageX-t,this.translateContent(this.index,n,r))}.bind(this),this.$galleryEl[0].addEventListener("touchmove",l(i,r,{trailing:!1})),this.$galleryEl[0].addEventListener("touchend",function(){var t;t=Math.abs(n)>e?n>e?1:-1:0,n=0,1===t?this.index>1?this.trigger("prev",{nav:"Swipe"}):this.trigger("reload"):t===-1&&this.index<this.$images.length?this.trigger("next",{nav:"Swipe"}):this.trigger("reload")}.bind(this))},f.prototype.ctaIndex=function(){var e=a.page.ctaIndex,t=a.page.images;return e>0&&e<t.length-1?e:void 0},f.prototype.trigger=function(e,t){this.fsm.trigger(e,t)},f.prototype.loadSurroundingImages=function(e,t){function n(e,t){a.imageRatios[t]||(a.imageRatios[t]=e[0].naturalWidth/e[0].naturalHeight),a.resizeImage.call(a,t)}var r,a=this;[0,1,2].map(function(n){return e+n===0?t-1:(e-1+n)%t}).forEach(function(e){r=i("img",this.$images[e]),r[0].complete?n(r,e):r[0].addEventListener("load",n.bind(this,r,e))},this)},f.prototype.resizeImage=function(e){function r(e,t,n){t=t||d,n=n||p;var i={height:n,width:t,topBottom:0,leftRight:0};return e?(e>t/n?(i.height=t/e,i.topBottom=(n-i.height)/2):(i.width=n*e,i.leftRight=(t-i.width)/2),i):i}var a=this.$images[e],o=this.$galleryFrame[0],s=this.$ctaFloat,c=this.$ojFloat,u=this.$meta,l=this.$images,d=o.clientWidth,p=o.clientHeight,f=i(".js-hosted-gallery-image-sizer",a),h=this.imageRatios[e],g=r(0),v=this.ctaIndex(),m=740,y=r(h);n.write(function(){f.css("width",y.width),f.css("height",y.height),f.css("top",y.topBottom),f.css("left",y.leftRight),e===v&&t(s).css("bottom",g.topBottom),e===l.length-1&&t(c).css("bottom",g.topBottom),e===l.length-1&&t(c).css("padding-bottom",g.topBottom>40||d>m?0:40),0===e&&t(u).css("padding-bottom",y.topBottom>40||d>m?20:40)})},f.prototype.translateContent=function(e,i,r){var a=-1*(e-1)*this.swipeContainerWidth,o=this.$imagesContainer[0],s=this.$meta;o.style.webkitTransitionDuration=r+"ms",o.style.mozTransitionDuration=r+"ms",o.style.msTransitionDuration=r+"ms",o.style.transitionDuration=r+"ms",o.style.webkitTransform="translate("+(a+i)+"px,0)translateZ(0)",o.style.mozTransform="translate("+(a+i)+"px,0)",o.style.msTransform="translate("+(a+i)+"px,0)",o.style.transform="translate("+(a+i)+"px,0)translateZ(0)",n.write(function(){t(s).css("opacity",0!=i?0:1)})},f.prototype.fadeContent=function(e){var i=this.$images.length,r=e.target.scrollTop,a=e.target.scrollHeight,o=Math.round(i*(r/a)*100)/100,s=o%1,c=Math.ceil(360*s),u=Math.round(o+.75),l=this.ctaIndex();n.write(function(){this.$images.each(function(e,n){var i=16*(o-n+1)/11-.0625;t(e).css("opacity",Math.min(Math.max(i,0),1))}),t(this.$border).css("transform","rotate("+c+"deg)"),t(this.$border).css("-webkit-transform","rotate("+c+"deg)"),t(this.$galleryEl).toggleClass("show-cta",o<=l&&o>=l-.25),t(this.$galleryEl).toggleClass("show-oj",o>=i-1.25),t(this.$progress).toggleClass("first-half",s&&s<.5),t(this.$meta).css("opacity",0!=o?0:1)}.bind(this)),u&&u!==this.index&&(this.index=u,this.trigger("reload",{nav:"Scroll"}))},f.prototype.scrollTo=function(e){var t=this.$scrollEl,i=this.$images.length,r=t[0].scrollHeight;n.write(function(){t.scrollTop((e-1)*r/i)})},f.prototype.states={image:{enter:function(){var e=this;this.loadSurroundingImages(this.index,this.$images.length),this.$captions.each(function(n,i){t(n).toggleClass("current-caption",e.index===i+1)}),t(this.$counter).html(this.index+"/"+this.$images.length),this.useSwipe&&(this.translateContent(this.index,0,100),t(this.$galleryEl).toggleClass("show-oj",this.index===this.$images.length),t(this.$galleryEl).toggleClass("show-cta",this.index===this.ctaIndex()+1));var n=a.page.pageName||window.location.pathname.substr(window.location.pathname.lastIndexOf("/")+1);o.pushUrl({},document.title,n+"#img-"+this.index,!0),u.on("window:throttledResize",this.resize)},leave:function(){this.trigger("hide-info"),u.off("window:throttledResize",this.resize)},events:{next:function(e){this.index<this.$images.length&&(this.index+=1,this.trackNavBetweenImages(e)),this.reloadState=!0},prev:function(e){this.index>1&&(this.index-=1,this.trackNavBetweenImages(e)),this.reloadState=!0},reload:function(e){this.trackNavBetweenImages(e),this.reloadState=!0},"toggle-info":function(){this.$captionContainer.toggleClass("hosted-gallery--show-caption")},"hide-info":function(){this.$captionContainer.removeClass("hosted-gallery--show-caption")},"show-info":function(){this.$captionContainer.addClass("hosted-gallery--show-caption")},resize:function(){this.onResize()}}}},f.prototype.trackNavBetweenImages=function(e){if(e&&e.nav){var t=a.page.trackingPrefix||"";d.trackNonClickInteraction(t+e.nav+" - image "+this.index)}},f.prototype.onResize=function(){this.resizer=this.resizer||function(){this.loadSurroundingImages(this.index,this.$images.length),this.useSwipe&&(this.swipeContainerWidth=this.$galleryFrame.dim().width,this.translateContent(this.index,0,0)),this.setPageWidth()}.bind(this),l(this.resizer,200)()},f.prototype.setPageWidth=function(){var e=this.$imagesContainer[0],t=this.$galleryEl[0],i=t.clientWidth,r=e.clientHeight,a=this.$header,o=this.$captionContainer,s=this.$galleryFrame,c=5/3,u=i,l=0,d=this;c<i/r&&(u=r*c,l=(i-u)/2+"px"),this.swipeContainerWidth=u,n.write(function(){a.css("width",u),o.css("margin","0 "+l),o.css("width","auto"),s.css("left",l),s.css("right",l),d.loadSurroundingImages(d.index,d.$images.length)})},f.prototype.handleKeyEvents=function(e){var t={37:"left",38:"up",39:"right",40:"down"};return 37===e.keyCode||38===e.keyCode?(e.preventDefault(),this.scrollTo(this.index-1),this.trigger("prev",{nav:"KeyPress:"+t[e.keyCode]}),!1):39===e.keyCode||40===e.keyCode?(e.preventDefault(),this.scrollTo(this.index+1),this.trigger("next",{nav:"KeyPress:"+t[e.keyCode]}),!1):void(73===e.keyCode&&this.trigger("toggle-info"))},f.prototype.loadAtIndex=function(e){this.index=e,this.trigger("reload"),this.useSwipe?this.translateContent(this.index,0,0):this.scrollTo(this.index)},{init:h,HostedGallery:f}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(59),n(58),n(23)],r=function(e,t,n,i){function r(){var r=document.querySelectorAll(".js-autoplay-placeholder");return r.length?t(e.page.ajaxUrl+"/"+e.page.pageId+"/autoplay.json",{mode:"cors"}).then(function(e){return n.write(function(){var t;for(t=0;t<r.length;t++)r[t].innerHTML=e.html})}):i.resolve()}return{init:r,load:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(7),n(59),n(58),n(533),n(23)],r=function(e,t,n,i,r,a){function o(o,s){o();var c=document.getElementsByClassName("js-onward-placeholder");return c.length?n(e.page.ajaxUrl+"/"+e.page.pageId+"/"+e.page.contentType.toLowerCase()+"/onward.json",{mode:"cors"}).then(function(e){return i.write(function(){var t;for(t=0;t<c.length;t++)c[t].insertAdjacentHTML("beforeend",e.html)})}).then(function(){r.init(),t.emit("hosted:onward:done")}).then(s):s(),a.resolve()}return{init:o,whenRendered:new a(function(e){t.on("hosted:onward:done",e)})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(759),n(532),n(27),n(190),n(22),n(60),n(194),n(195),n(193),n(192)],r=function(e,t,i,r,a,o,s,c,u,l,d){function p(){return o.isBreakpoint({min:"desktop"})}function f(e){e.loadingSpinner.contentEl().innerHTML=d}function h(e){r(".vjs-tech",e.el()).attr("aria-hidden",!0),r(".vjs-big-play-button",e.el()).attr("aria-hidden",!0),r(".vjs-current-time",e.el()).attr("aria-hidden",!0),r(".vjs-time-divider",e.el()).attr("aria-hidden",!0),r(".vjs-duration",e.el()).attr("aria-hidden",!0),r(".vjs-embed-button",e.el()).attr("aria-hidden",!0),r(".vjs-play-control",e.el()).attr("aria-label","video play"),r(".vjs-mute-control",e.el()).attr("aria-label","video mute"),r(".vjs-fullscreen-control",e.el()).attr("aria-label","video fullscreen")}function g(e,t){var n=e.getAttribute("data-media-id");b=t(e,u()),b.guMediaType="video",t.plugin("fullscreener",l),c.addContentEvents(b,n,b.guMediaType),c.bindGoogleAnalyticsEvents(b,window.location.pathname),b.ready(function(){v(this,n)}),i.init().then(function(){i.canAutoplay()&&(p()?(i.addCancelListener(),b&&b.one("timeupdate",i.triggerAutoplay.bind(this,b.currentTime.bind(b),parseInt(e.getAttribute("data-duration"),10)))):b&&b.one("ended",i.triggerEndSlate))})}function v(e,t){var n;f(e),h(e),n=e.volume(),n&&(e.volume(0),e.volume(n)),e.fullscreener(),a(function(){c.initOphanTracking(e,t),c.bindGlobalEvents(e),c.bindContentEvents(e)}),e.on("error",m)}function m(){var e=this,t=e.error();t&&"message"in t&&"code"in t&&s(new Error(t.message),{feature:"hosted-player",vjsCode:t.code},!1)}function y(i,a){i();var o=r(".vjs-hosted__video, video"),s=r(".js-hosted-youtube-video");return 0===s.length&&0===o.length?(a(),e.resolve()):(new e(function(e){n.e(4).then(function(t){e(n(526))}.bind(null,n)).catch(n.oe)}).then(function(){return new e(function(e){n.e(4).then(function(t){e(n(469))}.bind(null,n)).catch(n.oe)})}).then(function(e){o.each(function(t){g(t,e)}),s.each(t.init)}).then(a,a),e.resolve())}var b;return{init:y}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(532),n(236),n(237),n(27),n(22),n(7),n(223),n(83)],r=function(e,t,n,i,r,a,o,s){function c(){return o(["desktop","leftCol","wide"],r.getBreakpoint())}function u(e,t,i){var r=i/4,c={25:r,50:2*r,75:3*r};s(c,function(i,r){!o(d,r)&&t.getCurrentTime()>i&&(n.track(r,e),d.push(r),a.emit(r))})}function l(r){var a,o=i(r).data("media-id"),s=i(r).data("duration"),l=i(".js-youtube-current-time");n.init(o),t.init(r,{onPlayerStateChange:function(t){var i=t.target;if(t.data===window.YT.PlayerState.ENDED)n.track("end",o),l.text("0:00"),e.canAutoplay()&&(c()||e.triggerEndSlate());else{var r=Math.floor(i.getCurrentTime()),s=r%60,d=(r-s)/60;l.text(d+(s<10?":0":":")+s)}if(t.data===window.YT.PlayerState.PLAYING){n.track("play",o);var p=i.getDuration();a=setInterval(function(){u(o,i,p)},1e3)}else clearTimeout(a)},onPlayerReady:function(t){e.init().then(function(){e.canAutoplay()&&c()&&(e.addCancelListener(),e.triggerAutoplay(t.target.getCurrentTime.bind(t.target),s))})}},r.id)}var d=[];return{init:l}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(22),n(0),n(7),n(478),n(122),n(441),n(235),n(23)],r=function(e,t,n,i,r,a,o,s,c){function u(){i.on("modules:autoupdate:updates",h)}function l(){i.off("modules:autoupdate:updates",h)}function d(e,t){function n(n,a){return 0===a?(i=n,r=a,!t):a-r>=b&&Math.abs(n.top-i.top)>=e&&(i=n,r=a,!0)}var i,r;return t=!!t,{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:t,startAt:t?y:null,absoluteMinAbove:t?0:e*w,minAbove:0,minBelow:0,filter:n}}function p(e){for(var t=0;t<e.length&&k<_;t++){var n=v&&0===k?"top-above-nav":v?"inline"+k:"inline"+(k+1),i=o("inline",{name:n,classes:"liveblog-inline"});e[t].parentNode.insertBefore(i,e[t].nextSibling),r(i),k+=1}}function f(e){return s.fillSpace(e,p).then(function(t){t&&k<_?(y=document.querySelector(e.bodySelector+" > .ad-slot").previousSibling,u()):y=null})}function h(){l(),c.resolve(d(m,!0)).then(f)}function g(n,i){return n(),a.liveblogAdverts?(v="mobile"===t.getBreakpoint(),e.read(function(){return m=document.documentElement.clientHeight}).then(d).then(f).then(i),c.resolve()):(i(),c.resolve())}var v,m,y,b=5,w=1.5,_=8,k=0;return{init:g}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(248),n(13),n(58),n(394)],r=function(e,t,n,i){function r(i,r){if(!(i&&"backgroundImage"in i&&"backgroundRepeat"in i&&"backgroundPosition"in i&&"scrollType"in i))return null;var a=document.createElement("div");a.className="creative__background creative__background--"+i.scrollType,t(a.style,i);var o=document.createElement("div");if(o.className="creative__background-parent","backgroundColour"in i&&(o.style.backgroundColor=i.backgroundColour),o.appendChild(a),"fixed"===i.scrollType)return n.write(function(){r.insertBefore(o,r.firstChild)});var s=!1;return n.write(function(){r.insertBefore(o,r.firstChild)}).then(function(){function t(){s||(s=!0,n.read(function(){s=!1;var e=o.getBoundingClientRect(),t=(.3*e.top|0)+20;a.style.backgroundPositionY=t+"%"}))}e(window,"scroll",t,{passive:!0}),t()})}return i.register("background",function(e,t,n){return r(e,n.closest(".js-ad-slot"))}),r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(230),n(394)],r=function(e,t){function n(t,n){e.trackNativeAdLinkClick(t.id,n)}return t.register("click",function(e,t,i){return n(i.closest(".js-ad-slot")||{id:"unknown"},e)}),n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(394)],r=function(e){function t(e,t){if(!e||"string"!=typeof e.selector)return null;for(var i=0,r=t.length,a=[];i<r;){var o=t[i++];o.ownerNode&&o.ownerNode.matches&&o.ownerNode.matches(e.selector)&&("STYLE"===o.ownerNode.tagName?a.push(o.ownerNode.textContent):a.push(n.reduce.call(o.cssRules||[],function(e,t){return e+t.cssText},"")))}return a}var n=Array.prototype;return e.register("get-styles",function(e){return t(e,document.styleSheets)}),t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(13),n(58),n(394)],r=function(e,t,n){function i(n,i,a){if(!n||!("height"in n||"width"in n))return null;var o={};return n.width&&(o.width=r(n.width)),n.height&&(o.height=r(n.height)),t.write(function(){e(a.style,o),e(i.style,o)})}function r(e){var t=/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/,n="px",i=String(e).match(t);return i?i[1]+(void 0===i[2]?n:i[2]):null}return n.register("resize",function(e,t,n){return i(e,n,n.closest(".js-ad-slot"))}),i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(248),n(22),n(58),n(394)],r=function(e,t,n,i){function r(e){v=e||window,m="IntersectionObserver"in v,y=!1,b={},w=0}function a(e,t,n){t?o(n,e):s(n)}function o(t,i){0===w&&(e(v,"scroll",c,{passive:!0}),m&&(h=new v.IntersectionObserver(d))),b[t.id]={node:t,visible:!m,respond:i},w+=1,m&&h.observe(t),n.read(function(){return t.getBoundingClientRect()}).then(function(e){f(t.id,e)})}function s(e){b[e.id]&&(m&&h&&h.unobserve(e),b[e.id]=!1,w-=1),0===w&&(v.removeEventListener("scroll",c),m&&h&&(h.disconnect(),h=null))}function c(){if(!y){var e=t.getViewport();return y=!0,n.read(function(){y=!1;var t=Object.keys(b);m?g.map(l).forEach(function(e){f(e[0],e[1])}):t.map(l).filter(u,e).forEach(function(e){f(e[0],e[1])})})}}function u(e){return e[1].bottom>0&&e[1].top<this.height}function l(e){return[e,b[e].node.getBoundingClientRect()]}function d(e){g=e.filter(function(e){return e.intersectionRatio>0}).map(function(e){return e.target.id})}function p(e){return{width:e.width,height:e.height,top:e.top,bottom:e.bottom,left:e.left,right:e.right}}function f(e,t){b[e].respond(null,p(t))}var h,g,v=window,m="IntersectionObserver"in v,y=!1,b={},w=0;return i.register("scroll",a,{persist:!0}),{addScrollListener:o,removeScrollListener:s,reset:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(394)],r=function(e,t){function n(t,n){return e.write(function(){n.classList.add("ad-slot--"+t)})}return t.register("type",function(e,t,i){return n(e,i.closest(".js-ad-slot"))}),n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(22),n(58),n(394)],r=function(e,t,n){function i(e){d=e||window,h=!1,p={},f=0}function r(e,t,n){t?a(n,e):o(n)}function a(e,t){return 0===f&&d.addEventListener("resize",s),p[e.id]={node:e,respond:t},f+=1,u.then(function(){c.bind(l)(e.id)})}function o(e){p[e.id]&&(p[e.id]=!1,f-=1),0===f&&d.removeEventListener("resize",s)}function s(){if(!h)return h=!0,t.read(function(){return l=e.getViewport()}).then(function(e){Object.keys(p).forEach(c,e),h=!1})}function c(e){p[e].respond(null,this)}var u,l,d=window,p={},f=0,h=!1;return n.register("viewport",r,{persist:!0}),u=t.read(function(){l=e.getViewport()}),{addResizeListener:a,removeResizeListener:o,reset:i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(3),n(21),n(18)],r=function(e,t,n,i){function r(){var i=t(".adverts__more > summary");return n.on(document,"click",i,o),n.on(document,"click",i,a(o)),e.resolve()}function a(e){return function(t){32!==t.keyCode&&13!==t.keyCode||e(t)}}function o(e){var t=e.currentTarget,n=t.parentNode,r=t.querySelector(".js-button__label");n.hasAttribute("open")?i.write(function(){r.textContent="More "+t.getAttribute("data-text")}):i.write(function(){r.textContent="Less"})}return{init:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(0),n(443),n(122)],r=function(e,t,n,i){function r(){if(!i.paidforBand)return e.resolve(!1);var t=document.querySelector(".paidfor-band");return t&&new n(t).init(),e.resolve()}return{init:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(7),n(58),n(443),n(394),n(23)],r=function(e,t,n,i,r,a){function o(a){if("right"===a.getAttribute("data-name")){u=a;var o=document.querySelector(e.page.hasShowcaseMainElement?".media-primary":".content__article-body,.js-liveblog-body-content");o&&n.read(function(){return o[e.page.hasShowcaseMainElement?"offsetHeight":"offsetTop"]+a.offsetHeight}).then(function(e){return n.write(function(){a.parentNode.style.height=e+"px"})}).then(function(){if(l){var n=e.page.isPaidContent?{top:43}:{};c=new i(a,n),c.init(),r.register("resize",s)}t.emit("page:commercial:sticky-mpu")})}}function s(e,t,n){u.contains(n)&&(r.unregister("resize",s),c.updatePosition())}var c,u,l=document.documentElement.classList.contains("has-no-sticky");return o.whenRendered=new a(function(e){t.on("page:commercial:sticky-mpu",e)}),o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(248),n(0),n(22),n(58),n(234),n(122),n(233),n(394)],r=function(e,t,n,i,r,a,o,s,c){function u(t){return o.stickyTopBannerAd?(y=t||window,_=document.getElementById(E),_&&i.isBreakpoint({min:"desktop"})?(b=document.getElementById("header"),C=_.parentNode,l().then(d).then(p)):(_=null,e.resolve())):e.resolve()}function l(){return r.read(function(){return w=b.offsetHeight,_.offsetHeight}).then(function(t){return e.all([m(t),g()])})}function d(){c.register("resize",f),n.page.hasSuperStickyBanner||t(y,"scroll",g,{passive:!0})}function p(){a(E).then(function(e){if(e){var t=s(E);t&&t.size&&88!==t.size[0]&&t.size[1]>0?r.read(function(){var e=window.getComputedStyle(_);return parseInt(e.paddingTop)+parseInt(e.paddingBottom)+t.size[1]}).then(m):r.read(function(){return _.offsetHeight}).then(m)}})}function f(e,t,n){_.contains(n)&&(h(e.height),c.unregister("resize",f))}function h(e){return r.read(function(){return x||(x=y.getComputedStyle(_)),e+parseInt(x.paddingTop)+parseInt(x.paddingBottom)}).then(m)}function g(){if(I=y.pageYOffset,!A)return A=!0,r.write(function(){A=!1,w<I?(C.style.position="absolute",C.style.top=w+"px"):C.style.position=C.style.top=null}).then(v)}function v(){return r.write(function(){I<=w?(b.classList.add("l-header--animate"),C.classList.add("sticky-top-banner-ad--animate")):(b.classList.remove("l-header--animate"),C.classList.remove("sticky-top-banner-ad--animate"))})}function m(t){return k!==t?r.write(function(){return C.classList.add("sticky-top-banner-ad"),C.style.height=b.style.marginTop=t+"px",void 0!==k&&w<=I&&y.scrollBy(0,t-k),k=t,t}):e.resolve(-1)}var y,b,w,_,k,x,C,I,E="dfp-ad--top-above-nav",A=!1;return{init:u,update:h,resize:m,onScroll:g}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(58),n(27),n(36),n(133),n(597),n(252),n(256),n(254),n(251),n(226)],r=function(e,t,n,i,r,a,o,s,c,u,l){var d=function(e){this.config=e||{},this.id=this.config.id,this.prefs="overlay-messages",this.shouldClosePermanently=this.config.shouldClosePermanently||!1,this.bannerTmpl=i(a,{header:this.config.header,paragraph1:this.config.paragraph1,paragraph2:this.config.paragraph2,paragraph3:this.config.paragraph3,showCloseBtn:this.config.showCloseBtn,arrowWhiteRight:o.markup,marque36icon:s.markup,crossIcon:c.markup,paidContent:u.markup})};return d.prototype.attach=function(){return this.hasSeen()?e.resolve():t.write(function(){if(n(document.body).append(this.bannerTmpl),this.config.showCloseBtn){var e=document.querySelector(".js-survey-close");e.addEventListener("click",this.handleClick.bind(this))}}.bind(this))},d.prototype.handleClick=function(){n(".js-survey-overlay").addClass("u-h"),this.shouldClosePermanently&&this.closePermanently()},d.prototype.hasSeen=function(){var e=r.get(this.prefs);return e&&e.indexOf(this.id)>-1},d.prototype.closePermanently=function(){var e=r.get(this.prefs)||[];e.push(this.id),r.set(this.prefs,l(e))},d.prototype.show=function(){t.write(function(){n(".js-survey-overlay").removeClass("u-h")})},d}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(27),n(0),n(58),n(36),n(122),n(774),n(775),n(777),n(776),n(782),n(783),n(784),n(536),n(780),n(781),n(603)],r=function(e,t,n,i,r,a,o,s,c,u,l,d,p,f,h,g,v){function m(){function a(){var t=n.page.seriesId||n.page.blogIds?".js-outbrain-anchor":".js-related, .js-outbrain-anchor";return e.resolve(document.querySelector(t))}function o(e,n){a().then(function(n){return i.write(function(){t(n).after(s({widgetType:e}))})}).then(n)}var s=r(v),c=n.switches.plistaForOutbrainAu&&"au"===n.page.edition.toLowerCase();c?o("plista",g.init):o("outbrain",h.init)}function y(){return a.thirdPartyTags?(m(),b(),e.resolve(!0)):e.resolve(!1)}function b(){var e=[s,o,c,u,l,d,p,f].filter(function(e){return e.shouldRun});e.length&&w(e)}function w(e){for(var t=document.scripts[0],n=document.createDocumentFragment();e.length;){var i=e.shift();if(i.useImage)(new Image).src=i.url;else{var r=document.createElement("script");r.src=i.url,r.onload=i.onLoad,n.appendChild(r)}}t.parentNode.insertBefore(n,t)}return{init:y}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){var t="//js.revsci.net/gateway/gw.js?csid=F09828&auto=t&bpid=theguardian";return{shouldRun:"UK"===e.page.edition&&e.switches.audienceScienceGateway,url:t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(91)],r=function(e,t){function n(){var e=l[d],n=t.constructQuery({placementIdList:e.join(","),cb:(new Date).getTime()});return u+"?"+n}function i(){window.googletag.cmd.push(o,a)}function r(){var e=window.asiPlacements||{};return Object.keys(e).filter(function(t){return e[t].default}).map(function(e){return"pq_"+e})}function a(){r().forEach(s)}function o(){window.onAudienceScienceCreativeLoaded=function(){r().forEach(c)}}function s(e){window.googletag.pubads().setTargeting(e,"T")}function c(e){window.googletag.pubads().clearTargeting(e)}var u="//pq-direct.revsci.net/pql",l={sport:["FKSWod","2xivTZ","MTLELH"],football:["6FaXJO","ORE2W-","MTLELH"],lifeandstyle:["TQV1_5","J0tykU","kLC9nW","MTLELH"],technology:["9a9VRE","TL3gqK","MTLELH"],fashion:["TQV1_5","J0tykU","kLC9nW","MTLELH"],news:["eMdl6Y","mMYVrM","MTLELH"],default:["FLh9mM","c7Zrhu","Y1C40a","LtKGsC","MTLELH"]},d=l[e.page.section]?e.page.section:"default",p=n();return{shouldRun:"UK"===e.page.edition&&e.switches.audienceScienceGateway,url:p,reset:function(){d=l[e.page.section]?e.page.section:"default"},onLoad:i,getSegments:r}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(){var e={cid:"au-guardian",content:"0",server:"secure-gl"},t=nol_t(e);t.record().post()}var n="//secure-au.imrworldwide.com/v60.js";return{shouldRun:e.switches.imrWorldwide,url:n,onLoad:t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(){var t=e.page.section.toLowerCase(),n=i[t]||i["brand-only"],r=t in i?t:"The Guardian - brand only",a={sfcode:"dcr",apid:n,apn:"theguardian"},o=NOLCMB.getInstance(a.apid);o.ggInitialize(a);var s={type:"static",assetid:e.page.pageId,section:r};o.ggPM("staticstart",s)}var n="//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",i={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"};return{shouldRun:e.switches.imrWorldwide,url:n,onLoad:t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(779)],r=function(e){function t(t){return t.slot in n&&"defaults"!==t.slot?"nonCompliant"===t.slot?n.nonCompliant["wide"===t.breakpoint?"desktop":t.breakpoint]:n.merchandising["wide"===t.breakpoint?"desktop":t.breakpoint]:n.defaults[e(t.section)]["wide"===t.breakpoint?"desktop":t.breakpoint]}var n={defaults:{news:{mobile:{code:"MB_4"},desktop:{image:"AR_12",text:"AR_14"},tablet:{image:"MB_6",text:"MB_8"}},defaults:{mobile:{code:"MB_5"},desktop:{image:"AR_13",text:"AR_15"},tablet:{image:"MB_7",text:"MB_9"}}},merchandising:{mobile:{code:"MB_10"},desktop:{code:"AR_28"},tablet:{code:"MB_11"}},nonCompliant:{mobile:{code:"MB_10"},desktop:{code:"AR_28"},tablet:{code:"MB_11"}}};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(){function e(e){return e=e.toLowerCase(),/news/.test(e)||t.indexOf(e)!==-1?"news":"defaults"}var t=["politics","world","business","commentisfree"];return e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(23),n(58),n(27),n(0),n(22),n(36),n(527),n(778),n(595),n(225),n(259),n(42)],r=function(e,t,n,i,r,a,o,s,c,u,l,d){function p(e,t){var n=C({widgetCode:e.code||e.image});return"mobile"!==t&&e.text&&(n+=C({widgetCode:e.text})),n}function f(e){var t,a,c=e in I?e:"defaults",l=n(I.outbrain.widget),d=n(I.outbrain.container,l[0]),f=r.getBreakpoint();if(t=s({slot:c,section:i.page.section,breakpoint:f}),a=p(t,f),d.length)return o.insert(d[0],function(){"merchandising"===c&&n(I[c].widget).replaceWith(l[0]),d.append(a),l.css("display","block")}).then(function(){E.tracking({widgetId:t.code||t.image}),u(x)})}function h(e){d.record({outbrain:e})}function g(){return r.adblockInUse.then(function(e){return!document.getElementById("dfp-ad--merchandising-high")||e})}function v(t){return t?(E.tracking({state:"outbrainDisabled"}),e.resolve()):g().then(m)}function m(e){return e?l.waitForCheck("isOutbrainNonCompliant").then(y):l.waitForCheck("isOutbrainBlockedByAds").then(b)}function y(t){return t?E.load("nonCompliant"):E.load(),E.tracking({state:t?"nonCompliant":"compliant"}),e.resolve()}function b(t){return t?(E.tracking({state:"outbrainBlockedByAds"}),e.resolve()):l.waitForCheck("isOutbrainMerchandiseCompliant").then(w)}function w(t){return t?(E.load("merchandising"),E.tracking({state:"outbrainMerchandiseCompliant"}),e.resolve()):l.waitForCheck("isOutbrainNonCompliant").then(y)}function _(){return l.waitForCheck("isOutbrainDisabled").then(v);
}function k(){return _()}var x="//widgets.outbrain.com/outbrain.js",C=a(c),I={outbrain:{widget:".js-outbrain",container:".js-outbrain-container"},merchandising:{widget:".js-container--commercial",container:".js-outbrain-container"},nonCompliant:{widget:".js-outbrain",container:".js-outbrain-container"}},E={load:f,tracking:h,init:k};return E}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(23),n(18),n(27),n(0),n(22),n(36),n(234),n(122),n(596),n(225)],r=function(e,t,n,i,r,a,o,s,c,u){function l(){return r.adblockInUse.then(function(e){return!document.getElementById("dfp-ad--merchandising-high")||e})}function d(e,t,i,r,a){var o="PLISTA_"+e,s=window[o],c=n(g.container);c.append(h({widgetName:t})),c.css("display","block"),s&&s.publickey?s.widgets.push({name:t,pre:r}):(window[o]={publickey:e,widgets:[{name:t,pre:r}],geo:i,categories:a,dataMode:"data-display"},u("//static-au.plista.com/async/"+o+".js"))}function p(){t.write(function(){d(i.page.plistaPublicApiKey,"innerArticle","au")})}function f(){return s.outbrain?l().then(function(e){return e?void v.load():o("dfp-ad--merchandising-high").then(function(e){e||v.load()})}):e.resolve(!1)}var h=a(c),g={container:".js-plista-container"},v={load:p,init:f};return v}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(){window.google_trackConversion({google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})}var n="//www.googleadservices.com/pagead/conversion_async.js";return{shouldRun:e.switches.remarketing,url:n,onLoad:t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0),n(222)],r=function(e,t){var n=!e.page.isFront&&e.switches.simpleReach&&"US"===e.page.edition&&e.page.isPaidContent,i="";if("opt-in"===t.getTestVariantId("SimpleReach")&&n){var r=e.page.author.split(","),a=e.page.sectionName.split(","),o=e.page.keywords.split(",");window.__reach_config={pid:"000000000000000000000000",title:e.page.headline,date:new Date(e.page.webPublicationDate),authors:r,channels:a,tags:o,article_id:e.page.pageId,ignore_errors:!1},i="//d8rk54i4mohrb.cloudfront.net/js/reach.js"}return{shouldRun:n,url:i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(0)],r=function(e){function t(t){var n="partner:guardian-uk",i=e.page.isDev?"tuata-dev-internal":"tuatourism-australia-global",r=n+":"+t.pathname,a=t.hostname,o=t.href,s=(new Date).getTime();return"//tourismaustralia.sc.omtrdc.net/b/ss/"+i+"/1/H.26.2/s"+s+"?AQB=1&ndh=0&ns=tourismaustralia&pageName="+encodeURIComponent(r)+"&g= "+encodeURIComponent(o)+"&server="+encodeURIComponent(a)+"&v11="+encodeURIComponent(n)+"&AQE=1"}return{shouldRun:"ashes-australia-travel"===e.page.section&&e.switches.tourismAustralia,url:t(window.location),useImage:!0}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(3),n(18),n(137),n(0),n(22)],r=function(e,t,n,i,r){function a(e){t.write(function(){var t=document.querySelector("#"+e+">.ad-slot__label");t&&t.classList.add("feedback-submitted")})}return function(e,t,o,s,c){var u="https://j2cy9stt59.execute-api.eu-west-1.amazonaws.com/prod/adFeedback",l=i.page.isProd?"PROD":"CODE",d=r.getUserAgent,p=r.getBreakpoint(),f={stage:l,page:e,adSlotId:t,creativeId:o.sourceAgnosticCreativeId.toString(),lineId:o.sourceAgnosticLineItemId.toString(),feedback:s,comment:c,browser:d.browser.toString()+d.version.toString(),breakPoint:p};return n(u,{method:"post",body:JSON.stringify(f),mode:"cors"}).then(a.bind(this,t),a.bind(this,t))}}.apply(t,i),!(void 0!==r&&(e.exports=r))}]);
//# sourceMappingURL=graun.commercial.js.map